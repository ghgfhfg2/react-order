{"version":3,"sources":["redux/actions/types.js","firebaseConfig.js","firebase.js","component/CommonFunc.js","component/OrderModal.js","component/Nav.js","component/Join.js","component/Admin/ModifyModal.js","component/Login.js","component/Admin/ImgUpload.js","component/Admin/AdminProd.js","component/Loading.js","component/Timer.js","component/Menu.js","jumun.mp3","jumun2.mp3","jumun3.mp3","jumun4.mp3","pling.mp3","dding.mp3","alert.mp3","component/Admin/AdminOrder.js","component/MyOrder.js","component/MyMenu.js","component/Admin/AdminOrderList.js","component/Admin/LunchAdmin.js","component/Research/Research.js","component/Research/ResearchWrite.js","component/Signature.js","component/Research/ResearchView.js","component/LunchCheck.js","img/logo_2021_fall_pc.png","img/logo_2021_fall.png","component/Test.js","component/Admin/UserAdmin.js","component/hair/Hair.js","component/Admin/HairAdmin.js","component/Admin/AdminProdCount.js","component/Research/ResearchModify.js","component/Research/ResearchTemp.js","App.js","redux/actions/user_action.js","reportWebVitals.js","redux/reducers/user_reducer.js","redux/reducers/index.js","index.js"],"names":["SET_USER","CLEAR_USER","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","firebase","initializeApp","old","databaseURL","commaNumber","x","toString","replace","getFormatDate","date","year","getFullYear","month","getMonth","og_month","day","getDate","og_day","weeek","getDay","hour","getHours","min","getMinutes","sec","getSeconds","notify","msg","notification","Notification","body","setTimeout","close","OderModalPopup","styled","div","props","posx","posy","Option","Select","OrderModal","onFinished","OrderItem","userInfo","useSelector","state","user","currentUser","useState","UserDb","setUserDb","UserPhone","setUserPhone","useEffect","database","ref","child","uid","once","snapshot","val","then","call_number","hotRadio","Amount","setradioValue","radioChange","e","target","value","setradioValue2","radioChange2","AddCheck","setAddCheck","AddCheck2","setAddCheck2","hot","type","name","id","onChange","className","htmlFor","checked","ProdOption","setProdOption","submitLoading","setsubmitLoading","onSubmitOrder","a","preventDefault","auth","includes","window","alert","jaego","nowTime","moment","format","timeStamp","Date","getTime","curTime","limit","hasOwnProperty","time","timestamp","full","update","addPrice","values","order_uid","order_email","email","order_name","displayName","order_part","photoURL","order_time","order_etc","etc","order_state","order_phone","prod_uid","prod_name","prod_option","prod_img","image","price","amount","parseInt","kal","milk","add","add2","category","transaction","pre","uuid","set","message","success","style","padding","onSubmit","border","option","width","split","map","el","idx","defaultChecked","m_soldout","m_soldout2","marginTop","flexDirection","Group","checkedValues","b_soldout","disabled","htmlType","marginRight","onClick","position","height","background","borderRadius","tip","SubMenu","Menu","BlackBg","Nav","useDispatch","photoUrl","firebaseUserInfo","emailVerified","current","setCurrent","handleClick","key","setLeftMenu","LeftMenu","InfoPop","setInfoPop","onMenuHandler","onLogout","signOut","timeDiff","AbleTime","setAbleTime","CurAbleTime","setCurAbleTime","TimeChange","setTimeChange","timeRef","useRef","currentDay","currentTime","currentTimeNum","mounted","on","able","ableKeys","Object","keys","newAble","i","length","ableTimeStart","ableTimeEnd","disableTimeStart","disableTimeEnd","lunchTimeStart","lunchTimeEnd","breakTimeStart","breakTimeEnd","off","onSubmitInfo","sosok","part","updateProfile","call_num","isNaN","phoneNumber","catch","error","console","to","top","left","marginBottom","defaultValue","hidden","cursor","fontWeight","marginLeft","theme","defaultOpenKeys","selectedKeys","mode","Item","role","title","icon","class","display","alignItems","justifyContent","Join","useForm","register","handleSubmit","watch","errors","errorFromSubmit","setErrorFromSubmit","loading","setLoading","password","data","createUserWithEmailAndPassword","createdUser","InputName","setInputName","InputEmail","setInputEmail","InputPhone","setInputPhone","InputPw","setInputPw","InputPw2","setInputPw2","required","pattern","color","fontSize","paddingLeft","minLength","maxLength","for","validate","password2","FileLabel2","label","ModalPopup","ModifyModal","puid","pimg","radioValue","radioValue2","ProdItem","setProdItem","Soldout","setSoldout","SoldoutToggle","soldout","onSubmitProd2","MilkCheck","LimitCheck","sort_num","ImgFile2","file","metadata","storage","put","uploadTaskSnapshot","getDownloadURL","downloadURL","setImgFile2","ProdImg2","setProdImg2","setMilkCheck","setLimitCheck","files","reader","FileReader","onload","event","result","readAsDataURL","src","alt","lineHeight","checkedChildren","unCheckedChildren","Login","signInWithEmailAndPassword","PwChangeInput","setPwChangeInput","PwModal","setPwModal","onPwModal","href","textAlign","placeholder","emailAddress","log","sendPasswordResetEmail","FileLabel","ImgUpload","onImgFile","ProdImg","setProdImg","ProdList","AdminProd","ItemChange","setItemChange","CateRadio","setCateRadio","MilkSoldout","setMilkSoldout","MilkSoldoutToggle","MilkSoldout2","setMilkSoldout2","MilkSoldoutToggle2","push","array","forEach","item","filter","ImgFile","setImgFile","onSubmitProd","Puid","setPuid","Pimg","setPimg","OnModal","setOnModal","PosX","setPosX","PosY","setPosY","onProdDelete","delConfirm","confirm","remove","ProdRegist","setProdRegist","TimeRegist","setTimeRegist","margin","RangePicker","maxWidth","size","time1_1","document","querySelectorAll","time1_2","time2_1","time2_2","time3_1","time3_2","time4_1","time4_2","onFinish","rules","Button","valuePropName","buttonStyle","index","img","clientX","clientY","onProdModify","Loading","Timer","mm","ss","onTimeOut","minutes","setMinutes","seconds","setSeconds","countdown","setInterval","clearInterval","Search","Input","_","require","curDate","ProdItemCopy","setProdItemCopy","lunchCheckBox","TimeOut","setTimeOut","curSec","Math","floor","calcSec","restMin","restSec","searchInput","setSearchInput","SearchAgain","setSearchAgain","TodayLunchCheck","setTodayLunchCheck","ItemList","setItemList","ModifyState","setModifyState","arr","lunchCheck","favorItem","add_favor","orderByChild","newFavorItem","favor","sort","b","getProdItem","cloneDeep","cho","Hangul","reduce","prev","elem","diassembled","concat","search","join","setOrderItem","orderHandler","tagName","TopBox","allowClear","enterButton","onSearch","LunchPop","setLunchPop","list","l_idx","data-value","onConfrim","dataset","zIndex","opacity","currentTarget","classList","toggle","onToggleFavor","textDecoration","paddingTop","description","Empty","PRESENTED_IMAGE_SIMPLE","OrderBox","AdminOrder","SoundSelect","setSoundSelect","Sound","Howl","OrderList","setOrderList","endAt","OrderCount","setOrderCount","play","sound","src1","src2","src3","src4","src5","src6","src7","newData","url","open","kakaoSend","DatePicker","MyOrder","Nodata","setNodata","StartDate","setStartDate","EndDate","setEndDate","ReRender","setReRender","equalTo","date2","order_date","slice","_d","content","trigger","MyMenu","FavorItem","setFavorItem","AddFavorItem","setAddFavorItem","SortItem","setSortItem","favorName","startAt","count","assignArr","assign","addFavor","addFavorName","getFavorItem","closest","borderBottomRightRadius","AdminOrderList","SelectDay","setSelectDay","LastDay","setLastDay","PrevDay","setPrevDay","SumAmount","setSumAmount","SumPrice","setSumPrice","Add1Count","setAdd1Count","Add2Count","setAdd2Count","SumAddAmount","setSumAddAmount","prevDayIndex","indexOf","sumA","sumP","add1C","add2C","c","find","og_price","scope","colSpan","TextArea","LunchAdmin","CheckInfoTxt","setCheckInfoTxt","TblItem","setTblItem","CheckList","setCheckList","ItemSum","setItemSum","SearchDate","setSearchDate","CheckLength","setCheckLength","Ruser","setRuser","NonChecker","setNonChecker","Render","setRender","Filter","setFilter","DefaultImg","setDefaultImg","r_user","itemArr","itemObj","listDate","elItemArr","checkList","nonChecker","checker","allName","uploadImg","originFileObj","uploadURL","info","check_info_txt","ModifyData","setModifyData","ModifyCheck","setModifyCheck","onModifyCheck","onModifyClose","setuploadImg","onImgUpload","onImgRemove","listAll","dir","_delegate","items","path","_location","path_","delete","fileList","status","listType","onRemove","UploadOutlined","disabledDate","dateString","full_","onModify","itemList","onModifySubmit","Research","ResearchList","setResearchList","member_check","alba","intern","limit_start","limit_end","pathname","ResearchWrite","TotalUser","setTotalUser","TempList","setTempList","userArr","btnToList","DateLimitState","setDateLimitState","finishDataSave","upload","getImg","getImgUrl","option_list","member","secret","time_limit","temp","click","listLength","option_photo","option_a","option_type","urlArr","photo","TypeState","setTypeState","normFile","Array","isArray","onSelectChange","onMember","setonMember","TempState","setTempState","autoComplete","options","optionType","List","fields","fieldKey","restField","align","MinusCircleOutlined","block","PlusOutlined","getValueFromEvent","span","showTime","subtract","sigPad","Signature","w","h","onSigpad","outerWidth","canvas","getElementById","SignaturePad","backgroundColor","onEnd","toDataURL","clear","ResearchView","ResearchViewInfo","setResearchViewInfo","ResultList","setResultList","Rerender","setRerender","MyResearch","setMyResearch","sigPadData","setSigPadData","location","resultArr","optionValues","sign","getResearch","ResultOpen","setResultOpen","Again","setAgain","columns","dataIndex","render","Refesh","setRefesh","option_q","_idx","pagination","dataSource","LunchCheck","weekNum","setDate","curWeekArr","pop","shift","prevWeekArr","n","nextWeekArr","j","weekList","weekList2","weekList3","setUserList","ItemInfo","setItemInfo","PrevState","setPrevState","CurState","setCurState","NextState","setNextState","LunchImg","setLunchImg","LunchImgVisible","setLunchImgVisible","data-date","week","onTodayCheck","visible","footer","centered","onCancel","check","querySelector","Test","UserAdmin","addEventListener","parentElement","stopPropagation","deleteUser","ModifyPop","pageSize","rowKey","transform","Hair","MyHairData","setMyHairData","HairInfo","setHairInfo","hairArr","startDate","substr","endDate","str","setModifyPop","modifyOff","text","row","yearMonth","onDelete","signature","putString","res","user_uid","prefix","picker","relation","service","HairAdmin","MetreeData","setMetreeData","FoodkingData","setFoodkingData","TotalPrice","setTotalPrice","MeTotalPrice","setMeTotalPrice","FdTotalPrice","setFdTotalPrice","TypeTotalPrice","setTypeTotalPrice","PersnalData","setPersnalData","TotalPersnalData","setTotalPersnalData","MePersonalData","setMePersonalData","FdPersonalData","setFdPersonalData","HairData","setHairData","excelData","setExcelData","excelDataCopy","setExcelDataCopy","totalPrice","meTotalPrice","fdTotalPrice","personalArr","obj","personalObj","personalPrice","dateArr","relArr","serArr","priceArr","total_price","mePersnalArr","fdPersnalArr","metreeArr","foodkingArr","excelArr","sosokType","setsosokType","sorter","compare","multiple","txt","thisDate","flex","borderBottom","borderTop","rowSpan","headers","filename","AdminProdCount","onProdJaego","ResearchModify","setOnMember","uploadArr","newUid","initialValues","ResearchTemp","Sider","Layout","Content","Header","App","navigator","platform","toLowerCase","requestPermission","history","useHistory","dispatch","isLoading","onAuthStateChanged","addInfo","favorite","payload","setUser","TopFix","setTopFix","TopFixLeft","setTopFixLeft","handleScroll","scrollTop","documentElement","removeEventListener","Logo_PC","Logo","exact","component","shape","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","initState","action","rootReducer","combineReducers","createStoreWithMiddleware","applyMiddleware","promiseMiddleware","ReduxThunk","createStore","ReactDOM","StrictMode","store","Reducer","__REDUX_DEVTOOLS_EXTENSION__"],"mappings":"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","file":"static/js/main.00672199.chunk.js","sourcesContent":["//USER TYPES\nexport const SET_USER = \"set_user\";\nexport const CLEAR_USER = \"clear_user\";\n","export const firebaseConfig = {\r\n    apiKey: \"AIzaSyCEyTRsaYeSg_dz7UVdnuEEMgZxBTTHzIY\",\r\n    authDomain: \"cafe-order-226e3.firebaseapp.com\",\r\n    projectId: \"cafe-order-226e3\",\r\n    storageBucket: \"cafe-order-226e3.appspot.com\",\r\n    messagingSenderId: \"676427099091\",\r\n    appId: \"1:676427099091:web:0a90da4aef819f4b1f5d26\",\r\n    measurementId: \"G-RHK1VSB0WX\",\r\n  };","import firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport \"firebase/database\";\nimport \"firebase/storage\";\nimport {firebaseConfig} from \"./firebaseConfig\"\n\n// Your web app's Firebase configuration\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\n\n// Initialize Firebase\nfirebase.initializeApp(firebaseConfig);\nexport const old = firebase.initializeApp({\n  ...firebaseConfig,\n  databaseURL: \"https://cafe-order-226e5.firebaseio.com/\"\n}, 'old');\n//firebase.analytics();\n\nexport default firebase;\n","export const commaNumber = (x) => {\r\n    return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\r\n}\r\n\r\nexport const getFormatDate = (date) => {\r\n    let year = date.getFullYear();\r\n    let month = date.getMonth() + 1;\r\n    month = month >= 10 ? month : '0' + month;\r\n    let og_month = date.getMonth();\r\n    let day = date.getDate();\r\n    day = day >= 10 ? day : '0' + day;    \r\n    let og_day = date.getDate();\r\n    let weeek = date.getDay();\r\n    let weekArr = ['일','월','화','수','목','금','토'];\r\n    let hour = date.getHours();\r\n    hour = hour >= 10 ? hour : '0' + hour; \r\n    let min = date.getMinutes();\r\n    min = min >= 10 ? min : '0' + min; \r\n    let sec = date.getSeconds();\r\n    let obj = {\r\n        'year':year,\r\n        'month':month,\r\n        'day':day,\r\n        'og_month':og_month,\r\n        'og_day':og_day,\r\n        'week':weekArr[weeek],\r\n        'weekNum':weeek,\r\n        'hour':hour,\r\n        'min':min,\r\n        'sec':sec,\r\n        'full': year + '' + month + '' + day,\r\n        'full_': year + '-' + month + '-' + day\r\n    }\r\n\r\n    return obj;  \r\n}\r\n\r\nexport const getNotificationPermission = () => {\r\n    // 브라우저 지원 여부 체크\r\n    if (!(\"Notification\" in window)) {\r\n        alert(\"데스크톱 알림을 지원하지 않는 브라우저입니다.\");\r\n    }\r\n    // 데스크탑 알림 권한 요청\r\n    Notification.requestPermission();\r\n}\r\n\r\n// 알림 띄우기\r\nexport function notify(msg) {\r\n    var options = {\r\n        body: msg\r\n    }\r\n    var notification = new Notification(\"주문알림\", options);\r\n    \r\n    setTimeout(function(){\r\n        notification.close();\r\n    }, 3000);\r\n  }","import React, { useEffect, useState } from \"react\";\nimport { Button, Input, Checkbox, Spin, Select,message } from \"antd\";\nimport { PlusOutlined, MinusOutlined } from \"@ant-design/icons\";\nimport styled from \"styled-components\";\nimport { useSelector } from \"react-redux\";\nimport firebase from \"../firebase\";\nimport moment from \"moment\";\nimport { getFormatDate } from \"./CommonFunc\";\nimport \"moment/locale/ko\";\nimport uuid from \"react-uuid\";\nexport const OderModalPopup = styled.div`\n  width: auto;\n  min-width:290px;\n  padding: 20px;\n  border: 1px solid #ddd;\n  position: fixed;\n  z-index: 150;\n  border-radius: 10px;\n  background: #fff;\n  transform: translate(-50%, -70%);\n  left: ${(props) => props.posx}px;\n  top: ${(props) => props.posy}px;\n  animation: fade_up 0.3s both;\n  box-shadow: 0px 0px 7px 0px rgba(0, 0, 0, 0.25);\n  .modal-loading {\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n  }\n  @keyframes fade_up {\n    from {\n      opacity: 0;\n      transform: translate(-50%, -60%);\n    }\n    to {\n      opacity: 1;\n      transform: translate(-50%, -70%);\n    }\n  }  \n  @media all and (max-width: 640px) {\n    width: 80%;\n    max-width: 300px;\n    left: 50%;\n    transform: translate(-50%, -100%);\n  }\n  .num {\n    width: 40px;\n    text-align: center;\n    margin: 0 -1px;\n  }\n  .tit {\n    display: inline-block;\n    margin-right: 5px;\n    flex-shrink: 0;\n  }\n  .btn-box {\n    margin-top: 10px;\n    display: flex;\n    justify-content: center;\n    button {\n      width: 100px;\n    }\n  }\n`;\nconst { Option } = Select;\n\nfunction OrderModal({ posx, posy, onFinished, OrderItem }) {\n  const userInfo = useSelector((state) => state.user.currentUser);\n  const [UserDb, setUserDb] = useState();\n  const [UserPhone, setUserPhone] = useState()\n  useEffect(() => {\n    if (userInfo) {\n      firebase\n      .database()\n      .ref(\"users\")\n      .child(userInfo.uid)\n      .once(\"value\", (snapshot) => {\n        setUserDb(snapshot.val());\n      });\n    }\n    firebase\n    .database()\n    .ref(`users/${userInfo.uid}`)\n    .once(\"value\")\n    .then((snapshot) => {            \n      setUserPhone(snapshot.val().call_number)\n    });\n  }, [])\n  const [Amount, setAmount] = useState(1);\n  const plusAmount = () => {\n    if (Amount < 10) {\n      setAmount((pre) => pre + 1);\n    } else {\n      alert(\"최대 주문량은 10개 입니다.\");\n    }\n  };\n  const minusAmount = () => {\n    if (Amount > 1) {\n      setAmount((pre) => pre - 1);\n    } else {\n      alert(\"최소 주문량은 1개 입니다.\");\n    }\n  };\n  const onCancel = () => {\n    onFinished();\n  };\n\n  const [radioValue, setradioValue] = useState();\n  const radioChange = (e) => {\n    setradioValue(e.target.value);\n  };\n  const [radioValue2, setradioValue2] = useState('저지방');\n  const radioChange2 = (e) => {\n    setradioValue2(e.target.value);\n  };  \n\n  const [AddCheck, setAddCheck] = useState();\n  function onChange(checkedValues) {\n    setAddCheck(checkedValues);\n  }\n\n  const [AddCheck2, setAddCheck2] = useState();\n  function onChange2(checkedValues) {\n    setAddCheck2(checkedValues);\n  }\n\n  let hotRadio;\n  if (OrderItem.hot === \"hot & ice\") {\n    hotRadio = (\n      <>\n        <input\n          type=\"radio\"\n          name=\"hot\"\n          id=\"hot\"\n          value=\"hot\"\n          onChange={radioChange}\n        />\n        <label className=\"radio_hot\" htmlFor=\"hot\">\n          hot\n        </label>\n        <input\n          type=\"radio\"\n          id=\"ice\"\n          name=\"hot\"\n          value=\"ice\"\n          onChange={radioChange}\n        />\n        <label className=\"radio_ice\" htmlFor=\"ice\">\n          ice\n        </label>\n      </>\n    );\n  }\n  if (OrderItem.hot === \"hot only\") {\n    hotRadio = (\n      <>\n        <input\n          type=\"radio\"\n          id=\"hot\"\n          name=\"hot\"\n          value=\"hot\"\n          checked\n          onChange={radioChange}\n        />\n        <label className=\"radio_hot\" htmlFor=\"hot\">\n          hot only\n        </label>\n      </>\n    );\n  }\n  if (OrderItem.hot === \"ice only\") {\n    hotRadio = (\n      <>\n        <input\n          type=\"radio\"\n          id=\"ice\"\n          name=\"hot\"\n          value=\"ice\"\n          checked\n          onChange={radioChange}\n        />\n        <label className=\"radio_ice\" htmlFor=\"ice\">\n          ice only\n        </label>\n      </>\n    );\n  }\n\n  // submit\n  const [ProdOption, setProdOption] = useState();\n  const onOptionChange = (e) => {\n    setProdOption(e);\n  }\n  const [submitLoading, setsubmitLoading] = useState(false);\n  const onSubmitOrder = async (e) => {\n    e.preventDefault();\n    \n    if(userInfo?.auth && userInfo.auth.includes('disable')){\n      window.alert(\"주문이 불가능 합니다.\")\n      return;\n    }    \n    if(OrderItem.jaego === 0){\n      window.alert(\"재고가 부족합니다.\")\n      return\n    }\n       \n    setsubmitLoading(true);\n    const nowTime = moment().format(\"YYYY-MM-DD HH:mm:ss|dddd\");\n    const timeStamp = new Date().getTime();\n    const curTime = getFormatDate(new Date());\n    \n    if(OrderItem.limit && UserDb.limit){\n      if(UserDb.limit.hasOwnProperty(OrderItem.name)){\n        let time = UserDb.limit[OrderItem.name].timestamp\n        time = getFormatDate(new Date(time));        \n        if(curTime.full === time.full){\n          window.alert(\"하루에 한번만 주문 가능합니다.\");\n          onFinished();\n          setsubmitLoading(false);\n          return;\n        }else{\n          firebase\n          .database()\n          .ref(\"users\")\n          .child(`${userInfo.uid}/limit/${OrderItem.name}`)\n          .update({\n            timestamp:timeStamp,      \n          })\n        } \n      }else{\n        firebase\n        .database()\n        .ref(\"users\")\n        .child(`${userInfo.uid}/limit/${OrderItem.name}`)\n        .update({\n          timestamp:timeStamp,      \n        })  \n      }\n    }else if(OrderItem.limit){\n      firebase\n      .database()\n      .ref(\"users\")\n      .child(`${userInfo.uid}/limit/${OrderItem.name}`)\n      .update({\n        timestamp:timeStamp,      \n      })           \n    }\n\n    if (e.target.hot && !e.target.hot.value) {\n        alert(\"온도를 선택해주세요\");\n        setsubmitLoading(false);\n        return;\n    }\n    let addPrice = 0;\n\n    if (AddCheck2) {\n      if (AddCheck2.includes(\"샷1\")) {\n        addPrice += 500;\n      }\n      if (AddCheck2.includes(\"샷2\")) {\n        addPrice += 1000;\n      }\n    }\n    if (AddCheck) {\n      addPrice += 500;\n    }\n    let values = {\n      order_uid: userInfo.uid,\n      order_email: userInfo.email,\n      order_name: userInfo.displayName,\n      order_part: userInfo.photoURL,\n      order_time: nowTime,\n      order_etc: e.target.etc.value,\n      order_state: 0,\n      order_phone:UserPhone,\n      prod_uid: OrderItem.uid,\n      prod_name: OrderItem.name,\n      prod_option: ProdOption ? ProdOption : \"\",\n      prod_img: OrderItem.image,\n      price: OrderItem.price * e.target.amount.value + addPrice,\n      amount: parseInt(e.target.amount.value),\n      kal: parseInt(OrderItem.kal),\n      hot: e.target.hot ? e.target.hot.value : \"\",\n      milk: e.target.milk ? e.target.milk.value : \"\",\n      add: AddCheck ? AddCheck : null,\n      add2: AddCheck2 ? AddCheck2 : null,\n      category: OrderItem.category,\n      timestamp: timeStamp,      \n    };\n\n    try {\n      await firebase\n      .database()\n      .ref(\"products\")\n      .child(`${OrderItem.uid}`)\n      .transaction((pre) => {\n        if(pre.jaego){\n          pre.jaego--;\n          return pre;\n        }\n      });\n      await firebase\n        .database()\n        .ref(\"products\")\n        .child(`${OrderItem.uid}/count`)\n        .transaction((pre) => {\n          return pre + 1;\n        });\n      await firebase\n        .database()\n        .ref(\"users\")\n        .child(`${userInfo.uid}/favorite/${OrderItem.name}`)\n        .child(\"count\")\n        .transaction((pre) => {\n          return pre + 1;\n        });\n       \n      await firebase\n        .database()\n        .ref(\"order\")\n        .child(uuid())\n        .set({\n          ...values,\n        });\n      await firebase\n        .database()\n        .ref(\"order_count\")\n        .transaction((pre) => {\n          return pre + 1;\n        });\n        message.success('주문에 성공했습니다 :)');  \n      onFinished();\n      setsubmitLoading(false);\n    } catch (error) {\n      alert(error);\n    }\n  };\n\n  return (\n    <>\n      <OderModalPopup\n        className=\"ani-fadein du-1\"\n        posx={posx}\n        posy={posy}\n        style={{ padding: \"12px 15px 15px 15px\" }}\n      >\n        <form className=\"order-form-box\" onSubmit={onSubmitOrder}>\n          <h4>{OrderItem.name}</h4>\n          <div className=\"flex-box a-center\">\n            <span className=\"tit\">수량</span>\n            {/* <Button\n              onClick={minusAmount}\n              icon={<MinusOutlined />}\n              type=\"default\"\n            ></Button> */}\n            <Input className=\"num\" name=\"amount\" style={{border:\"none\"}} value={Amount} />\n            {/* <Button\n              onClick={plusAmount}\n              icon={<PlusOutlined />}\n              type=\"default\"\n            ></Button> */}\n          </div>\n          {OrderItem.option &&\n          <div className=\"flex-box a-center\">\n            <span className=\"tit\">옵션</span>\n            <Select onChange={onOptionChange} name=\"option\" style={{width:\"100%\"}}>\n            {OrderItem.option.split(',').map((el,idx) => (\n              <Option value={el} key={idx}>{el}</Option>\n            ))}\n            </Select>\n          </div>\n          }\n          {hotRadio &&\n          <div className=\"flex-box a-center\">\n            <span className=\"tit\"></span>\n            {hotRadio}\n          </div>\n          }\n            {OrderItem.milk &&\n            <div className=\"flex-box a-center\">\n              <span className=\"tit\"></span>\n                    <input\n                    type=\"radio\"\n                    name=\"milk\"\n                    id=\"basic\"\n                    value=\"저지방\"\n                    defaultChecked\n                    onChange={radioChange2}\n                    />\n                    <label htmlFor=\"basic\">\n                    저지방\n                    </label>\n              {OrderItem.m_soldout && (\n                  <>\n                  <input\n                    type=\"radio\"\n                    id=\"none\"\n                    name=\"milk\"\n                    value=\"무지방\"\n                    onChange={radioChange2}\n                  />\n                  <label htmlFor=\"none\">\n                  무지방\n                  </label>\n                </>\n              )}\n              {OrderItem.m_soldout2 && (\n                <>\n                  <input\n                    type=\"radio\"\n                    id=\"free\"\n                    name=\"milk\"\n                    value=\"락토프리\"\n                    onChange={radioChange2}\n                  />\n                  <label htmlFor=\"free\">\n                  락토프리\n                  </label>\n                </>\n              )}\n            </div>\n            }\n          {OrderItem.add && (\n            <div className=\"flex-box\">\n              <span className=\"tit\" style={{ marginTop: \"3px\" }}>\n                추가\n              </span>\n              {OrderItem && (\n                <div\n                  className=\"order-check-box\"\n                  style={{ flexDirection: \"column\" }}\n                >\n                  <Checkbox.Group style={{ width: \"100%\" }} onChange={onChange}>\n                    {OrderItem.b_soldout && OrderItem.add.includes(\"버블\") && (\n                      <>\n                        <Checkbox value=\"버블\">버블</Checkbox>\n                      </>\n                    )}\n                    {!OrderItem.b_soldout && OrderItem.add.includes(\"버블\") && (\n                      <>\n                        <Checkbox value=\"버블\" disabled>\n                          버블품절\n                        </Checkbox>\n                      </>\n                    )}\n                  </Checkbox.Group>\n                  {OrderItem.add.includes(\"샷\") && (\n                    <>\n                      <div\n                        className=\"flex-box a-center\"\n                        style={{ marginTop: \"5px\" }}\n                      >\n                        <Checkbox.Group style={{ width: \"100%\" }} onChange={onChange2}>                          \n                          {OrderItem.add.includes(\"연하게\") && (        \n                              <Checkbox value=\"연하게\">연하게</Checkbox>\n                          )}\n                          <Checkbox value=\"샷1\">1샷 추가</Checkbox>\n                          <Checkbox value=\"샷2\">2샷 추가</Checkbox>\n                        </Checkbox.Group>                        \n                      </div>\n                    </>\n                  )}                  \n                </div>\n              )}\n            </div>\n          )}\n          <div className=\"flex-box a-center\">\n            <span className=\"tit\">기타</span>\n            <Input name=\"etc\" type=\"text\" />\n          </div>\n          <div className=\"btn-box\">\n            <Button\n              disabled={submitLoading}\n              htmlType=\"submit\"\n              type=\"primary\"\n              style={{ marginRight: \"5px\" }}\n            >\n              주문\n            </Button>\n            <Button onClick={onCancel} type=\"default\">\n              취소\n            </Button>\n          </div>\n        </form>\n        {submitLoading && (\n          <>\n            <div\n              className=\"bg-box\"\n              style={{\n                position: \"absolute\",\n                width: \"100%\",\n                height: \"100%\",\n                background: \"rgba(255,255,255,0.5)\",\n                borderRadius: \"10px\",\n              }}\n            ></div>\n            <Spin className=\"modal-loading\" tip=\"Loading...\"></Spin>\n          </>\n        )}\n      </OderModalPopup>\n    </>\n  );\n}\n\nexport default OrderModal;\n","import React, { useState, useEffect, useRef } from \"react\";\nimport { useSelector,useDispatch } from \"react-redux\";\nimport { clearUser } from \"../redux/actions/user_action\";\nimport { Link } from \"react-router-dom\";\nimport { Menu, Input, Button } from \"antd\";\nimport * as bsIcon from \"react-icons/bs\";\nimport * as antIcon from \"react-icons/ai\";\nimport firebase from \"../firebase\";\nimport styled from \"styled-components\";\nimport moment from \"moment\";\nimport { OderModalPopup } from \"./OrderModal\";\nconst { SubMenu } = Menu;\nexport const BlackBg = styled.div`\n  width: 100vw;\n  height: 100vh;\n  background: rgba(0, 0, 0, 0.5);\n  position: fixed;\n  left: 0;\n  top: 0;\n  z-index: 50;\n  display: none;\n  @media all and (max-width: 760px) {\n    &.on {\n      display: block;\n    }\n  }\n`;\nfunction Nav() { \n  let dispatch = useDispatch();\n\n\n  const firebaseUserInfo = firebase.auth().currentUser;\n  let name, email, photoUrl, uid, emailVerified;\n  if (firebaseUserInfo != null) {\n    name = firebaseUserInfo.displayName;\n    email = firebaseUserInfo.email;\n    photoUrl = firebaseUserInfo.photoURL;\n    emailVerified = firebaseUserInfo.emailVerified;\n    uid = firebaseUserInfo.uid; \n  }\n\n  const currentUser = useSelector((state) => state.user.currentUser);\n\n  const [current, setCurrent] = useState(\"1\");\n\n  const handleClick = (e) => {\n    setCurrent(e.key);\n    setLeftMenu(!LeftMenu);\n  };\n\n  const [InfoPop, setInfoPop] = useState(false)\n  const onChangeInfo = () => {\n    setInfoPop(!InfoPop);\n  }\n\n  const [LeftMenu, setLeftMenu] = useState(false);\n  const onMenuHandler = () => {\n    setInfoPop(false);\n    setLeftMenu(!LeftMenu);\n  };\n\n  const onLogout = () => {\n    firebase.auth().signOut();\n  };\n  \n  \n  const timeDiff = (time) => {\n    let hour = parseInt(time.split(':')[0] * 60);\n    let min = parseInt(time.split(':')[1]);\n    return hour + min;\n  }\n\n  \n  const [AbleTime, setAbleTime] = useState();\n  const [CurAbleTime, setCurAbleTime] = useState(0);\n  const [TimeChange, setTimeChange] = useState(false);\n  const timeRef = useRef(false);\n\n  useEffect(() => {              \n    setTimeout(() => {\n      timeRef.current = !timeRef.current;      \n      setTimeChange(timeRef.current);\n    }, 2000);\n    const currentDay = moment().format('dddd');\n    const currentTime = moment().format('HH:mm');\n    const currentTimeNum = timeDiff(currentTime);\n    let mounted = true;\n    if (mounted) {   \n\n      firebase\n      .database()\n      .ref(\"time\")\n      .on(\"value\", (snapshot) => {\n        setAbleTime(snapshot.val());\n        let able = snapshot.val();\n        let ableKeys = Object.keys(able);\n        let newAble = {}\n        for (let i = 0; i < ableKeys.length; i++) {\n          const key = ableKeys[i]\n          const value = able[key]\n          newAble[key] = timeDiff(value);\n        }\n        if(currentTimeNum >= newAble.ableTimeStart && currentTimeNum < newAble.ableTimeEnd){\n          setCurAbleTime(1);\n          if(currentTimeNum >= newAble.disableTimeStart && currentTimeNum < newAble.disableTimeEnd){\n            setCurAbleTime(2);\n          }\n          if(currentTimeNum >= newAble.lunchTimeStart && currentTimeNum < newAble.lunchTimeEnd){\n            setCurAbleTime(3);\n          }\n          if(currentTimeNum >= newAble.breakTimeStart && currentTimeNum < newAble.breakTimeEnd){\n            setCurAbleTime(4);\n          }\n        }else{\n          setCurAbleTime(5)\n        }    \n        if(currentDay == '토요일' || currentDay == '일요일'){\n          setCurAbleTime(5)\n        }    \n      });\n\n    }\n    return function cleanup() {\n      firebase.database().ref(\"users\").off();\n      firebase.database().ref(\"time\").off();\n      mounted = false;\n    };\n  }, [TimeChange])\n\n  const [submitLoading, setsubmitLoading] = useState(false);\n  const onSubmitInfo = async (e) => {\n    e.preventDefault();\n    let sosok = e.target.sosok.value;\n    let part = e.target.part.value;\n    firebaseUserInfo.updateProfile({\n      photoURL:part\n    })\n    let call_num = e.target.call_number.value;\n    if(isNaN(call_num)){\n      alert('숫자만 입력해 주세요');\n      return;\n    }\n    if(call_num.length != 11){\n      alert('올바른 번호가 아닙니다');\n      return;\n    }\n    setsubmitLoading(true);\n    try{\n      let user = firebase.auth().currentUser;\n      user.updateProfile({\n        phoneNumber: \"01055278712\"\n      }).then(function() {\n        alert('업데이트 되었습니다.');\n      }).catch(function(error) {\n        console.error(error);\n      });  \n      await firebase\n      .database()\n      .ref(\"users\")\n      .child(currentUser.uid)\n      .update({\n        call_number: call_num,\n        part: part,\n        sosok: sosok\n      })\n      setInfoPop(false)\n    }catch (error) {\n      console.error(error);\n    }\n    setsubmitLoading(false);\n  }\n\n  if (currentUser) {\n    return (\n      <>\n        {!LeftMenu && (\n          <bsIcon.BsList className=\"btn-m-menu\" onClick={onMenuHandler} />\n        )}\n        {LeftMenu && (\n          <bsIcon.BsX className=\"btn-m-close\" onClick={onMenuHandler} />\n        )}\n        <div className={\"left-nav-menu \" + (LeftMenu && \"on\")}>\n          <div className=\"nav-top-box\">\n            {!currentUser && (\n              <>\n                <Link to=\"/login\" onClick={onMenuHandler}>\n                  login\n                </Link>\n                <Link to=\"/join\" onClick={onMenuHandler}>\n                  join\n                </Link>\n              </>\n            )}\n            {currentUser && (\n              <>\n                {InfoPop &&\n                  <OderModalPopup className=\"call_modify\" style={{\n                    top:\"180px\",\n                    left:\"155px\",\n                    position:\"absolute\",\n                  }}>\n                    <form className=\"order-form-box\" onSubmit={onSubmitInfo}>\n                      <div className=\"input-box\" style={{marginBottom:\"5px\"}}>\n                        <span className=\"tit\">이메일</span>\n                        <span>{currentUser.email}</span>\n                      </div>\n                      <div className=\"input-box\" style={{marginBottom:\"5px\"}}>\n                        <span className=\"tit\">소속</span>\n                        <select\n                          name=\"sosok\"\n                          defaultValue={currentUser.sosok}\n                        >\n                          <option value=\"\">\n                            소속선택\n                          </option>\n                          <option value=\"1\">미트리</option>\n                          <option value=\"2\">푸드킹</option>\n                          <option value=\"3\">계약직</option>\n                        </select>\n                      </div>\n                      <div className=\"input-box\" style={{marginBottom:\"5px\"}}>\n                        <span className=\"tit\">부서</span>\n                        <select\n                          name=\"part\"\n                          defaultValue={photoUrl}\n                        >\n                          <option value=\"photoUrl\" disabled hidden>\n                            부서\n                          </option>\n                          <option value=\"R&D\">R&D</option>\n                          <option value=\"전략기획부\">전략기획부</option>\n                          <option value=\"영업지원부\">영업지원부</option>\n                          <option value=\"인사재경부\">인사재경부</option>\n                          <option value=\"IT개발부\">IT개발부</option>\n                          <option value=\"푸드킹\">푸드킹</option>\n                          <option value=\"물류부\">물류부</option>\n                          <option value=\"카페부\">카페부</option>\n                        </select>\n                      </div>\n                      <div className=\"input-box\" style={{marginBottom:\"5px\"}}>\n                      <span className=\"tit\">휴대전화</span>\n                        <Input name=\"call_number\" defaultValue={currentUser.call_number} style={{marginRight:\"5px\"}}></Input>\n                        <Button\n                          disabled={submitLoading}\n                          htmlType=\"submit\"\n                          type=\"primary\"\n                        >수정</Button>\n                      </div>\n                      <span>'-'이나 공백없이 숫자만 입력해 주세요.</span>\n                    </form>\n                  </OderModalPopup>\n                }\n                <div className=\"flex-box j-center\">\n                  <span className=\"p-color-l\"\n                    onClick={onChangeInfo}\n                    style={{\n                      cursor: \"pointer\",\n                      fontWeight: \"500\",\n                      marginLeft: \"10px\",\n                    }}\n                  >\n                    {currentUser.displayName}\n                  </span>\n                  님 반갑습니다.                  \n                  <span\n                    onClick={onLogout}\n                    className=\"p-color-l\"\n                    style={{\n                      cursor: \"pointer\",\n                      marginLeft: \"10px\",\n                    }}\n                  >\n                    logout\n                  </span>\n                </div>\n              </>\n            )}\n          </div>\n          <Menu\n            theme={\"light\"}\n            onClick={handleClick}\n            defaultOpenKeys={[\"sub1\"]}\n            selectedKeys={[current]}\n            mode=\"inline\"\n          >\n            <Menu.Item key=\"1\">\n              <Link to=\"/\">\n                <antIcon.AiOutlineCoffee />\n                메뉴판\n              </Link>\n            </Menu.Item>\n            <Menu.Item key=\"2\">\n              <Link to=\"/myorder\">\n                <antIcon.AiOutlineOrderedList />\n                주문내역\n              </Link>\n            </Menu.Item>\n            <Menu.Item key=\"3\">\n              <Link to=\"/mymenu\">\n                <antIcon.AiOutlineStar />\n                마이메뉴\n              </Link>\n            </Menu.Item>\n            {(currentUser && currentUser.role >= 0) &&\n            <Menu.Item key=\"7\">\n              <Link to=\"/lunch\">\n                <antIcon.AiOutlineDownSquare />\n                식단체크\n              </Link>\n            </Menu.Item>\n            }\n            {(currentUser?.auth && currentUser.auth.includes('insa') || currentUser.uid === \"HWC2atFlYZfThocHHF7SH4a6MAt2\") && \n            <Menu.Item key=\"9\">\n              <Link to=\"/research\">\n                <antIcon.AiOutlineFileDone />\n                설문조사\n              </Link>\n            </Menu.Item>\n            }\n            {(currentUser?.auth && currentUser.auth.includes('intern')) ||\n            <Menu.Item key=\"10\">\n              <Link to=\"/hair\">\n                <antIcon.AiOutlineScissor />\n                헤어\n              </Link>\n            </Menu.Item>\n            }\n            {currentUser.role > 0 &&\n            (\n              <SubMenu\n                key=\"sub1\"\n                title=\"관리자\"\n                icon={<antIcon.AiOutlineSetting />}\n              >       \n                {\n                  currentUser.auth && currentUser.auth.includes('hair') &&\n                  <Menu.Item key=\"11\">\n                    <Link to=\"/admin/hair\">\n                      <antIcon.AiOutlineAppstoreAdd />\n                      헤어관리\n                    </Link>\n                  </Menu.Item>  \n                }          \n                {currentUser.role > 1 &&\n                  <>\n                    <Menu.Item key=\"8\">\n                      <Link to=\"/admin/lunch\">\n                        <antIcon.AiOutlineAppstoreAdd />\n                        식단관리\n                      </Link>\n                    </Menu.Item>                \n                    <Menu.Item key=\"4\">\n                      <Link to=\"/admin/prod\">\n                        <antIcon.AiOutlineAppstoreAdd />\n                        상품관리\n                      </Link>\n                    </Menu.Item>\n                    <Menu.Item key=\"12\">\n                      <Link to=\"/admin/prod_count\">\n                        <antIcon.AiOutlineAppstoreAdd />\n                        재고관리\n                      </Link>\n                    </Menu.Item>\n                    <Menu.Item key=\"5\">\n                      <Link to=\"/admin/order\">\n                        <antIcon.AiOutlineAlert />\n                        주문관리\n                      </Link>\n                    </Menu.Item>\n                    <Menu.Item key=\"6\">\n                      <Link to=\"/admin/order_list\">\n                        <antIcon.AiOutlineFileDone />\n                        완료내역\n                      </Link>\n                    </Menu.Item>\n                  </>\n                }\n                {currentUser.role > 2 &&\n                <Menu.Item key=\"0\">\n                  <Link to=\"/admin/user_admin\">\n                    <antIcon.AiOutlineTeam />\n                    회원관리\n                  </Link>\n                </Menu.Item>\n                }\n              </SubMenu>\n            )}\n          </Menu>          \n          {AbleTime && CurAbleTime && (\n          <div className=\"nav-time\">\n              <span className={\"current\"+\" state_\"+CurAbleTime}>\n                <span>Now</span>\n              </span>\n              <ul>\n                {AbleTime.ableTimeStart &&\n                <li className={CurAbleTime === 1 ? \"cur\" : \"\"}><span>운영시간</span> - {AbleTime.ableTimeStart}~{AbleTime.ableTimeEnd}</li>\n                }\n                {AbleTime.disableTimeStart &&\n                <li className={CurAbleTime === 2 ? \"cur\" : \"\"}><span>이용불가</span> - {AbleTime.disableTimeStart}~{AbleTime.disableTimeEnd}</li>\n                }\n                {AbleTime.lunchTimeStart &&\n                <li className={CurAbleTime === 3 ? \"cur\" : \"\"}><span>점심시간</span> - {AbleTime.lunchTimeStart}~{AbleTime.lunchTimeEnd}</li>\n                }\n                {AbleTime.breakTimeStart &&\n                <li className={CurAbleTime === 4 ? \"cur\" : \"\"}><span>브레이크</span> - {AbleTime.breakTimeStart}~{AbleTime.breakTimeEnd}</li>\n                }\n              </ul>\n          </div>\n          )}\n        </div>\n        <BlackBg className={LeftMenu && \"on\"} onClick={onMenuHandler} />\n      </>\n    );\n  } else {\n    return (\n      <>        \n        {!LeftMenu && (\n          <bsIcon.BsList className=\"btn-m-menu\" onClick={onMenuHandler} />\n        )}\n        {LeftMenu && (\n          <bsIcon.BsX className=\"btn-m-close\" onClick={onMenuHandler} />\n        )}\n        <div className={\"left-nav-menu \" + (LeftMenu && \"on\")}>\n          <div className=\"nav-top-box\">\n            {!currentUser && (\n              <>\n                <Link to=\"/login\" onClick={onMenuHandler}>\n                  login\n                </Link>\n                <Link to=\"/join\" onClick={onMenuHandler}>\n                  join\n                </Link>\n              </>\n            )}\n            {currentUser && (\n              <>\n                <div className=\"flex-box j-center\">                  \n                  {currentUser.displayName}님 반갑습니다.\n                  <span \n                    class=\"p-color-l\"\n                    onClick={onLogout}\n                    style={{\n                      cursor: \"pointer\",\n                      marginLeft: \"10px\",\n                    }}\n                  >\n                    logout\n                  </span>\n                </div>\n              </>\n            )}\n          </div>\n          <Menu\n            theme={\"light\"}\n            onClick={handleClick}\n            defaultOpenKeys={[\"sub1\"]}\n            selectedKeys={[current]}\n            mode=\"inline\"\n          >\n            <div\n              style={{\n                height: \"100%\",\n                display: \"flex\",\n                alignItems: \"center\",\n                justifyContent: \"center\",\n              }}\n            >\n              비회원 사용불가\n            </div>\n          </Menu>\n          <BlackBg className={LeftMenu && \"on\"} onClick={onMenuHandler} />\n        </div>\n      </>\n    );\n  }\n}\nexport default Nav;\n","import React, { useRef, useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport firebase from \"../firebase\";\n\nfunction Join() {\n  const { register, handleSubmit, watch, errors } = useForm({\n    mode: \"onChange\",\n  });\n  const [errorFromSubmit, setErrorFromSubmit] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  const password = useRef();\n  password.current = watch(\"password\");\n  const onSubmit = async (data) => {\n    data.part == 1 && alert('부서를 선택해 주세요')\n    try {\n      setLoading(true);\n      let createdUser = await firebase\n        .auth()\n        .createUserWithEmailAndPassword(data.email, data.password);\n\n      await createdUser.user.updateProfile({\n        displayName: data.name,\n        photoURL: data.part,\n      });\n      //Firebase 데이터베이스에 저장해주기\n      await firebase.database().ref(\"users\").child(createdUser.user.uid).set({\n        name: createdUser.user.displayName,\n        part: createdUser.user.photoURL,\n        call_number: data.call_number,\n        email: data.email,\n        role: 0,\n        auth: \"intern\",\n      });\n      setLoading(false);\n    } catch (error) {\n      setErrorFromSubmit(error.message);\n      setTimeout(() => {\n        setErrorFromSubmit(\"\");\n        setLoading(false);\n      }, 3000);\n    }\n  };\n\n  watch(\"name\");\n  watch(\"email\");\n  watch(\"call_number\");\n  watch(\"password\");\n  watch(\"password2\");\n\n  const [InputName, setInputName] = useState(false);\n  const [InputEmail, setInputEmail] = useState(false);\n  const [InputPhone, setInputPhone] = useState(false);\n  const [InputPw, setInputPw] = useState(false);\n  const [InputPw2, setInputPw2] = useState(false);\n\n  const onInputName = (e) => {\n    setInputName(e.target.value);\n  };\n  const onInputEmail = (e) => {\n    setInputEmail(e.target.value);\n  };\n  const onInputPhone = (e) => {\n    setInputPhone(e.target.value);\n  };\n  const onInputPw = (e) => {\n    setInputPw(e.target.value);\n  };\n  const onInputPw2 = (e) => {\n    setInputPw2(e.target.value);\n  };\n\n  return (\n    <>\n      <div className=\"join-form-wrap\">\n        <form className=\"join-form\" onSubmit={handleSubmit(onSubmit)}>\n          <div className=\"input-box\">\n            <input\n              type=\"text\"\n              onChange={onInputName}\n              name=\"name\"\n              id=\"name\"\n              ref={register({ required: true })}\n            />\n            <label\n              htmlFor=\"name\"\n              className={\"place-holder \" + (InputName && \"on\")}\n            >\n              <span>이름</span>\n            </label>\n            {errors.name && errors.name.type === \"required\" && (\n              <p>이름을 입력해 주세요</p>\n            )}\n          </div>\n          <div className=\"input-box\">\n            <input\n              name=\"email\"\n              type=\"email\"\n              id=\"email\"\n              onChange={onInputEmail}\n              ref={register({ required: true, pattern: /^\\S+@\\S+$/i })}\n            />\n            <label\n              htmlFor=\"email\"\n              className={\"place-holder \" + (InputEmail && \"on\")}\n            >\n              <span>이메일</span>\n            </label>\n            <span style={{color:\"#888\",fontSize:\"12px\",display:\"block\",paddingLeft:\"10px\",marginTop:\"3px\"}}>※ 실제 사용중인 이메일로 가입 바랍니다(비밀번호 재설정 시 필요)</span>\n            {errors.email && errors.email.type === \"required\" && (\n              <p>이메일을 입력해 주세요</p>\n            )}\n            {errors.email && errors.email.type === \"pattern\" && (\n              <p>이메일 형식이 맞지 않습니다.</p>\n            )}\n          </div>\n          <div className=\"input-box\">\n            <input\n              name=\"call_number\"\n              type=\"number\"\n              id=\"call_number\"\n              onChange={onInputPhone}\n              ref={register({ required: true, minLength: 11, maxLength:11 })}\n            />\n            <label\n              htmlFor=\"call_number\"\n              className={\"place-holder \" + (InputPhone && \"on\")}\n            >\n              <span>휴대전화</span>\n            </label>\n            <span style={{color:\"#888\",fontSize:\"12px\",display:\"block\",paddingLeft:\"10px\",marginTop:\"3px\"}}>※ 실제 사용중인 휴대전화로 가입 바랍니다.(카카오톡 연동기능에 필요)</span>\n            {errors.call_number && errors.call_number.type === \"required\" && (\n              <p>휴대전화 번호를 입력해 주세요</p>\n            )}\n            {errors.call_number && errors.call_number.type === \"minLength\" && (\n              <p>자리수를 확인해 주세요</p>\n            )}\n            {errors.call_number && errors.call_number.type === \"maxLength\" && (\n              <p>자리수를 확인해 주세요</p>\n            )}\n          </div>\n          <div className=\"input-box radio\">\n            <div className=\"flex-box\">\n              <input type=\"radio\" className=\"custom-radio\" name=\"sosok\" id=\"sosok1\" value=\"1\" ref={register({ required: true })} />\n              <label for=\"sosok1\">미트리</label>\n              <input type=\"radio\" className=\"custom-radio\" name=\"sosok\" id=\"sosok2\" value=\"2\" ref={register({ required: true })} />\n              <label for=\"sosok2\">푸드킹</label>\n              <input type=\"radio\" className=\"custom-radio\" name=\"sosok\" id=\"sosok3\" value=\"3\" ref={register({ required: true })} />\n              <label for=\"sosok3\">계약직</label>\n            </div>\n            {errors.sosok && <p>소속을 선택해 주세요</p>}\n          </div>\n          <div className=\"input-box\">\n            <select\n              name=\"part\"\n              defaultValue=\"1\"\n              ref={register({ required: true })}\n            >\n              <option value=\"1\" disabled hidden>\n                부서\n              </option>\n              <option value=\"R&D\">R&D</option>\n              <option value=\"전략기획부\">전략기획부</option>\n              <option value=\"영업지원부\">영업지원부</option>\n              <option value=\"인사재경부\">인사재경부</option>\n              <option value=\"IT개발부\">IT개발부</option>\n              <option value=\"푸드킹\">푸드킹</option>\n              <option value=\"물류부\">물류부</option>\n              <option value=\"카페부\">카페부</option>\n            </select>\n            {errors.part && <p>부서를 선택해 주세요</p>}\n          </div>\n          <div className=\"input-box\">\n            <input\n              type=\"password\"\n              name=\"password\"\n              id=\"password\"\n              onChange={onInputPw}\n              ref={register({ required: true, minLength: 6 })}\n            />\n            <label\n              htmlFor=\"password\"\n              className={\"place-holder \" + (InputPw && \"on\")}\n            >\n              <span>비밀번호</span>\n            </label>\n            {errors.password && errors.password.type === \"required\" && (\n              <p>비밀번호를 입력해 주세요</p>\n            )}\n            {errors.password && errors.password.type === \"minLength\" && (\n              <p>비밀번호는 최소 6글자이상 이어야 합니다.</p>\n            )}\n          </div>\n          <div className=\"input-box\">\n            <input\n              type=\"password\"\n              name=\"password2\"\n              id=\"password2\"\n              onChange={onInputPw2}\n              ref={register({\n                required: true,\n                validate: (value) => value === password.current,\n              })}\n            />\n            <label\n              htmlFor=\"password2\"\n              className={\"place-holder \" + (InputPw2 && \"on\")}\n            >\n              <span>비밀번호 확인</span>\n            </label>\n            {errors.password2 && errors.password2.type === \"required\" && (\n              <p>비밀번호 확인을 입력해 주세요</p>\n            )}\n            {errors.password2 && errors.password2.type === \"validate\" && (\n              <p>비밀번호가 일치하지 않습니다.</p>\n            )}\n            {errorFromSubmit && <p>{errorFromSubmit}</p>}\n          </div>\n          <input type=\"submit\" value=\"회원가입\" disabled={loading} />\n        </form>\n      </div>\n    </>\n  );\n}\n\nexport default Join;\n","import React, { useState, useEffect } from \"react\";\r\nimport { Button, Checkbox, Switch } from \"antd\";\r\nimport firebase from \"../../firebase\";\r\nimport styled from \"styled-components\";\r\nimport uuid from \"react-uuid\";\r\nexport const FileLabel2 = styled.label`\r\n  display: flex;\r\n  width: 60px;\r\n  height: 60px;\r\n  border: 1px solid #ddd;\r\n  border-radius: 5px;\r\n  flex-shrink: 0;\r\n  justify-content: center;\r\n  align-items: center;\r\n  font-size: 12px;\r\n  color: #888;\r\n  cursor: pointer;\r\n  overflow: hidden;\r\n  img {\r\n    width: 100%;\r\n    height: auto;\r\n  }\r\n`;\r\nexport const ModalPopup = styled.div`\r\n  width: 100%;\r\n  max-width: 350px;\r\n  padding: 20px;\r\n  border: 1px solid #ddd;\r\n  position: fixed;\r\n  z-index: 100;\r\n  border-radius: 10px;\r\n  background: #fff;\r\n  box-shadow: 0px 0px 5px 0px rgba(0, 0, 0, 0.25);\r\n  transform: translate(-50px, -100%);\r\n  left: ${(props) => props.posx}px;\r\n  top: ${(props) => props.posy}px;\r\n  @media all and (max-width: 640px) {\r\n    width: 80%;\r\n    max-width: 400px;\r\n    left: 50%;\r\n    transform: translate(-50%, -100%);\r\n  }\r\n`;\r\nfunction ModifyModal({ puid, pimg, onFinished, posx, posy }) {\r\n  const [radioValue, setradioValue] = useState();\r\n  const [radioValue2, setradioValue2] = useState();\r\n  const [ProdItem, setProdItem] = useState([]);\r\n\r\n  const [Soldout, setSoldout] = useState();\r\n  const SoldoutToggle = () => {\r\n    setSoldout(!Soldout);\r\n  };\r\n  useEffect(() => {\r\n    firebase\r\n      .database()\r\n      .ref(\"products\")\r\n      .child(puid)\r\n      .once(\"value\")\r\n      .then((snapshot) => {\r\n        setProdItem(snapshot.val());\r\n        setradioValue(snapshot.val().category);\r\n        setradioValue2(snapshot.val().hot);\r\n        setSoldout(snapshot.val().soldout);\r\n      });\r\n  }, [puid]);\r\n\r\n  const onSubmitProd2 = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    let values = {\r\n      name: e.target.name.value,\r\n      option: e.target.option.value,\r\n      price: e.target.price.value,\r\n      kal: e.target.kal.value,\r\n      category: e.target.category.value,\r\n      hot: e.target.hot.value,\r\n      limit: e.target.limit.value,\r\n      add: AddCheck ? AddCheck : null,\r\n      milk: MilkCheck ? MilkCheck : null,\r\n      limit: LimitCheck ? LimitCheck : false,\r\n      sort_num: e.target.sort_num.value\r\n        ? parseInt(e.target.sort_num.value)\r\n        : 9999,\r\n      soldout: Soldout ? Soldout : false,\r\n    };\r\n    if (isNaN(values.price)) {\r\n      alert(\"가격은 숫자만 입력해 주세요\");\r\n      return;\r\n    }\r\n    if (ImgFile2) {\r\n      var file = ImgFile2;\r\n      var metadata = ImgFile2.type;\r\n    }\r\n    try {\r\n      if (ImgFile2) {\r\n        let uploadTaskSnapshot = await firebase\r\n          .storage()\r\n          .ref(\"products\")\r\n          .child(`prod_image/${uuid()}`)\r\n          .put(file, metadata);\r\n        let downloadURL = await uploadTaskSnapshot.ref.getDownloadURL();\r\n        await firebase\r\n          .database()\r\n          .ref(\"products\")\r\n          .child(puid)\r\n          .update({\r\n            ...values,\r\n            image: downloadURL,\r\n          });\r\n      } else {\r\n        let downloadURL = pimg;\r\n        await firebase\r\n          .database()\r\n          .ref(\"products\")\r\n          .child(puid)\r\n          .update({\r\n            ...values,\r\n            image: downloadURL,\r\n          });\r\n      }\r\n      alert(\"상품을 수정했습니다.\");\r\n      onFinished();\r\n    } catch (error) {\r\n      alert(error);\r\n    }\r\n  };\r\n\r\n  const [ImgFile2, setImgFile2] = useState();\r\n  const [ProdImg2, setProdImg2] = useState();\r\n  const handleChange2 = (e) => {\r\n    setImgFile2(e.target.files[0]);\r\n    let reader = new FileReader();\r\n    reader.onload = function (event) {\r\n      setProdImg2(event.target.result);\r\n    };\r\n    reader.readAsDataURL(e.target.files[0]);\r\n    setProdImg2(e.target.files[0]);\r\n  };\r\n\r\n  const radioChange = (e) => {\r\n    setradioValue(e.target.value);\r\n  };\r\n  const radioChange2 = (e) => {\r\n    setradioValue2(e.target.value);\r\n  };\r\n\r\n  const [AddCheck, setAddCheck] = useState();\r\n  function onChange(checkedValues) {\r\n    setAddCheck(checkedValues);\r\n  }\r\n  const [MilkCheck, setMilkCheck] = useState();\r\n  function onChange2(checkedValues) {\r\n    setMilkCheck(checkedValues);\r\n  }  \r\n\r\n  const [LimitCheck, setLimitCheck] = useState();\r\n  function onChange3(e) {\r\n    setLimitCheck(e.target.checked);\r\n  }  \r\n\r\n  const onCancel = () => {\r\n    onFinished();\r\n  };\r\n  if (ProdItem) {\r\n    return (\r\n      <>\r\n        <ModalPopup posx={posx} posy={posy}>\r\n          <form className=\"admin-modify-form\" onSubmit={onSubmitProd2}>\r\n            <div className=\"input-box\">\r\n              <input\r\n                style={{ display: \"none\" }}\r\n                type=\"file\"\r\n                id=\"imgFile2\"\r\n                onChange={handleChange2}\r\n              />\r\n              <FileLabel2 htmlFor=\"imgFile2\" style={{ marginRight: \"5px\" }}>\r\n                {ProdImg2 && <img src={`${ProdImg2}`} alt=\"\" />}\r\n                {!ProdImg2 && <img src={`${ProdItem.image}`} alt=\"\" />}\r\n              </FileLabel2>\r\n            </div>\r\n            <div className=\"input-box\">\r\n              <input\r\n                type=\"radio\"\r\n                id=\"hot1\"\r\n                name=\"hot\"\r\n                value=\"hot & ice\"\r\n                checked={radioValue2 === \"hot & ice\"}\r\n                onChange={radioChange2}\r\n              />\r\n              <label htmlFor=\"hot1\">hot & ice</label>\r\n              <input\r\n                type=\"radio\"\r\n                id=\"hot2\"\r\n                name=\"hot\"\r\n                value=\"hot only\"\r\n                checked={radioValue2 === \"hot only\"}\r\n                onChange={radioChange2}\r\n              />\r\n              <label htmlFor=\"hot2\">hot only</label>\r\n              <input\r\n                type=\"radio\"\r\n                id=\"hot3\"\r\n                name=\"hot\"\r\n                value=\"ice only\"\r\n                checked={radioValue2 === \"ice only\"}\r\n                onChange={radioChange2}\r\n              />\r\n              <label htmlFor=\"hot3\">ice only</label>\r\n              <input\r\n                type=\"radio\"\r\n                id=\"hot4\"\r\n                name=\"hot\"\r\n                value=\"etc\"\r\n                checked={radioValue2 === \"etc\"}\r\n                onChange={radioChange2}\r\n              />\r\n              <label htmlFor=\"hot4\">etc</label>\r\n            </div>\r\n            <div className=\"input-box\">\r\n              <input\r\n                type=\"radio\"\r\n                id=\"cate1\"\r\n                name=\"category\"\r\n                value=\"커피\"\r\n                checked={radioValue === \"커피\"}\r\n                onChange={radioChange}\r\n              />\r\n              <label htmlFor=\"cate1\">커피</label>\r\n              <input\r\n                type=\"radio\"\r\n                id=\"cate2\"\r\n                name=\"category\"\r\n                value=\"라떼\"\r\n                checked={radioValue === \"라떼\"}\r\n                onChange={radioChange}\r\n              />\r\n              <label htmlFor=\"cate2\">라떼</label>\r\n              <input\r\n                type=\"radio\"\r\n                id=\"cate3\"\r\n                name=\"category\"\r\n                value=\"에이드\"\r\n                checked={radioValue === \"에이드\"}\r\n                onChange={radioChange}\r\n              />\r\n              <label htmlFor=\"cate3\">에이드</label>\r\n              <input\r\n                type=\"radio\"\r\n                id=\"cate4\"\r\n                name=\"category\"\r\n                value=\"차\"\r\n                checked={radioValue === \"차\"}\r\n                onChange={radioChange}\r\n              />\r\n              <label htmlFor=\"cate4\">차</label>\r\n              <input\r\n                type=\"radio\"\r\n                id=\"cate5\"\r\n                name=\"category\"\r\n                value=\"프로틴\"\r\n                checked={radioValue === \"프로틴\"}\r\n                onChange={radioChange}\r\n              />\r\n              <label htmlFor=\"cate5\">에이드</label>\r\n              <input\r\n                type=\"radio\"\r\n                id=\"cate6\"\r\n                name=\"category\"\r\n                value=\"스낵\"\r\n                checked={radioValue === \"스낵\"}\r\n                onChange={radioChange}\r\n              />\r\n              <label htmlFor=\"cate6\">스낵</label>\r\n              <input\r\n                type=\"radio\"\r\n                id=\"cate7\"\r\n                name=\"category\"\r\n                value=\"주스\"\r\n                checked={radioValue === \"주스\"}\r\n                onChange={radioChange}\r\n              />\r\n              <label htmlFor=\"cate7\">주스</label>\r\n            </div>\r\n            <div className=\"input-box\">\r\n              <label className=\"tit\" htmlFor=\"_name\">\r\n                이름\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                id=\"_name\"\r\n                name=\"name\"\r\n                defaultValue={ProdItem.name}\r\n              />\r\n            </div>\r\n            <div className=\"input-box\">\r\n              <label className=\"tit\" htmlFor=\"_option\">\r\n                옵션\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                id=\"_option\"\r\n                name=\"option\"\r\n                defaultValue={ProdItem.option}\r\n              />\r\n            </div>\r\n            <div className=\"input-box\">\r\n              <label className=\"tit\" htmlFor=\"_price\">\r\n                가격\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                id=\"_price\"\r\n                name=\"price\"\r\n                defaultValue={ProdItem.price}\r\n              />\r\n            </div>\r\n            <div className=\"input-box\">\r\n              <label className=\"tit\" htmlFor=\"_kal\">\r\n                칼로리\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                id=\"_kal\"\r\n                name=\"kal\"\r\n                defaultValue={ProdItem.kal}\r\n              />\r\n            </div>\r\n            <div className=\"input-box\">\r\n              <label className=\"tit\" htmlFor=\"_sort_num\">\r\n                순서\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                id=\"_sort_num\"\r\n                name=\"sort_num\"\r\n                defaultValue={ProdItem.sort_num ? ProdItem.sort_num : \"\"}\r\n              />\r\n            </div>\r\n            <div className=\"input-box\">\r\n              <label className=\"tit\" htmlFor=\"_limit\">\r\n                제한\r\n              </label>\r\n              <Checkbox\r\n                id=\"_limit\"\r\n                name=\"limit\"\r\n                onChange={onChange3}\r\n                value={LimitCheck}\r\n              />\r\n            </div>\r\n            <Checkbox.Group onChange={onChange}>\r\n              <Checkbox value=\"버블\" style={{ lineHeight: \"32px\" }}>\r\n                버블\r\n              </Checkbox>\r\n              <Checkbox value=\"샷\" style={{ lineHeight: \"32px\" }}>\r\n                샷\r\n              </Checkbox>\r\n              <Checkbox value=\"연하게\" style={{ lineHeight: \"32px\" }}>\r\n                연하게\r\n              </Checkbox>\r\n            </Checkbox.Group>\r\n            <Checkbox.Group onChange={onChange2}>\r\n              <Checkbox value=\"우유\" style={{ lineHeight: \"32px\" }}>\r\n                우유\r\n              </Checkbox>\r\n            </Checkbox.Group>\r\n            {(Soldout === true || Soldout === \"\") && (\r\n              <Switch\r\n                style={{ width: \"60px\" }}\r\n                onChange={SoldoutToggle}\r\n                checkedChildren=\"판매\"\r\n                unCheckedChildren=\"품절\"\r\n                defaultChecked\r\n              />\r\n            )}\r\n            {!Soldout && (\r\n              <Switch\r\n                style={{ width: \"60px\" }}\r\n                onChange={SoldoutToggle}\r\n                checkedChildren=\"판매\"\r\n                unCheckedChildren=\"품절\"\r\n              />\r\n            )}\r\n            <div className=\"btn-box\">\r\n              <Button\r\n                htmlType=\"submit\"\r\n                type=\"primary\"\r\n                style={{ marginRight: \"7px\" }}\r\n              >\r\n                수정하기\r\n              </Button>\r\n              <Button onClick={onCancel} type=\"default\">\r\n                취소\r\n              </Button>\r\n            </div>\r\n          </form>\r\n        </ModalPopup>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ModifyModal;\r\n","import React, { useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport firebase from \"../firebase\";\nimport { Button, Input } from \"antd\";\nimport {ModalPopup} from \"./Admin/ModifyModal\"\n\nfunction Login() {\n  const { register, errors, handleSubmit } = useForm({\n    mode: \"onChange\",\n  });\n  const onSubmit = async (data) => {\n    try {\n      setLoading(true);\n      await firebase\n        .auth()\n        .signInWithEmailAndPassword(data.email, data.password);\n      setLoading(false);\n    } catch (error) {\n      setErrorFromSubmit(error.message);\n      setLoading(false);\n      setTimeout(() => {\n        setErrorFromSubmit(\"\");\n      }, 5000);\n    }\n  };\n  const [errorFromSubmit, setErrorFromSubmit] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  const [InputEmail, setInputEmail] = useState(false);\n  const [InputPw, setInputPw] = useState(false);\n  const onInputEmail = (e) => {\n    setInputEmail(e.target.value);\n  };\n  const onInputPw = (e) => {\n    setInputPw(e.target.value);\n  };\n\n  const [PwChangeInput, setPwChangeInput] = useState('')\n  const OnPwChangeInput = (e) => {\n    setPwChangeInput(e.target.value)\n  }\n  const onPwChange = () => {\n    const auth = firebase.auth();\n    const emailAddress = PwChangeInput\n    console.log(emailAddress)\n    auth.sendPasswordResetEmail(emailAddress).then(function() {\n      alert('이메일로 비밀번호 변경 링크를 발송했습니다.')\n      onPwModal();\n    }).catch(function(error) {\n      alert('해당 이메일로 가입된 유저가 없습니다.')\n    });    \n  }\n\n  const [PwModal, setPwModal] = useState(false)\n  const onPwModal = () => {\n    setPwModal(!PwModal)\n  }\n\n  return (\n    <>\n      <div className=\"join-form-wrap\">\n        <form className=\"join-form\" onSubmit={handleSubmit(onSubmit)}>\n          <div className=\"input-box\">\n            <input\n              name=\"email\"\n              type=\"email\"\n              id=\"email\"\n              onChange={onInputEmail}\n              ref={register({ required: true, pattern: /^\\S+@\\S+$/i })}\n            />\n            <label\n              htmlFor=\"email\"\n              className={\"place-holder \" + (InputEmail && \"on\")}\n            >\n              <span>이메일</span>\n            </label>          \n          </div>\n          <div className=\"input-box\">\n            <input\n              type=\"password\"\n              onChange={onInputPw}\n              name=\"password\"\n              id=\"password\"\n              ref={register({ required: true, minLength: 6 })}\n            />\n            <label\n              htmlFor=\"password\"\n              className={\"place-holder \" + (InputPw && \"on\")}\n            >\n              <span>비밀번호</span>\n            </label>\n            {errors.password && errors.password.type === \"required\" && (\n              <p>비밀번호를 입력해 주세요</p>\n            )}\n            {errors.password && errors.password.type === \"minLength\" && (\n              <p>비밀번호는 6글자 이상이어야 합니다.</p>\n            )}\n            {errorFromSubmit && <p>{errorFromSubmit}</p>}\n          </div>\n          <input type=\"submit\" value=\"로그인\" disabled={loading} />\n        </form>\n        <div style={{position:\"relative\",marginTop:\"10px\"}}>\n          <a href=\"javascript:;\" onClick={onPwModal}>비밀번호를 잊어버렸을때</a>\n          {\n            PwModal &&\n            <ModalPopup>\n              <h3 style={{fontWeight:\"bold\",textAlign:\"center\"}}>비밀번호 재설정</h3>\n              <Input placeholder=\"가입했던 이메일을 입력해 주세요\" type=\"text\" value={PwChangeInput} onChange={OnPwChangeInput} />\n              <div className=\"flex-box j-center\" style={{marginTop:\"10px\"}}>\n                <Button type=\"primary\" style={{marginRight:\"5px\"}} onClick={onPwChange}>이메일로 전송</Button>\n                <Button onClick={onPwModal}>닫기</Button>\n              </div>\n            </ModalPopup>\n          }\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default Login;\n","import React, { useState } from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nexport const FileLabel = styled.label`\r\n  display: flex;\r\n  width: 60px;\r\n  height: 60px;\r\n  border: 1px solid #ddd;\r\n  border-radius: 5px;\r\n  flex-shrink: 0;\r\n  justify-content: center;\r\n  align-items: center;\r\n  font-size: 12px;\r\n  color: #888;\r\n  cursor: pointer;\r\n  overflow: hidden;\r\n  img {\r\n    width: 100%;\r\n    height: auto;\r\n  }\r\n`;\r\n\r\nfunction ImgUpload({ onImgFile }) {\r\n  const [ProdImg, setProdImg] = useState();\r\n  const handleChange = (e) => {\r\n    onImgFile(e);\r\n    let reader = new FileReader();\r\n    reader.onload = function (event) {\r\n      setProdImg(event.target.result);\r\n    };\r\n    reader.readAsDataURL(e.target.files[0]);\r\n    setProdImg(e.target.files[0]);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <input\r\n        style={{ display: \"none\" }}\r\n        type=\"file\"\r\n        id=\"imgFile1\"\r\n        onChange={handleChange}\r\n      />\r\n      <FileLabel htmlFor=\"imgFile1\" style={{ marginRight: \"5px\" }}>\r\n        {ProdImg && <img src={`${ProdImg}`} alt=\"\" />}\r\n        {!ProdImg && `이미지`}\r\n      </FileLabel>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default ImgUpload;\r\n","import React, { useState, useEffect } from \"react\";\nimport ImgUpload from \"./ImgUpload\";\nimport {\n  Form,\n  Button,\n  Input,\n  Radio,\n  Checkbox,\n  Row,\n  Divider,\n  Switch,\n  TimePicker,InputNumber\n} from \"antd\";\nimport firebase from \"../../firebase\";\nimport styled from \"styled-components\";\nimport ModifyModal from \"./ModifyModal\";\nimport uuid from \"react-uuid\";\n\nexport const ProdList = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  .list {\n    animation-delay: 1s;\n    margin: 12px 8px;\n    width: calc(20% - 16px);\n    display: flex;\n    flex-direction: column;\n    border-radius: 7px;    \n    border:1px solid #e1e1e1;\n    overflow: hidden;\n    transition: all 0.2s;\n    &:hover {\n      img{\n        transform: translate(-50%, -50%) scale(1.07);\n      }\n      box-shadow: 0px 0px 4px 1px rgba(0, 0, 0, 0.25);\n    }\n    .img {\n      height: 0;\n      border-top-left-radius: 7px;\n      border-top-right-radius: 7px;\n      overflow: hidden;\n      width: 100%;\n      padding-bottom: 75%;\n      overflow: hidden;\n      position: relative;\n    }\n    img {\n      height: 100%;\n      position: absolute;\n      left: 50%;\n      top: 50%;\n      transition:all 0.2s;\n      transform: translate(-50%, -50%);\n    }\n    .kal {\n      position: absolute;\n      right: 0;\n      bottom: 0;\n      background: rgba(255, 255, 255, 0.85);\n      display: inline-block;\n      z-index: 1;\n      padding: 3px 6px;\n      font-size: 12px;\n      border-top-left-radius: 5px;\n    }\n  }\n  .txt {\n    display: flex;\n    flex: 1;\n    width: 100%;\n    flex-direction: column;\n    justify-content: space-between;\n    margin-bottom: 4px;\n    .name {\n      font-weight: bold;\n      font-size: 14px;\n      margin: 3px 0 2px 0;\n      display: -webkit-box;\n      -webkit-line-clamp: 2; \n      -webkit-box-orient: vertical;\n      overflow:hidden;\n      max-height: 46px;\n    }\n    .ic-favor {\n      margin-top: 5px;\n      margin-left: 5px;\n      flex-shrink: 0;\n      z-index: 10;\n      width: 18px;\n      height: 18px;\n      opacity: 0.3;\n      transition: all 0.2s;\n      &:hover{opacity:1}\n      svg {\n        width: 100%;\n        height: 100%;\n        display: none;\n      }\n      .no-favor {\n        display: block;        \n      }\n      .favor {\n        display: none;\n      }\n      &.true {\n        opacity: 1;\n\n        .no-favor {\n          display: none;\n        }\n        .favor {\n          display: block;\n        }\n      }\n    }\n    .hot {\n      font-size: 13px;\n    }\n    .price {\n      font-size: 13px;\n      color: #1672c9;\n    }\n  }\n  .user-box {\n    display: flex;\n    flex-direction: column;\n    flex: 1;\n    align-items: center;\n    padding: 7px 5px;\n  }\n  .admin {\n    display: flex;\n    button {\n      margin: 2px;\n    }\n  }\n  .admin-box {\n    display: flex;\n    flex-direction: column;\n    flex: 1;\n    align-items: center;\n    padding: 7px;\n  }\n  @media all and (max-width: 1400px) {\n    .list {\n      width: calc(20% - 16px);\n    }\n  }\n  @media all and (max-width: 1024px) {\n    .list {\n      width: calc(33.33% - 16px);\n    }\n  }\n  @media all and (max-width: 500px) {\n    .list {\n      width: calc(50% - 16px);\n    }\n  }\n`;\n\nfunction AdminProd() {\n  const [ItemChange, setItemChange] = useState(0);\n  const [ProdItem, setProdItem] = useState([]);\n\n  //정렬 라디오버튼\n  const [CateRadio, setCateRadio] = useState(\"all\");\n  const itemSort = (e) => {\n    setCateRadio(e.target.value);\n  };\n\n  const [Soldout, setSoldout] = useState();\n  const SoldoutToggle = () => {\n    setSoldout(!Soldout);\n    firebase\n      .database()\n      .ref(\"soldout\")\n      .child(\"b_soldout\")\n      .transaction((pre) => {\n        return !pre;\n      });\n  };\n\n  const [MilkSoldout, setMilkSoldout] = useState();\n  const MilkSoldoutToggle = () => {\n    setMilkSoldout(!MilkSoldout);\n    firebase\n      .database()\n      .ref(\"soldout\")\n      .child(\"MilkSoldout\")\n      .transaction((pre) => {\n        return !pre;\n      });\n  };\n  const [MilkSoldout2, setMilkSoldout2] = useState();\n  const MilkSoldoutToggle2 = () => {\n    setMilkSoldout2(!MilkSoldout2);\n    firebase\n      .database()\n      .ref(\"soldout\")\n      .child(\"MilkSoldout2\")\n      .transaction((pre) => {\n        return !pre;\n      });\n  };  \n\n  const [AbleTime, setAbleTime] = useState()\n  useEffect(() => {\n    let mounted = true;\n    if (mounted) {\n      firebase\n      .database()\n      .ref(\"time\")\n      .on(\"value\", (snapshot) => {\n        setAbleTime(snapshot.val());\n      });      \n    }\n    return () => {\n      mounted = false;\n    }\n  }, [])  \n\n  useEffect(() => {\n    let mounted = true;\n    if (mounted) {\n      firebase\n        .database()\n        .ref(\"soldout\")\n        .once(\"value\")\n        .then((snapshot) => {    \n          let soldoutArr = [];      \n            soldoutArr.push({\n              b_soldout:snapshot.val().b_soldout,\n              MilkSoldout:snapshot.val().MilkSoldout,\n              MilkSoldout2:snapshot.val().MilkSoldout2\n            })\n            setSoldout(snapshot.val().b_soldout);            \n            setMilkSoldout(snapshot.val().MilkSoldout);            \n            setMilkSoldout2(snapshot.val().MilkSoldout2);            \n        });        \n      firebase\n        .database()\n        .ref(\"products\")\n        .once(\"value\")\n        .then((snapshot) => {\n          let array = [];\n          snapshot.forEach(function (item) {\n            array.push({\n              uid: item.key,\n              name: item.val().name,\n              kal: item.val().kal,\n              hot: item.val().hot,\n              limit: item.val().limit,\n              category: item.val().category,\n              image: item.val().image,\n              price: item.val().price,\n              soldout: true,\n            });\n          });\n          array = array.filter((el) => {\n            if (CateRadio === \"all\") {\n              return el;\n            }\n            return el.category === CateRadio;\n          });\n          setProdItem(array);\n        });\n    }\n    return function cleanup() {\n      mounted = false;\n    };\n  }, [ItemChange, CateRadio]);\n\n  const [ImgFile, setImgFile] = useState();\n  const onImgFile = (e) => {\n    setImgFile(e.target.files[0]);\n  };\n\n  // submit\n  const onSubmitProd = async (values) => {\n    \n    if (isNaN(values.price)) {\n      alert(\"가격은 숫자만 입력해 주세요\");\n      return;\n    }\n    if (!ImgFile) {\n      alert(\"이미지를 올려주세요\");\n      return;\n    }\n    const file = ImgFile;\n    const metadata = ImgFile.type;\n    try {\n      let uploadTaskSnapshot = await firebase\n        .storage()\n        .ref(\"products\")\n        .child(`prod_image/${uuid()}`)\n        .put(file, metadata);\n      let downloadURL = await uploadTaskSnapshot.ref.getDownloadURL();\n      if (!values.add) {\n        values.add = \"\";\n      }\n      if (!values.milk) {\n        values.milk = \"\";\n      }\n      if (!values.limit) {\n        values.limit = false;\n      }\n      if (!values.option) {\n        values.option = \"\";\n      }\n      values.sort_num = parseInt(values.sort_num);\n      values.sort_num >= 0 ? values.sort_num = values.sort_num : values.sort_num = 9999;\n      await firebase\n        .database()\n        .ref(\"products\")\n        .child(uuid())\n        .set({\n          ...values,\n          image: downloadURL,\n        });\n      setItemChange((pre) => pre + 1);\n      alert(\"상품을 등록했습니다.\");\n    } catch (error) {\n      alert(error);\n    }\n  };\n\n  // 모달팝업 호출\n  const [Puid, setPuid] = useState();\n  const [Pimg, setPimg] = useState();\n  const [OnModal, setOnModal] = useState(false);\n  const [PosX, setPosX] = useState(0);\n  const [PosY, setPosY] = useState(0);\n  const onProdModify = (e, uid, img) => {\n    setPosX(e.clientX);\n    setPosY(e.clientY);\n    setPuid(uid);\n    setPimg(img);\n    setOnModal(true);\n  };\n\n  const onProdDelete = async (uid) => {\n    const delConfirm = window.confirm(\"삭제하시겠습니까?\");\n    try {\n      if (delConfirm) {\n        await firebase.database().ref(\"products\").child(uid).remove();\n        setItemChange((pre) => pre + 1);\n        alert(\"상품을 삭제했습니다.\");\n      }\n    } catch (error) {\n      alert(error);\n    }\n  };\n\n  const onFinished = () => {\n    setOnModal(false);\n    setItemChange((pre) => pre + 1);\n  };\n\n  const [ProdRegist, setProdRegist] = useState(false);\n  const ProdRegistToggle = () => {\n    setProdRegist(!ProdRegist);\n  };\n  const [TimeRegist, setTimeRegist] = useState(false);\n  const TimeRegistToggle = () => {\n    setTimeRegist(!TimeRegist);\n  };  \n\n  const format = 'HH:mm';\n  const onTimeSet = () => {\n    let time1_1 = document.querySelectorAll('.time1 input')[0].value;\n    let time1_2 = document.querySelectorAll('.time1 input')[1].value;\n    let time2_1 = document.querySelectorAll('.time2 input')[0].value;\n    let time2_2 = document.querySelectorAll('.time2 input')[1].value;\n    let time3_1 = document.querySelectorAll('.time3 input')[0].value;\n    let time3_2 = document.querySelectorAll('.time3 input')[1].value;\n    let time4_1 = document.querySelectorAll('.time4 input')[0].value;\n    let time4_2 = document.querySelectorAll('.time4 input')[1].value;\n    let body = {}\n    body.ableTimeStart = time1_1;\n    body.ableTimeEnd = time1_2;\n    body.disableTimeStart = time2_1;\n    body.disableTimeEnd = time2_2;\n    body.lunchTimeStart = time3_1;\n    body.lunchTimeEnd = time3_2;\n    body.breakTimeStart = time4_1;\n    body.breakTimeEnd = time4_2;\n    \n    firebase.database().ref('time').update(body)\n\n  }\n\n  return (\n    <>\n      <div className=\"flex-box a-center\" style={{ marginBottom: \"10px\" }}>\n        <h3 className=\"title\" style={{ margin: \"0 10px 0 0\" }}>\n        운영시간 설정\n        </h3>\n        <Switch\n          onChange={TimeRegistToggle}\n          checkedChildren=\"on\"\n          unCheckedChildren=\"off\"\n        />\n      </div> \n      {AbleTime && TimeRegist && (\n      <div style={{marginBottom:\"20px\"}}>\n        <div className=\"time-seting\">\n          <div className=\"tit\">\n            운영시간\n          </div>\n          <TimePicker.RangePicker className=\"time1\" format={format} />\n          <div className=\"tit\">\n            주문불가 시간\n          </div>\n          <TimePicker.RangePicker className=\"time2\" format={format} />     \n        </div>\n        <div className=\"time-seting\">\n          <div className=\"tit\">\n            점심시간\n          </div>\n          <TimePicker.RangePicker className=\"time3\" format={format} />\n          <div className=\"tit\">\n            브레이크 타임\n          </div>\n          <TimePicker.RangePicker className=\"time4\" format={format} />        \n        </div>\n        <Button\n              htmlType=\"button\"\n              style={{ width: \"100%\",maxWidth:\"250px\" }}\n              type=\"primary\"\n              size=\"large\"\n              onClick={onTimeSet}\n            >\n              시간설정 적용하기\n            </Button>\n      </div>\n      )}\n      <div className=\"flex-box a-center\" style={{ marginBottom: \"10px\" }}>\n        <h3 className=\"title\" style={{ margin: \"0 10px 0 0\" }}>\n          상품등록\n        </h3>\n        <Switch\n          onChange={ProdRegistToggle}\n          checkedChildren=\"on\"\n          unCheckedChildren=\"off\"\n        />\n      </div>            \n      {ProdRegist && (\n        <Form className=\"admin-prod-form\" onFinish={onSubmitProd}>\n          <div\n            className=\"ant-row ant-form-item ant-form-item-has-success\"\n            style={{ alignItems: \"center\" }}\n          >\n            <div className=\"ant-col ant-form-item-label\">\n              <label htmlFor=\"category\" className=\"ant-form-item-required\">\n                이미지\n              </label>\n            </div>\n            <ImgUpload onImgFile={onImgFile} />\n          </div>\n          <Form.Item\n            name=\"category\"\n            label=\"카테고리\"\n            rules={[{ required: true, message: \"카테고리를 선택해 주세요\" }]}\n          >\n            <Radio.Group>\n              <Radio.Button value=\"커피\">커피</Radio.Button>\n              <Radio.Button value=\"라떼\">라떼</Radio.Button>\n              <Radio.Button value=\"에이드\">에이드</Radio.Button>\n              <Radio.Button value=\"차\">차</Radio.Button>\n              <Radio.Button value=\"프로틴\">프로틴</Radio.Button>\n              <Radio.Button value=\"스낵\">스낵</Radio.Button>\n              <Radio.Button value=\"주스\">주스</Radio.Button>\n            </Radio.Group>\n          </Form.Item>\n          <Form.Item\n            name=\"name\"\n            label=\"상품명\"\n            rules={[\n              {\n                required: true,\n                message: \"상품명을 입력해 주세요\",\n              },\n            ]}\n          >\n            <Input />\n          </Form.Item>\n          <Form.Item\n            name=\"option\"\n            label=\"옵션\"    \n          >\n            <Input placeholder=\"옵션명을 ,(콤마)로 구분해서 적어주세요\" />\n          </Form.Item>\n          <Form.Item\n            name=\"hot\"\n            label=\"온도\"\n            rules={[{ required: true, message: \"온도를 선택해 주세요\" }]}\n          >\n            <Radio.Group>\n              <Radio.Button value=\"hot & ice\">hot & ice</Radio.Button>\n              <Radio.Button value=\"hot only\">hot only</Radio.Button>\n              <Radio.Button value=\"ice only\">ice only</Radio.Button>\n              <Radio.Button value=\"etc\">etc</Radio.Button>\n            </Radio.Group>\n          </Form.Item>\n          <Form.Item\n            name=\"kal\"\n            label=\"칼로리\"\n            rules={[\n              {\n                required: true,\n                message: \"칼로리를 입력해 주세요\",\n              },\n            ]}\n          >\n            <Input className=\"sm-input\" />\n          </Form.Item>\n          <Form.Item\n            name=\"price\"\n            label=\"가격\"\n            rules={[\n              {\n                required: true,\n                message: \"가격을 입력해 주세요\",\n              },\n            ]}\n          >\n            <Input className=\"sm-input\" type=\"text\" />\n          </Form.Item>\n\n          <Form.Item name=\"add\" label=\"추가\">\n            <Checkbox.Group>\n              <Row>\n                <Checkbox value=\"버블\" style={{ lineHeight: \"32px\" }}>\n                  버블\n                </Checkbox>\n                <Checkbox value=\"샷\" style={{ lineHeight: \"32px\" }}>\n                  샷\n                </Checkbox>\n                <Checkbox value=\"연하게\" style={{ lineHeight: \"32px\" }}>\n                  연하게\n                </Checkbox>\n              </Row>\n            </Checkbox.Group>\n          </Form.Item>\n          <Form.Item name=\"milk\" label=\"우유 유무\">\n            <Checkbox.Group>\n              <Row>\n                <Checkbox value=\"1\" style={{ lineHeight: \"32px\" }}>\n                  우유\n                </Checkbox>\n              </Row>\n            </Checkbox.Group>\n          </Form.Item>\n          <Form.Item label=\"1개제한\" name=\"limit\" valuePropName=\"checked\"> \n              <Checkbox style={{ lineHeight: \"32px\" }} />                  \n          </Form.Item>\n          <Form.Item name=\"sort_num\" label=\"순서\">\n            <Input className=\"sm-input\" type=\"number\" />\n          </Form.Item>\n\n          <div className=\"ant-row ant-form-item soldout-switch\">\n            <div className=\"ant-col ant-form-item-label\">\n              <label htmlFor=\"price\">버블품절</label>\n            </div>\n            <div className=\"ant-col ant-form-item-control\">\n              <div className=\"ant-form-item-control-input\">\n                <div className=\"ant-form-item-control-input-content\">\n                  {Soldout === true && (\n                    <>\n                      <Switch\n                        onChange={SoldoutToggle}\n                        checkedChildren=\"판매\"\n                        unCheckedChildren=\"품절\"\n                        defaultChecked\n                      />\n                    </>\n                  )}\n                  {Soldout === false && (\n                    <>\n                      <Switch\n                        onChange={SoldoutToggle}\n                        checkedChildren=\"판매\"\n                        unCheckedChildren=\"품절\"\n                      />\n                    </>\n                  )}\n                </div>\n              </div>\n            </div>\n            <div className=\"ant-col ant-form-item-label\">\n              <label htmlFor=\"price\">무지방 품절</label>\n            </div>\n            <div className=\"ant-col ant-form-item-control\">\n              <div className=\"ant-form-item-control-input\">\n                <div className=\"ant-form-item-control-input-content\">\n                  {MilkSoldout === true && (\n                    <>\n                      <Switch\n                        onChange={MilkSoldoutToggle}\n                        checkedChildren=\"판매\"\n                        unCheckedChildren=\"품절\"\n                        defaultChecked\n                      />\n                    </>\n                  )}\n                  {MilkSoldout === false && (\n                    <>\n                      <Switch\n                        onChange={MilkSoldoutToggle}\n                        checkedChildren=\"판매\"\n                        unCheckedChildren=\"품절\"\n                      />\n                    </>\n                  )}\n                </div>\n              </div>\n            </div>\n            <div className=\"ant-col ant-form-item-label\">\n              <label htmlFor=\"price\">락토프리 품절</label>\n            </div>\n            <div className=\"ant-col ant-form-item-control\">\n              <div className=\"ant-form-item-control-input\">\n                <div className=\"ant-form-item-control-input-content\">\n                  {MilkSoldout2 === true && (\n                    <>\n                      <Switch\n                        onChange={MilkSoldoutToggle2}\n                        checkedChildren=\"판매\"\n                        unCheckedChildren=\"품절\"\n                        defaultChecked\n                      />\n                    </>\n                  )}\n                  {MilkSoldout2 === false && (\n                    <>\n                      <Switch\n                        onChange={MilkSoldoutToggle2}\n                        checkedChildren=\"판매\"\n                        unCheckedChildren=\"품절\"\n                      />\n                    </>\n                  )}\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div\n            style={{ width: \"100%\", maxWidth: \"250px\", textAlign: \"center\" }}\n          >\n            <Button\n              htmlType=\"submit\"\n              style={{ width: \"100%\" }}\n              type=\"primary\"\n              size=\"large\"\n            >\n              등록하기\n            </Button>\n          </div>\n        </Form>\n      )}\n      <Divider />\n      <h3 className=\"title\">상품리스트</h3>\n      <div className=\"menuCategory\">\n        <Radio.Group\n          className=\"menuCategory\"\n          onChange={itemSort}\n          defaultValue=\"all\"\n          buttonStyle=\"solid\"\n        >\n          <Radio.Button value=\"all\">전체</Radio.Button>\n          <Radio.Button value=\"커피\">커피</Radio.Button>\n          <Radio.Button value=\"라떼\">라떼</Radio.Button>\n          <Radio.Button value=\"에이드\">에이드</Radio.Button>\n          <Radio.Button value=\"차\">차</Radio.Button>\n          <Radio.Button value=\"프로틴\">프로틴</Radio.Button>\n          <Radio.Button value=\"스낵\">스낵</Radio.Button>\n          <Radio.Button value=\"주스\">주스</Radio.Button>\n        </Radio.Group>\n      </div>\n      <ProdList>\n        {ProdItem.map((item, index) => (\n          <div className=\"list\" key={index}>\n            <div className=\"img\">\n              <span className=\"kal\">{item.kal}kal</span>\n              <img src={item.image} alt=\"\" />\n            </div>\n            <div className=\"admin-box\">\n              <div className=\"txt\">\n                <span className=\"name\">{item.name}\n                  <span className=\"hidden\">{item.uid}</span>\n                </span>\n                <div className=\"flex-box between\">\n                  <span className=\"hot\">{item.hot}</span>\n                  <span className=\"price\">{item.price}원</span>\n                </div>\n              </div>\n              <div className=\"admin\">\n                <Button onClick={(e) => onProdModify(e, item.uid, item.image)}>\n                  수정\n                </Button>\n                <Button onClick={() => onProdDelete(item.uid)}>삭제</Button>\n              </div>\n            </div>\n          </div>\n        ))}\n      </ProdList>\n      {OnModal && (\n        <ModifyModal\n          puid={Puid}\n          pimg={Pimg}\n          onFinished={onFinished}\n          posx={PosX}\n          posy={PosY}\n        />\n      )}\n    </>\n  );\n}\n\nexport default AdminProd;\n","import React from \"react\";\nimport * as antIcon from \"@ant-design/icons\";\n\nfunction Loading() {\n  return <>\n  <antIcon.LoadingOutlined className=\"ic-loading p-color\" />\n</>;\n}\n\nexport default Loading;\n","import React, { useState, useEffect } from \"react\";\r\n\r\nconst Timer = ({ mm, ss, onTimeOut }) => {\r\n  const [minutes, setMinutes] = useState(parseInt(mm));\r\n  const [seconds, setSeconds] = useState(parseInt(ss));\r\n\r\n  useEffect(() => {\r\n    const countdown = setInterval(() => {\r\n      if (parseInt(seconds) > 0) {\r\n        setSeconds(parseInt(seconds) - 1);\r\n      }\r\n      if (parseInt(minutes) <= 0 && parseInt(seconds) <= 1) {\r\n        setMinutes(0);\r\n        setSeconds(0);\r\n        onTimeOut();\r\n      }\r\n      if (parseInt(seconds) === 0) {\r\n        if (parseInt(minutes) === 0) {\r\n            clearInterval(countdown);            \r\n        } else {\r\n          setMinutes(parseInt(minutes) - 1);\r\n          setSeconds(59);\r\n        }\r\n      }\r\n    }, 1000);\r\n    return () => clearInterval(countdown);\r\n  }, [minutes, seconds]);\r\n\r\n  return (\r\n    <>\r\n      {minutes}:{seconds < 10 ? `0${seconds}` : seconds}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Timer;","import React, { useState, useEffect, useRef } from \"react\";\nimport firebase from \"../firebase\";\nimport { Link } from \"react-router-dom\";\nimport { ProdList } from \"./Admin/AdminProd\";\nimport OderModalPopup from \"./OrderModal\";\nimport { commaNumber,getFormatDate } from \"./CommonFunc\";\nimport Loading from \"./Loading\";\nimport Timer from \"./Timer\";\nimport { Radio, Input, Empty, Button, Checkbox } from \"antd\";\nimport * as antIcon from \"react-icons/ai\";\nimport * as Hangul from \"hangul-js\";\nimport { useSelector } from \"react-redux\";\nconst { Search } = Input;\nconst _ = require(\"lodash\");\n\nconst curDate = getFormatDate(new Date());\n\n\n\nfunction Menu() {\n  const userInfo = useSelector((state) => state.user.currentUser);\n  const [ProdItem, setProdItem] = useState([]);\n  const [ProdItemCopy, setProdItemCopy] = useState();\n  const lunchCheckBox = useRef();\n  \n\n  const [TimeOut, setTimeOut] = useState(false)\n  const curSec = Math.floor(new Date().getTime()/1000);\n  const endSec = Math.floor(new Date(curDate.year,curDate.og_month,curDate.og_day,9).getTime()/1000);\n  const calcSec = endSec - curSec;\n  const restMin = Math.floor(calcSec/60);\n  const restSec = calcSec%60;\n\n  const onTimeOut = () => {\n    setTimeOut(true);\n  }\n\n  \n  //정렬 라디오버튼\n  const [CateRadio, setCateRadio] = useState(\"all\");\n  const itemSort = (e) => {\n    setCateRadio(e.target.value);\n  };\n\n  //검색\n  const [searchInput, setSearchInput] = useState(\"\");\n  const onSearchChange = (e) => {\n    setSearchInput(e.target.value);\n    if(e.target.value === ''){\n      setSearchAgain(!SearchAgain);\n    }\n  };\n\n  const [SearchAgain, setSearchAgain] = useState(false);\n  const onSearch = () => {\n    setSearchAgain(!SearchAgain);\n  };\n\n  const onToggleFavor = (e, name) => {\n    e.currentTarget.classList.toggle(\"true\");\n    firebase\n      .database()\n      .ref(\"users\")\n      .child(userInfo.uid)\n      .child(`favorite/${name}/add_favor`)\n      .transaction((pre) => {\n        return !pre;\n      });\n  };\n\n  let b_soldout;\n  let m_soldout;\n  let m_soldout2;\n\n  const [TodayLunchCheck, setTodayLunchCheck] = useState();\n  const [ItemList, setItemList] = useState();\n  \n  const [ModifyState, setModifyState] = useState(false)\n  const onModify = () => {\n    setModifyState(true)\n  }\n  useEffect(() => {\n    if (userInfo) {\n      \n      //식단체크\n      firebase.database().ref('lunch/item')\n      .once('value', (snapshot) => {\n        let arr = [];\n        snapshot.forEach(el => {\n          arr.push(el.val())\n        })\n        setItemList(arr)\n      });\n      let lunchCheck = {};\n      firebase\n      .database()\n      .ref(\"lunch\")\n      .child(`user/${userInfo.uid}/checkList/${curDate.full}`)\n      .once(\"value\")\n      .then((snapshot) => {\n          if(snapshot.val()){\n            lunchCheck.date = snapshot.val().date;\n            lunchCheck.confirm = snapshot.val().confirm;\n            lunchCheck.item = snapshot.val().item;\n            setTodayLunchCheck(lunchCheck)\n          }\n      });\n    }\n    return () => {\n    }\n  }, [ModifyState])\n\n  useEffect(() => {\n    let mounted = true;\n    if (mounted && userInfo) {\n\n      //즐찾\n      async function getProdItem() {\n        let favorItem = [];\n        await firebase\n          .database()\n          .ref(\"soldout\")\n          .once(\"value\")\n          .then((snapshot) => {            \n            b_soldout = snapshot.val().b_soldout;\n            m_soldout = snapshot.val().MilkSoldout;\n            m_soldout2 = snapshot.val().MilkSoldout2;\n          });\n          \n        await firebase\n          .database()\n          .ref(\"users\")\n          .child(`${userInfo.uid}/favorite`)\n          .once(\"value\")\n          .then((snapshot) => {\n            snapshot.forEach(function (item) {\n              favorItem.push({\n                name: item.key,\n                add_favor: item.val().add_favor,\n              });\n            });\n          });\n\n        await firebase\n          .database()\n          .ref(\"products\")\n          .orderByChild(\"sort_num\")\n          .on(\"value\", (snapshot) => {\n            let array = [];\n            snapshot.forEach(function (item) {\n              array.push({\n                uid: item.key,\n                name: item.val().name,\n                option: item.val().option,\n                kal: item.val().kal,\n                hot: item.val().hot,\n                milk: item.val().milk,                \n                category: item.val().category,\n                image: item.val().image,\n                price: parseInt(item.val().price),\n                add: item.val().add,\n                b_soldout: b_soldout,\n                m_soldout: m_soldout,\n                m_soldout2: m_soldout2,\n                soldout: item.val().soldout,\n                sort_num: item.val().sort_num ? item.val().sort_num : 9999,\n                limit: item.val().limit,\n                jaego: item.val().jaego ? item.val().jaego : \n                       item.val().jaego === 0 ? 0 : \"\",\n              });\n            });\n            let newFavorItem = [];\n            array.map((el) => {\n              let name = el.name;\n              favorItem.forEach((favor) => {\n                if (favor.name === name) {\n                  newFavorItem.push({\n                    ...favor,\n                    ...el,\n                  });\n                }\n              });\n              return el;\n            });\n            //array = { ...array, ...newFavorItem };\n            \n            newFavorItem.map((el) => {\n              let uid = el.uid;\n              let favor = el.add_favor;\n              array.forEach((el) => {\n                if (el.uid === uid) {\n                  el.add_favor = favor;\n                }\n                return el;\n              });\n            });\n\n            array.sort((a, b) => {\n              return a.sort_num - b.sort_num;\n            });\n\n            array = array.filter((el) => {\n              if (CateRadio === \"all\") {\n                return el;\n              }\n              return el.category === CateRadio;\n            });\n            setProdItem(array);\n            setProdItemCopy(array);\n          });          \n        }\n        getProdItem();\n      }else{\n        setSearchAgain(!SearchAgain);\n      }\n      return function cleanup() {\n        mounted = false;\n      };\n    }, [CateRadio, SearchAgain]);\n    \n    \n    useEffect(() => {\n      if (ProdItemCopy && searchInput !== \"\") {\n      let array = _.cloneDeep(ProdItemCopy);\n      array.forEach(function (item) {\n        var dis = Hangul.disassemble(item.name, true);\n        var cho = dis.reduce(function (prev, elem) {\n          elem = elem[0] ? elem[0] : elem;\n          return prev + elem;\n        }, \"\");\n        item.diassembled = cho;\n      });\n      let arr = searchInput.concat();\n      let search = Hangul.disassemble(arr).join(\"\");\n      array = array.filter(function (item) {\n        return (\n          item.diassembled.includes(searchInput) ||\n          item.diassembled.includes(search) ||\n          item.name.includes(searchInput)\n          );\n        });\n        setProdItem(array);\n    }    \n  }, [searchInput])\n\n  const [PosX, setPosX] = useState(0);\n  const [PosY, setPosY] = useState(0);\n  const [OnModal, setOnModal] = useState(false);\n  const [OrderItem, setOrderItem] = useState();\n  const orderHandler = (e, item) => {\n    if (e.target.tagName !== \"svg\" && e.target.tagName !== \"path\") {\n      /*\n      if(!TodayLunchCheck){\n        alert('식단체크를 먼저 해야 주문이 가능합니다.');\n        return;\n      }\n      if(TodayLunchCheck && !TodayLunchCheck.confirm){\n        alert('오늘의 식단을 확인 해야 주문이 가능합니다.');\n        return;\n      }\n      */\n      \n      if (b_soldout === false) {\n        item.add = \"\";\n      }\n      setOrderItem(item);\n      setPosX(e.clientX);\n      setPosY(e.clientY);\n      setOnModal(true);\n    }\n  };\n  const onFinished = () => {\n    setOnModal(false);\n  };\n\n  const TopBox = (\n    <>\n      <Search\n        style={{ marginBottom: \"10px\" }}\n        allowClear\n        enterButton=\"검색\"\n        size=\"large\"\n        placeholder=\"실시간 검색(초성가능)\"\n        value={searchInput}\n        onSearch={onSearch}\n        onChange={onSearchChange}\n        type=\"text\"\n      />\n      <div className=\"menuCategory\">\n        <Radio.Group\n          className=\"menuCategory\"\n          onChange={itemSort}\n          defaultValue=\"all\"\n          buttonStyle=\"solid\"\n        >\n          <Radio.Button value=\"all\">전체</Radio.Button>\n          <Radio.Button value=\"커피\">커피</Radio.Button>\n          <Radio.Button value=\"라떼\">라떼</Radio.Button>\n          <Radio.Button value=\"에이드\">에이드</Radio.Button>\n          <Radio.Button value=\"차\">차</Radio.Button>\n          <Radio.Button value=\"프로틴\">프로틴</Radio.Button>\n          <Radio.Button value=\"스낵\">스낵</Radio.Button>\n          <Radio.Button value=\"주스\">주스</Radio.Button>\n        </Radio.Group>\n      </div>\n    </>\n  );\n\n  const [LunchPop, setLunchPop] = useState(true)\n  const onConfrim =(uid) => {\n    let date = curDate.full;\n    try {\n      firebase.database().ref(`lunch/user/${uid}/checkList/${date}`)\n      .update({\n        confirm: 1\n      })\n      setLunchPop(false)\n    }catch (error) {\n      console.error(error);\n    }\n  }\n\n\n  const onLunchSubmit = (e) => {\n    e.preventDefault();\n    let list = [...lunchCheckBox.current.querySelectorAll('input[type=checkbox]:checked')];\n    let arr = [];\n    list.map(el=>{\n      arr.push(el.dataset.value)\n    })\n    firebase.database().ref(`lunch/user/${userInfo.uid}/checkList/${curDate.full}`)\n    .update({\n      item: arr\n    })\n    setModifyState(false)\n  }\n\n  if (ProdItem.length) {\n    return (\n      <> \n        {TodayLunchCheck && !TodayLunchCheck.confirm && curDate.hour < 9 && LunchPop &&\n          <div className=\"lunch-check-popup\">\n            {TodayLunchCheck.item && \n              <>\n                <dl>\n                  {!ModifyState &&\n                    <>\n                      <dt>{userInfo.displayName}님의 오늘식단</dt>\n                      <dd className=\"item-list\">\n                        <span>\n                        {TodayLunchCheck.item.map((el,idx)=>(\n                          TodayLunchCheck.item.length == (idx+1) ? <span key={idx}>{el}</span> : <span key={idx}>{el},</span>\n                        ))}  \n                        </span>\n                      </dd>\n                    </>\n                  }\n                </dl>\n                \n                <div className=\"rest-time\">\n                  <antIcon.AiOutlineFieldTime />남은시간 : <Timer onTimeOut={onTimeOut} mm={restMin} ss={restSec}/>\n                </div>                \n                <div ref={lunchCheckBox} className={`check-list-box ${ModifyState && 'modify'}`}>\n                  {ItemList && ModifyState && \n                  ItemList.map((list,l_idx) => (\n                    <Checkbox key={l_idx} data-value={list} defaultChecked={TodayLunchCheck.item && TodayLunchCheck.item.includes(list) ? true : false}>{list}</Checkbox>\n                  ))            \n                  }\n                </div>\n                <div className=\"btn-box\">\n                  {!ModifyState &&\n                    <>\n                      <Button disabled={TimeOut} style={{marginRight:\"5px\"}} onClick={onModify}>수정하기</Button>\n                      <Button disabled={TimeOut} type=\"primary\" onClick={()=>{onConfrim(userInfo.uid)}}>식단확인</Button>\n                    </>\n                  }\n                  {ModifyState &&\n                    <Button type=\"primary\" onClick={onLunchSubmit}>적용하기</Button>\n                  }\n                </div>\n              </>\n            }\n            {!TodayLunchCheck.item && \n              <dl>\n                <dt>오늘 식단을 아직 정하지 않았습니다.</dt>\n                <div className=\"btn-box\">\n                  <Button type=\"primary\"><Link to=\"/lunch\">체크 하러가기</Link></Button>\n                </div>\n              </dl>\n            }\n          </div>\n        }\n        {TopBox}\n        <ProdList>\n          {ProdItem.map((item, index) => (\n            <div\n              style={{ cursor: \"pointer\", position: \"relative\" }}\n              className={`ani-fadein list delay-${index}`}\n              key={index}\n            >\n              {(item.soldout === false || item.jaego === 0) && (\n                <div\n                  style={{\n                    width: \"100%\",\n                    height: \"100%\",\n                    position: \"absolute\",\n                    left: \"0\",\n                    top: \"0\",\n                    display: \"flex\",\n                    fontSize: \"14px\",\n                    color: \"#fff\",\n                    justifyContent: \"center\",\n                    alignItems: \"center\",\n                    background: \"rgba(0,0,0,0.5)\",\n                    zIndex: \"10\",\n                  }}\n                >\n                  sold out\n                </div>\n              )}\n              \n              <div className=\"img\" onClick={(e) => orderHandler(e, item)}>\n                <span style={{ opacity: \"0.85\" }} className=\"kal\">\n                  {item.kal}kal\n                </span>\n                <img src={item.image} alt=\"\" />\n              </div>\n              <div className=\"user-box\" onClick={(e) => orderHandler(e, item)}>\n                <div className=\"txt\" style={{ padding: \"0 5px\" }}>\n                  <div className=\"flex-box between\">\n                    <span className=\"name\">\n                      {item.name}\n                      <span className=\"hidden\">{item.uid}</span>\n                      {(item.jaego > 0 && item.jaego < 6) && (\n                      <div style={{fontSize:\"12px\",color:\"red\"}}>잔여수량 : {item.jaego}</div>\n                      )}\n                    </span>\n                    <span\n                      className={\"ic-favor p-color \" + item.add_favor}\n                      onClick={(e) => {\n                        onToggleFavor(e, item.name);\n                      }}\n                    >\n                      <antIcon.AiFillStar className=\"favor\" />\n                      <antIcon.AiOutlineStar className=\"no-favor\" />\n                    </span>\n                  </div>\n                  <div className=\"flex-box between a-center\">\n                    <span className=\"hot\">\n                      {item.hot === \"etc\" ? \"\" : item.hot}\n                    </span>\n                    <span\n                      style={{\n                        textDecoration: \"line-through\",\n                        color: \"#888\",\n                      }}\n                      className=\"price\"\n                    >\n                      {commaNumber(item.price)}원\n                    </span>\n                  </div>\n                </div>\n              </div>\n            </div>\n          ))}\n        </ProdList>\n        {OnModal && (\n          <OderModalPopup\n            onFinished={onFinished}\n            posx={PosX}\n            posy={PosY}\n            OrderItem={OrderItem}\n          />\n        )}\n      </>\n    );\n  } else if (searchInput) {\n    return (\n      <>\n        {TopBox}\n        <div style={{ paddingTop: \"15px\" }}>\n          <Empty\n            description={\n              <span>\n                검색결과가 없습니다.\n                <br />\n                ※검색어가 제대로 입력된 경우엔 검색버튼을 다시 눌러보세요.\n              </span>\n            }\n            image={Empty.PRESENTED_IMAGE_SIMPLE}\n          />\n        </div>\n      </>\n    );\n  } else {\n    return (\n      <>\n        {TopBox}\n        <Loading />\n      </>\n    );\n  }\n}\n\nexport default Menu;\n","export default __webpack_public_path__ + \"static/media/jumun.bbc690ea.mp3\";","export default __webpack_public_path__ + \"static/media/jumun2.afbd9ac5.mp3\";","export default __webpack_public_path__ + \"static/media/jumun3.02a15ee2.mp3\";","export default __webpack_public_path__ + \"static/media/jumun4.e6ebbc19.mp3\";","export default __webpack_public_path__ + \"static/media/pling.91e4385e.mp3\";","export default __webpack_public_path__ + \"static/media/dding.baf32ead.mp3\";","export default __webpack_public_path__ + \"static/media/alert.bdfdf447.mp3\";","import React, { useState, useEffect } from \"react\";\nimport { Button,message } from \"antd\";\nimport styled from \"styled-components\";\nimport firebase, {old} from \"../../firebase\";\nimport { Radio } from \"antd\";\nimport { commaNumber,notify,getFormatDate } from \"../CommonFunc\";\nimport { Howl } from \"howler\";\nimport axios from \"axios\";\nimport src1 from \"../../jumun.mp3\";\nimport src2 from \"../../jumun2.mp3\";\nimport src3 from \"../../jumun3.mp3\";\nimport src4 from \"../../jumun4.mp3\";\nimport src5 from \"../../pling.mp3\";\nimport src6 from \"../../dding.mp3\";\nimport src7 from \"../../alert.mp3\";\n\nexport const OrderBox = styled.div`\n  width: 100%;\n  display: flex;\n  flex-wrap: wrap;  \n  .list {\n    &.user{\n        position:relative;\n        padding-left:80px;\n        .order-prod-img{\n          width:55px;height:55px;border-radius:50%;overflow:hidden;\n          position:absolute;left:15px;top:50%;transform:translateY(-50%);\n          &.no-img{border:1px solid #ededed}\n          img{\n            height:100%;\n            position:absolute;left:50%;\n            transform:translateX(-50%);\n          }\n        }\n        .btn-cancel{margin-right:5px}\n    }\n    .ic-hot,\n    .ic-ice {\n      display: inline-block;\n      width: 12px;\n      height: 12px;\n      border-radius: 50%;\n      opacity: 0.4;\n      margin-right: 10px;\n      position: relative;\n      top: 1px;\n    }\n    .ic-hot {\n      background: #f02424;\n    }\n    .ic-ice {\n      background: #1890ff;\n    }\n    color: #888;    \n    &.state_0 {\n      .ic-hot,\n      .ic-ice {\n        opacity: 0.85;\n      }\n      color: #555;\n      border-color: #e6f7ff;\n      .info {\n        color: #111;\n        font-weight: 500;\n      }\n    }\n    &.state_1{\n      .ic-hot,\n      .ic-ice {\n        opacity: 1;\n      }\n      .info {\n        color: #111;\n        font-weight: 500;\n      }\n    }\n    .from {\n      border-bottom: 1px solid #ddd;\n      height: 30px;\n    }\n    .shrink-0{flex-shrink: 0;}\n    diplay: flex;\n    flex-direction: column;\n    padding: 10px;\n    border: 1px solid #ddd;\n    border-radius: 10px;\n    width: calc(50% - 10px);\n    margin: 5px;\n    .from {\n      margin-bottom: 5px;\n    }\n    .date {\n      font-size: 12px;\n    }\n    .info-box {\n      display: flex;\n      min-height:30px;\n      align-items: center;\n      .info {\n        margin-right: 7px;\n      }\n      .ant-btn {\n        height: 28px;\n        padding: 0 7px;\n        line-height: 1;\n        span {\n          height: 100%;\n          line-height: 28px;\n          font-size: 12px;\n        }\n      }\n    }\n    & > div {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      width: 100%;\n      padding: 0 4px;\n    }\n    \n  }\n  @media all and (max-width: 1200px) {\n    .list {\n      width: 100%;\n      margin: 5px 0;\n      &.user{\n        padding-left:76px;\n        .order-prod-img{\n          width:52px;height:52px;border-radius:50%;overflow:hidden;\n          position:absolute;left:13px;\n        }\n        .btn-cancel{height:28px;font-size:12px;padding:0 10px}\n      }\n    }\n  }\n`;\n\n\nfunction AdminOrder() {\n  const [SoundSelect, setSoundSelect] = useState();\n  useEffect(() => {\n    firebase\n      .database()\n      .ref(\"order_sound\")\n      .child(\"sound\")\n      .once(\"value\")\n      .then((snapshot) => {\n        setSoundSelect(snapshot.val());\n      });\n  }, []);\n  const onSoundChange = (e) => {\n    setSoundSelect(e.target.value);\n    SoundSelect && Sound.play();\n    firebase.database().ref(\"order_sound\").update({ sound: e.target.value });\n  };\n\n  const Sound = new Howl({\n    src: [SoundSelect],\n  });\n\n  const [OrderList, setOrderList] = useState([]);\n  useEffect(() => {\n    let mounted = true;\n    if (mounted) {\n        firebase\n        .database()\n        .ref(\"order\")\n        .orderByChild(\"order_state\")\n        .endAt(1)\n        .on(\"value\", (snapshot) => {\n          let array = [];\n          snapshot.forEach(function (item) {\n            array.push({\n              ...item.val(),\n              key: item.key,\n            });\n          });\n          // eslint-disable-next-line array-callback-return\n          array.sort((a, b) => {\n            if (a.timestamp > b.timestamp) {\n              return 1;\n            }\n            if (a.timestamp < b.timestamp) {\n              return -1;\n            }\n          });\n          setOrderList(array);\n        });\n      }\n    return function cleanup() {\n      firebase.database().ref(\"order\").off();\n      mounted = false;\n    };\n  }, []);\n\n  const [OrderCount, setOrderCount] = useState()\n  useEffect(() => {\n    let mounted = true;\n    if (mounted) {\n      firebase\n        .database()\n        .ref(\"order_count\")\n        .on(\"value\", (snapshot) => {\n          setOrderCount(snapshot.val())\n          if(OrderList.length > 0){\n            SoundSelect && Sound.play();\n            notify('새 주문이 들어왔습니다.');\n          }\n        });\n    }\n    \n    return function cleanup() {\n      firebase.database().ref(\"order_count\").off();\n      mounted = false;\n    };\n  }, [OrderCount]);\n\n  const stateChange = (key) => {\n      firebase.database().ref(`order/${key}`)\n      .child(\"order_state\")\n      .transaction((pre) => {\n        return pre + 1;\n      });\n  };\n  const stateChange2 = (key) => {\n      firebase.database().ref(`order/${key}`)\n      .child(\"order_state\")\n      .transaction((pre) => {\n        return pre + 1;\n      });\n  };\n\n  \n  const kakaoSend = (key) => { \n\n    // 올드DB에 추가\n    let newData = key;\n    newData.order_state = 2\n    firebase.database(old).ref(`order/${newData.key}`)\n    .update({\n      ...newData\n    })\n\n    // 오래된 데이터 삭제\n    firebase.database().ref('order')\n    .once(\"value\",data=>{\n      data.forEach(el=>{                                \n        if(el.val().timestamp < (new Date().getTime() - 2592000000)){\n          firebase.database().ref(`order/${el.key}`).remove()\n        }\n      })\n    })  \n\n    let time = getFormatDate(new Date(key.order_time.split(\"|\")[0]));\n    time = time.full+time.hour+time.min+time.sec\n    let url = \"https://metree.co.kr/_sys/_xml/order_kakao.php?order_tel=\"+ key.order_phone +\"&goods_name=\"+ key.prod_name + \"&order_time=\" + time;\n    window.open(url,'kakao',\"height=1,width=1\");\n    return;\n  }\n  \n  const orderCancel = (key,uid) => {\n    if (window.confirm(\"주문 취소 하시겠습니까?\")) {\n      firebase.database().ref(\"order\").child(key).remove()\n      firebase\n        .database()\n        .ref(\"products\")\n        .child(uid)\n        .transaction((pre) => {\n          if(pre.jaego >= 0){\n            pre.jaego++;\n            return pre;\n          }\n        });\n        message.success('주문이 취소되었습니다.');\n    }\n  }\n\n\n  return (\n    <>\n      <h3 className=\"title\">주문관리</h3>\n      <div style={{ marginBottom: \"15px\" }}>\n        <Radio.Group onChange={onSoundChange} value={SoundSelect}>\n          <Radio.Button value=\"\">무음</Radio.Button>\n          <Radio.Button value={src1}>주문-여자</Radio.Button>\n          <Radio.Button value={src2}>주문-남자</Radio.Button>\n          <Radio.Button value={src3}>주문-여자아이</Radio.Button>\n          <Radio.Button value={src4}>주문-남자아이</Radio.Button>\n          <Radio.Button value={src5}>효과음1</Radio.Button>\n          <Radio.Button value={src6}>효과음2</Radio.Button>\n          <Radio.Button value={src7}>효과음3</Radio.Button>\n        </Radio.Group>\n      </div>\n      <OrderBox className=\"order-list-box\">\n        {OrderList.map((list, index) => (\n          <div className={`list state_${list.order_state}`} key={index}>\n            <span style={{ display: \"none\" }}>{list.key}</span>\n            <div className=\"from\">\n              <span>{list.order_name}</span>\n              <span>{list.order_part}</span>\n            </div>\n            <div className=\"prod\">\n              <div className=\"info-box\">\n                <span className=\"info\">\n                  {list.prod_name}{list.prod_option ? `-${list.prod_option}`:\"\"}\n                </span>\n                {list.hot === \"hot\" ? (\n                  <span className=\"ic-hot shrink-0\"></span>\n                ) : list.hot === \"ice\" ? (\n                  <span className=\"ic-ice shrink-0\"></span>\n                ) : (\n                  \"\"\n                )}\n                {/* <span className=\"info shrink-0\">{list.amount}개</span> */}\n                {list.add && (\n                      <span className=\"info shrink-0\">{list.add}</span>\n                    )}\n                {list.add2 && list.add2[0] && (\n                  <span className=\"info shrink-0\">{list.add2[0]}</span>\n                )}\n                {list.add2 && list.add2[1] && (\n                  <span className=\"info shrink-0\">{list.add2[1]}</span>\n                )}\n                {list.milk && (\n                  <span className=\"info shrink-0\">{list.milk}</span>\n                )}\n              </div>\n              <span className=\"shrink-0\">{commaNumber(parseInt(list.price))}원</span>\n            </div>\n            <div style={{color:\"red\",fontWeight:\"500\"}}>\n                {list.order_etc && list.order_etc}\n            </div>\n            <div className=\"state\">\n              <span className=\"date\">\n                {list.order_time}\n              </span>\n              <div>\n              \n              {list.order_state === 0 &&\n              <>\n                <Button style={{marginRight:\"5px\"}}\n                  onClick={() => {\n                    orderCancel(list.key,list.prod_uid);\n                  }}\n                >\n                  주문취소\n                </Button>\n                <Button\n                  onClick={() => {\n                    stateChange(list.key);\n                  }}\n                >\n                  주문접수\n                </Button>\n              </>\n              }\n              {list.order_state === 1 &&\n              <Button\n                onClick={() => {\n                  stateChange2(list.key);\n                  kakaoSend(list);\n                }}\n              >\n                완료처리\n              </Button>\n              }\n              </div>\n            </div>\n          </div>\n        ))}\n      </OrderBox>\n    </>\n  );\n}\n\nexport default AdminOrder;\n","import { Button } from \"antd\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport firebase, {old} from \"../firebase\";\r\nimport { Popover,message } from \"antd\";\r\nimport { commaNumber,notify,getFormatDate } from \"./CommonFunc\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { OrderBox } from \"./Admin/AdminOrder\";\r\nimport * as antIcon from \"react-icons/ai\";\r\nimport Loading from \"./Loading\";\r\nimport { Empty,DatePicker } from \"antd\";\r\nconst { RangePicker } = DatePicker;\r\n\r\nfunction MyOrder() {\r\n  const userInfo = useSelector((state) => state.user.currentUser);\r\n  const [OrderList, setOrderList] = useState([]);\r\n  const [Nodata, setNodata] = useState(false);\r\n\r\n  const [StartDate, setStartDate] = useState(20210101);\r\n  const [EndDate, setEndDate] = useState(21210101);\r\n\r\n  const [ReRender, setReRender] = useState(false);\r\n\r\n\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    if (mounted) {\r\n      firebase\r\n        .database()\r\n        .ref(\"order\")\r\n        .orderByChild(\"order_uid\")\r\n        .equalTo(userInfo.uid)\r\n        .on(\"value\", (snapshot) => {\r\n          let array = [];\r\n          snapshot.forEach(function (item) {\r\n            let date =  item.val().order_time.split('-')\r\n            date = parseInt(date[0]+ '' + date[1] + date[2].split(' ')[0]);\r\n            let date2 =  item.val().order_time.split(' ');            \r\n            date2 = new Date(date2[0]+'T'+date2[1].split('|')[0]).getTime()\r\n            array.push({\r\n              ...item.val(),\r\n              key: item.key,\r\n              order_date: date,\r\n              timestamp: date2\r\n            });\r\n          });\r\n          // eslint-disable-next-line array-callback-return\r\n          array.sort((a, b) => {\r\n            if (a.timestamp < b.timestamp) {\r\n              return 1;\r\n            }\r\n            if (a.timestamp > b.timestamp) {\r\n              return -1;\r\n            }\r\n          });\r\n          array = array.filter(el => {\r\n            return StartDate <= el.order_date && el.order_date <= EndDate;\r\n          })\r\n          array = array.slice(0,30)\r\n          setOrderList(array);\r\n          if (array.length === 0) {\r\n            setNodata(true);\r\n          }\r\n          notify('주문상태가 변경되었습니다.')\r\n        });\r\n    }\r\n    return function cleanup() {\r\n      firebase.database().ref(\"order\").off();\r\n      mounted = false;\r\n    };\r\n  }, [ReRender]);\r\n\r\n  const orderCancel = (key,uid) => {\r\n    if (window.confirm(\"주문 취소 하시겠습니까?\")) {\r\n      firebase.database().ref(\"order\").child(key).remove()\r\n      firebase\r\n        .database()\r\n        .ref(\"products\")\r\n        .child(uid)\r\n        .transaction((pre) => {\r\n          if(pre.jaego >= 0){\r\n            pre.jaego++;\r\n            return pre;\r\n          }\r\n        });\r\n        message.success('주문이 취소되었습니다.');\r\n    }\r\n  }\r\n\r\n  const onDateChange = (e) => {\r\n    if(e){\r\n      setStartDate(getFormatDate(e[0]._d).full)\r\n      setEndDate(getFormatDate(e[1]._d).full)\r\n      setReRender(!ReRender)\r\n    }\r\n  }\r\n\r\n\r\n  const dbDel = () => {\r\n    firebase.database().ref('order')\r\n    .once(\"value\",data=>{\r\n      data.forEach(el=>{                                \r\n        if(el.val().timestamp < (new Date().getTime() - 2592000000)){\r\n          firebase.database().ref(`order/${el.key}`).remove()\r\n        }\r\n      })\r\n    })\r\n  }\r\n\r\n\r\n\r\n  if (OrderList.length) {\r\n    return (\r\n      <> \r\n        {/* {userInfo && userInfo.role > 2 &&\r\n          <Button onClick={dbDel}>old delete</Button>\r\n        } */}\r\n        <div className=\"flex-box a-center\">\r\n          <RangePicker onChange={onDateChange} />\r\n          <span style={{color:\"#999\",fontSize:\"12px\",marginLeft:\"5px\"}}>*최근 한달안의 데이터만 검색 가능합니다.</span>\r\n        </div>\r\n        <OrderBox className=\"order-list-box\">\r\n          {OrderList.map((list, index) => (\r\n            <div className={`user list state_${list.order_state}`} key={index}>\r\n              {list.prod_img ? (\r\n                <div className=\"order-prod-img\">\r\n                  <img src={list.prod_img} /> \r\n                </div>\r\n              ):(\r\n                <div className=\"order-prod-img no-img\">\r\n                  <antIcon.AiOutlineCoffee />\r\n                </div>\r\n              )\r\n              }\r\n              <div className=\"prod\">\r\n                <div className=\"info-box\">\r\n                  <span className=\"info\">\r\n                    {list.prod_name}{list.prod_option ? `-${list.prod_option}`:\"\"}\r\n                  </span>\r\n                  {list.hot === \"hot\" ? (\r\n                    <span className=\"ic-hot shrink-0\"></span>\r\n                  ) : list.hot === \"ice\" ? (\r\n                    <span className=\"ic-ice shrink-0\"></span>\r\n                  ) : (\r\n                    \"\"\r\n                  )}\r\n                  {/* <span className=\"info shrink-0\">{list.amount}개</span> */}\r\n                  <div>\r\n                    {list.add && (\r\n                      <span className=\"info shrink-0\">{list.add}</span>\r\n                    )}\r\n                    {list.add2 && (\r\n                      <span className=\"info shrink-0\">{list.add2}</span>\r\n                    )}\r\n                    {list.milk && (\r\n                      <span className=\"info shrink-0\">{list.milk}</span>\r\n                    )}\r\n                  </div>\r\n                  {list.order_etc && (\r\n                    <Popover content={list.order_etc} trigger=\"click\">\r\n                      <Button type=\"default\">기타</Button>\r\n                    </Popover>\r\n                  )}\r\n                </div>\r\n                <span className=\"shrink-0\">{commaNumber(parseInt(list.price))}원</span>\r\n              </div>\r\n              <div className=\"state\">\r\n                <span className=\"date\">\r\n                  {list.order_time.split(\"|\")[0]}&nbsp; (\r\n                  {list.order_time.split(\"|\")[1]})\r\n                </span>\r\n                <span className=\"setting\">\r\n                  {list.order_state === 0 &&\r\n                  <>\r\n                    <Button\r\n                      className=\"btn-cancel\"\r\n                      style={{marginRight:\"5px\"}}\r\n                      onClick={() => {\r\n                        orderCancel(list.key,list.prod_uid);\r\n                      }}\r\n                    >\r\n                      주문취소\r\n                    </Button>\r\n                    대기중\r\n                    </>\r\n                    }\r\n                  {list.order_state === 1 && \"주문접수\"}\r\n                  {list.order_state === 2 && \"완료\"}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </OrderBox>\r\n      </>\r\n    );\r\n  } else if (Nodata) {\r\n    return (\r\n      <>\r\n        <Empty\r\n          description=\"주문내역이 없습니다.\"\r\n          image={Empty.PRESENTED_IMAGE_SIMPLE}\r\n        ></Empty>\r\n      </>\r\n    );\r\n  } else {\r\n    return (\r\n      <>\r\n        <Loading />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MyOrder;\r\n","import React, { useState, useEffect } from \"react\";\nimport firebase from \"../firebase\";\nimport { ProdList } from \"./Admin/AdminProd\";\nimport OderModalPopup from \"./OrderModal\";\nimport * as antIcon from \"react-icons/ai\";\nimport { commaNumber,getFormatDate } from \"./CommonFunc\";\nimport { useSelector } from \"react-redux\";\nimport Loading from \"./Loading\";\n\nconst curDate = getFormatDate(new Date());\nfunction MyMenu() {\n  const userInfo = useSelector((state) => state.user.currentUser);\n\n  const [FavorItem, setFavorItem] = useState([]);\n  const [ProdItem, setProdItem] = useState([]);\n  const [AddFavorItem, setAddFavorItem] = useState([]);\n  const [SortItem, setSortItem] = useState(false);\n\n  const onToggleFavor = (e, name) => {\n    e.currentTarget.closest(\".list\").remove();\n    e.currentTarget.classList.toggle(\"true\");\n    firebase\n      .database()\n      .ref(\"users\")\n      .child(userInfo.uid)\n      .child(`favorite/${name}/add_favor`)\n      .transaction((pre) => {\n        return !pre;\n      });\n  };\n  let b_soldout;\n  let m_soldout;\n  let m_soldout2;\n\n  const [TodayLunchCheck, setTodayLunchCheck] = useState();\n\n  useEffect(() => {\n    let mounted = true;\n    if (mounted) {\n  \n\n      async function getProdItem() {\n        let favor = [];\n        let favorName = [];\n        await firebase\n          .database()\n          .ref(\"soldout\")\n          .once(\"value\")\n          .then((snapshot) => {            \n            b_soldout = snapshot.val().b_soldout;\n            m_soldout = snapshot.val().MilkSoldout;\n            m_soldout2 = snapshot.val().MilkSoldout2;\n          });\n        await firebase\n          .database()\n          .ref(`users/${userInfo.uid}/favorite`)\n          .orderByChild(\"count\")\n          .startAt(1)\n          .once(\"value\")\n          .then((snapshot) => {\n            snapshot.forEach(function (item) {\n              favorName.push(item.key);\n              favor.push({\n                name: item.key,\n                count: item.val().count,\n              });\n            });\n          });\n        setFavorItem(favor);\n        await firebase\n          .database()\n          .ref(\"products\")\n          .once(\"value\")\n          .then((snapshot) => {\n            let array = [];\n            snapshot.forEach(function (item) {\n              array.push({\n                uid: item.key,\n                name: item.val().name,\n                option: item.val().option,\n                kal: item.val().kal,\n                hot: item.val().hot,\n                milk: item.val().milk,                \n                category: item.val().category,\n                image: item.val().image,\n                price: parseInt(item.val().price),\n                add: item.val().add,\n                b_soldout: b_soldout,\n                m_soldout: m_soldout,\n                m_soldout2: m_soldout2,\n                soldout: item.val().soldout,\n                sort_num: item.val().sort_num ? item.val().sort_num : 9999,\n                jaego: item.val().jaego ? item.val().jaego : \n                       item.val().jaego === 0 ? 0 : \"\",\n              });\n            });\n            setProdItem(array);\n          });\n        setSortItem(true);\n        if (FavorItem && ProdItem) {\n          let array = ProdItem.concat();\n          array = array.filter((el) => {\n            return favorName.includes(el.name);\n          });\n          let assignArr = [];\n          array.map(el => {\n            favor.map((item) => {\n              item.name === el.name && assignArr.push(Object.assign(item, el));\n            });\n          });\n          assignArr.sort((a, b) => {\n            if (a.count > b.count) {\n              return -1;\n            }\n            if (a.count < b.count) {\n              return 1;\n            }\n            return 0;\n          });\n          assignArr = assignArr.slice(0, 10);\n          setProdItem(assignArr);\n        }\n\n      }\n      getProdItem();\n      //즐찾\n      async function getFavorItem() {\n        let addFavor = [];\n        let addFavorName = [];\n        let array = [];\n        await firebase\n          .database()\n          .ref(`users/${userInfo.uid}/favorite`)\n          .orderByChild(\"add_favor\")\n          .equalTo(true)\n          .once(\"value\")\n          .then((snapshot) => {\n            snapshot.forEach(function (item) {\n              addFavorName.push(item.key);\n              addFavor.push({\n                name: item.key,\n                add_favor: item.val().add_favor,\n              });\n            });\n          });\n        await firebase\n          .database()\n          .ref(\"products\")\n          .once(\"value\")\n          .then((snapshot) => {\n            snapshot.forEach(function (item) {\n              array.push({\n                uid: item.key,\n                name: item.val().name,\n                option: item.val().option,\n                kal: item.val().kal,\n                hot: item.val().hot,\n                milk: item.val().milk,                \n                category: item.val().category,\n                image: item.val().image,\n                price: parseInt(item.val().price),\n                add: item.val().add,\n                b_soldout: b_soldout,\n                m_soldout: m_soldout,\n                m_soldout2: m_soldout2,\n                soldout: item.val().soldout,\n                sort_num: item.val().sort_num ? item.val().sort_num : 9999,\n              });\n            });\n          });\n          \n        array = array.filter((el) => {\n          return addFavorName.includes(el.name);\n        });\n        array.map((el) => {\n          addFavor.map((favor) => {\n            favor.name === el.name && Object.assign(favor, el);\n          });\n          return addFavor;\n        });\n        array.sort((a, b) => {\n          return a.sort_num - b.sort_num;\n        });\n        setAddFavorItem(array);\n      }\n      getFavorItem();\n    }\n    return function cleanup() {\n      mounted = false;\n    };\n  }, [SortItem]);\n\n  const [PosX, setPosX] = useState(0);\n  const [PosY, setPosY] = useState(0);\n  const [OnModal, setOnModal] = useState(false);\n  const [OrderItem, setOrderItem] = useState();\n  const orderHandler = (e, item) => {\n    /*\n    if(TodayLunchCheck && !TodayLunchCheck.confirm){\n      alert('식단체크를 먼저 해야 주문이 가능합니다.');\n      return;\n    }\n    */\n    if (e.target.tagName !== \"svg\" && e.target.tagName !== \"path\") {\n      if (b_soldout === false) {\n        item.add = \"\";\n      }\n      setOrderItem(item);\n      setPosX(e.clientX);\n      setPosY(e.clientY);\n      setOnModal(true);\n    }\n  };\n  \n  const onFinished = () => {\n    setOnModal(false);\n  };\n\n  return (\n    <>\n      <h3 className=\"title\">즐겨찾기 메뉴</h3>\n      {AddFavorItem ? (\n        <ProdList>\n          {AddFavorItem.map((item, index) => (\n            <div\n              style={{ cursor: \"pointer\",position:\"relative\" }}\n              className={`ani-fadein list delay-${index}`}\n              key={index}              \n            >\n              {item.soldout === false && (\n                <div\n                  style={{\n                    width: \"100%\",\n                    height: \"100%\",\n                    position: \"absolute\",\n                    left: \"0\",\n                    top: \"0\",\n                    display: \"flex\",\n                    fontSize: \"14px\",\n                    color: \"#fff\",\n                    justifyContent: \"center\",\n                    alignItems: \"center\",\n                    background: \"rgba(0,0,0,0.5)\",\n                    zIndex: \"10\",\n                  }}\n                >\n                  sold out\n                </div>\n              )}\n              <div className=\"img\" onClick={(e) => orderHandler(e, item)}>\n                <span style={{ opacity: \"0.85\" }} className=\"kal\">\n                  {item.kal}kal\n                </span>\n                <img src={item.image} alt=\"\" />\n              </div>\n              <div className=\"user-box\" onClick={(e) => orderHandler(e, item)}>\n                <div className=\"txt\" style={{ padding: \"0 5px\" }}>\n                  <div className=\"flex-box between\">\n                    <span className=\"name\">\n                      {item.name}\n                      <span className=\"hidden\">{item.uid}</span>\n                      {(item.jaego > 0 && item.jaego < 6) && (\n                      <div style={{fontSize:\"12px\",color:\"red\"}}>품절임박 - 잔여수량 : {item.jaego}</div>\n                      )}\n                    </span>\n                    <span\n                      className=\"ic-favor true p-color\"\n                      onClick={(e) => {\n                        onToggleFavor(e, item.name);\n                      }}\n                    >\n                      <antIcon.AiFillStar className=\"favor\" />\n                    </span>\n                  </div>\n                  <div className=\"flex-box between a-center\">\n                    <span className=\"hot\">{item.hot}</span>\n                    <span\n                      style={{\n                        textDecoration: \"line-through\",\n                        color: \"#888\",\n                      }}\n                      className=\"price\"\n                    >\n                      {commaNumber(item.price)}원\n                    </span>\n                  </div>\n                </div>\n              </div>\n            </div>\n          ))}\n        </ProdList>\n      ) : (\n        <>\n          <Loading />\n        </>\n      )}\n      <h3 className=\"title\" style={{ marginTop: \"30px\" }}>\n        내가 많이 주문한 메뉴 TOP 10\n      </h3>\n      {SortItem ? (\n        <ProdList>\n          {ProdItem.map((item, index) => (\n            <div\n              style={{ cursor: \"pointer\",position:\"relative\" }}\n              className={`ani-fadein list delay-${index}`}\n              key={index}              \n            >\n              {item.soldout === false && (\n                <div\n                  style={{\n                    width: \"100%\",\n                    height: \"100%\",\n                    position: \"absolute\",\n                    left: \"0\",\n                    top: \"0\",\n                    display: \"flex\",\n                    fontSize: \"14px\",\n                    color: \"#fff\",\n                    justifyContent: \"center\",\n                    alignItems: \"center\",\n                    background: \"rgba(0,0,0,0.5)\",\n                    zIndex: \"100\",\n                  }}\n                >\n                  sold out\n                </div>\n              )}\n              <div className=\"img\" onClick={(e) => orderHandler(e, item)}>\n                <span style={{ opacity: \"0.85\" }} className=\"kal\">\n                  {item.kal}kal\n                </span>\n                <span\n                  style={{\n                    position: \"absolute\",\n                    left: \"0\",\n                    top: \"0\",\n                    zIndex: \"10\",\n                    padding:\"0 7px\",\n                    height: \"26px\",\n                    background: \"#333\",\n                    textAlign: \"center\",\n                    lineHeight: \"26px\",\n                    fontSize: \"12px\",\n                    borderBottomRightRadius: \"6px\",\n                    color: \"#fff\",\n                  }}\n                >\n                  {index + 1}위  \n                  <span style={{fontSize:\"11px\"}}> ({item.count}회 주문)</span>\n                </span>\n                <img src={item.image} alt=\"\" />\n              </div>\n              <div className=\"user-box\" onClick={(e) => orderHandler(e, item)}>\n                <div className=\"txt\" style={{ padding: \"0 5px\" }}>\n                  <span className=\"name\">\n                    {item.name}\n                    <span className=\"hidden\">{item.uid}</span>\n                    {(item.jaego > 0 && item.jaego < 6) && (\n                    <div style={{fontSize:\"12px\",color:\"red\"}}>품절임박 - 잔여수량 : {item.jaego}</div>\n                    )}\n                  </span>\n                  <div className=\"flex-box between a-center\">\n                    <span className=\"hot\">{item.hot}</span>\n                    <span\n                      style={{\n                        textDecoration: \"line-through\",\n                        color: \"#888\",\n                      }}\n                      className=\"price\"\n                    >\n                      {commaNumber(item.price)}원\n                    </span>\n                  </div>\n                </div>\n              </div>\n            </div>\n          ))}\n        </ProdList>\n      ) : (\n        <>\n          <Loading />\n        </>\n      )}\n      {OnModal && (\n        <OderModalPopup\n          onFinished={onFinished}\n          posx={PosX}\n          posy={PosY}\n          OrderItem={OrderItem}\n        />\n      )}\n    </>\n  );\n}\n\nexport default MyMenu;\n","import React, { useState, useEffect } from \"react\";\nimport firebase from \"../../firebase\";\nimport { Radio } from \"antd\";\nimport { commaNumber } from \"../CommonFunc\";\n\nfunction AdminOrderList() {\n\n  const [OrderList, setOrderList] = useState([]);\n  const [SelectDay, setSelectDay] = useState();\n  const [LastDay, setLastDay] = useState()\n  const [PrevDay, setPrevDay] = useState()\n  const [SumAmount, setSumAmount] = useState()\n  const [SumPrice, setSumPrice] = useState()\n  const [Add1Count, setAdd1Count] = useState()\n  const [Add2Count, setAdd2Count] = useState()\n  const [SumAddAmount, setSumAddAmount] = useState()\n  useEffect(() => {\n    let mounted = true;\n    if (mounted) {     \n        firebase\n        .database()\n        .ref(\"order\")\n        .orderByChild(\"order_state\")\n        .equalTo(2)\n        .on(\"value\", (snapshot) => {\n          let array = [];\n          snapshot.forEach(function (item) {\n            array.push({\n              ...item.val(),\n              key: item.key,\n            });\n          });\n          // eslint-disable-next-line array-callback-return\n          array.sort((a, b) => {\n            if (a.timestamp > b.timestamp) {\n              return -1;\n            }\n            if (a.timestamp < b.timestamp) {\n              return 1;\n            }\n          });\n          array = array.slice(0, 250);  \n          const day = ['월요일','화요일','수요일','목요일','금요일']\n          setLastDay(array[0].order_time.split(\"|\")[1])\n          let prevDayIndex = day.indexOf(LastDay)-1          \n          if(prevDayIndex < 0){\n            prevDayIndex = 4;\n          }  \n          setPrevDay(day[prevDayIndex]);\n          if(SelectDay){           \n            array = array.filter(el => {\n              return el.order_time.includes(SelectDay)\n            })\n            let sumA = 0;\n            let sumP = 0;\n            let add1C = 0;\n            let add2C = 0;\n            array.map(el => {\n              sumA += parseInt(el.amount)\n              if(el.add && el.add.includes('버블')) {\n                el.price -= 500;\n                add1C += 1\n              }\n              if(el.add2 && el.add2.includes('샷1')) {\n                el.price -= 500;                \n                add2C += 1\n              }\n              if(el.add2 && el.add2.includes('샷2')) {\n                el.price -= 1000;\n                add2C += 2\n              }              \n            })\n            setSumAmount(sumA)\n            setAdd1Count(add1C)\n            setAdd2Count(add2C)\n            setSumAddAmount(add1C+add2C)  \n            array = array.reduce((a,c)=>{\n              let x = a.find(e=>(e.prod_name===c.prod_name && e.hot===c.hot))\n              if(!x) a.push(Object.assign({},c))\n              else {\n                x.og_price += c.og_price\n                x.amount += c.amount\n              };\n              return a\n            },[])                 \n            array.map(el => {\n              sumP += el.price * el.amount\n              el.price = el.price * el.amount\n            })     \n            setSumPrice(sumP)\n\n            array = array.sort((a,b) => {\n              if (a.category > b.category) {\n                return -1;\n              }\n              if (a.category < b.category) {\n                return 1;\n              }\n            })\n          }          \n          setOrderList(array);          \n        });\n      }\n      return function cleanup() {\n        firebase.database().ref(\"order\").off();\n        mounted = false;\n      };\n    }, [SelectDay]);\n    \n    const onSelectDay = (e) => {\n      if(e.target.value === '1'){\n        setSelectDay(\"\")\n      }\n      if(e.target.value === '2'){\n        setSelectDay(LastDay)\n      }\n      if(e.target.value === '3'){\n        setSelectDay(PrevDay)\n      }\n    }        \n  return (\n    <>\n      <h3 className=\"title\">완료내역</h3>\n      <Radio.Group onChange={onSelectDay} defaultValue=\"1\" buttonStyle=\"solid\">\n        <Radio.Button value=\"1\">전체</Radio.Button>\n        <Radio.Button value=\"2\">오늘</Radio.Button>\n        <Radio.Button value=\"3\">어제</Radio.Button>\n      </Radio.Group>\n      <span style={{fontSize:\"13px\",marginLeft:\"5px\"}}>(영업일 기준)</span>\n      {!SelectDay && \n        <table className=\"fl-table\" style={{marginTop:\"12px\"}}>\n          <thead>\n            <tr>\n              <th scope=\"col\">주문자</th>\n              <th scope=\"col\">상품명</th>\n              <th scope=\"col\">수량</th>\n              <th scope=\"col\" colSpan=\"2\">추가</th>\n              <th scope=\"col\">코멘트</th>\n              <th scope=\"col\">주문시간</th>\n              <th scope=\"col\">가격</th>\n            </tr>\n          </thead>\n          <tbody>\n            {OrderList.map((list, index) => (\n              <tr key={index}>\n                <td>{list.order_name}</td>\n                <td>\n                  {list.hot === \"hot\" && \"따뜻한 \"}\n                  {list.hot === \"ice\" && \"차가운 \"}\n                  {list.prod_name}\n                </td>\n                <td>{list.amount}</td>\n                <td>{list.add}</td>\n                <td>{list.add2}</td>\n                <td>{list.order_etc}</td>\n                <td>{list.order_time}</td>\n                <td>{list.price}</td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      }\n      {SelectDay && \n        <>\n        <div style={{marginTop:\"12px\"}}>\n        {OrderList[0] && \n          <span>{OrderList[0].order_time}</span>\n        }        \n        </div>\n        <div style={{display:\"flex\"}}>\n        <table className=\"fl-table\" style={{marginTop:\"12px\",width:\"48%\"}}>\n          <thead>\n            <tr>\n              <th scope=\"col\">상품명</th>\n              <th scope=\"col\">수량</th>\n              <th scope=\"col\">가격</th>\n            </tr>\n          </thead>\n          <tbody>\n            {OrderList && OrderList.map((list, index) => (\n              <tr key={index}>\n                <td>\n                  {list.hot === \"hot\" && \"따뜻한 \"}\n                  {list.hot === \"ice\" && \"차가운 \"}\n                  {list.prod_name}\n                </td>\n                <td>{list.amount}</td>\n                <td>{list.price}</td>\n              </tr>\n            ))}\n            <tr>\n                <td>합계</td>\n                <td>\n                  {SumAmount}\n                </td>\n                <td>{commaNumber(parseInt(SumPrice))}</td>\n            </tr>\n          </tbody>\n        </table>\n        <table className=\"fl-table\" style={{marginTop:\"12px\",marginLeft:\"2%\",width:\"49%\",height:\"100px\"}}>\n        <thead>\n          <tr>            \n            <th scope=\"col\">상품명</th>\n            <th scope=\"col\">수량</th>\n            <th scope=\"col\">가격</th>\n          </tr>\n        </thead>\n        <tbody>\n            <tr>\n              <td>버블추가</td>\n              <td>{Add1Count}</td>\n              <td></td>\n            </tr>\n            <tr>\n              <td>샷추가</td>\n              <td>{Add2Count}</td>\n              <td></td>\n            </tr>\n          <tr>\n              <td>합계</td>\n              <td>\n                {SumAddAmount}\n              </td>\n              <td>{commaNumber(parseInt(SumAddAmount*500))}</td>\n          </tr>\n        </tbody>\n      </table>\n      </div>\n      </>\n      }\n    </>\n  );  \n}\n\nexport default AdminOrderList;\n","import React, { useState, useEffect } from 'react';\r\nimport { Input,Button,DatePicker,Checkbox,Upload,message } from 'antd';\r\nimport firebase from \"../../firebase\";\r\nimport { getFormatDate } from '../CommonFunc';\r\nimport moment from 'moment';\r\nimport { UploadOutlined } from '@ant-design/icons';\r\nimport { OderModalPopup } from \"../OrderModal\";\r\nimport uuid from \"react-uuid\";\r\nconst { TextArea } = Input;\r\nconst curDate = getFormatDate(new Date());\r\n\r\nfunction LunchAdmin() {\r\n\r\n  const [ItemList, setItemList] = useState();\r\n  const [CheckInfoTxt, setCheckInfoTxt] = useState();\r\n  const [TblItem, setTblItem] = useState();\r\n  const [CheckList, setCheckList] = useState();\r\n  const [ItemSum, setItemSum] = useState();\r\n\r\n  const [SearchDate, setSearchDate] = useState(curDate);\r\n  const [CheckLength, setCheckLength] = useState();\r\n\r\n  const [Ruser, setRuser] = useState();\r\n  const [NonChecker, setNonChecker] = useState();\r\n\r\n  const [Render, setRender] = useState(true);\r\n\r\n  const [Filter, setFilter] = useState();\r\n  const onFilterChange = (e) => {\r\n    setFilter(e)\r\n    setRender(!Render)\r\n  }\r\n\r\n  const [DefaultImg, setDefaultImg] = useState()\r\n\r\n  useEffect(() => {\r\n    let r_user = []\r\n    firebase.database().ref('users')\r\n    .once('value', (snapshot) => {\r\n      snapshot.forEach(el => {\r\n        if(el.val().role == \"0\"){\r\n            r_user.push({\r\n            name: el.val().name,\r\n            part: el.val().part,\r\n            role: el.val().role,\r\n          })\r\n        }\r\n      });\r\n      \r\n      setRuser(r_user);\r\n    })\r\n    let itemArr = [];\r\n    let itemObj = {};\r\n    firebase.database().ref('lunch/item')\r\n    .once('value', (snapshot) => {\r\n      snapshot.forEach(el => {\r\n        itemArr.push(el.val())\r\n      });\r\n      itemArr.map(el=>{\r\n        itemObj[el] = 0;\r\n      })\r\n      setTblItem(itemArr);\r\n      itemArr = itemArr.join(',');      \r\n      setItemList(itemArr)\r\n    })\r\n    firebase.database().ref('lunch/info')\r\n      .on('value', (snapshot) => {\r\n        setCheckInfoTxt(snapshot.val())        \r\n    });\r\n    firebase.database().ref('lunch/user')\r\n    .once('value', (snapshot) => {\r\n      let arr = [];\r\n      let listDate = SearchDate.full ? SearchDate.full : curDate.full\r\n      snapshot.forEach(el => {\r\n        let elItemArr;\r\n        if(el.val().checkList && el.val().checkList[listDate]){\r\n          elItemArr = el.val().checkList[listDate].item;\r\n        }\r\n        if(elItemArr){\r\n          elItemArr.map(el=>{\r\n          itemObj[el] += 1;\r\n          })       \r\n          arr.push({\r\n            uid: el.key,\r\n            name: el.val().name,\r\n            part: el.val().part,\r\n            item: elItemArr,\r\n            confirm: el.val().checkList[listDate].confirm,\r\n          })\r\n        }\r\n      })\r\n      if(Filter && Filter.length > 0){\r\n        arr = arr.filter(el=>{\r\n          let res;\r\n          let count = 0;\r\n          Filter.map(item=>{\r\n            el.item.includes(item) ? count = count+1 : count = count;\r\n          })\r\n          return count > 0 ? el : \"\"\r\n        })\r\n      }\r\n      arr.sort((a,b)=>{\r\n        return a.name < b.name ? -1 : a.name > b.name ? 1 : 0;\r\n      })\r\n      setCheckLength(arr.length)\r\n      setCheckList(arr);\r\n      setItemSum(itemObj);\r\n      let checker = [];\r\n      let allName = [];\r\n      let nonChecker = [];\r\n      Ruser && Ruser.map(el => {\r\n        allName.push(el.name);\r\n        arr.map(list => {\r\n          if(list.name.includes(el.name) && list.part.includes(el.part)){\r\n            checker.push(list.name)\r\n          }\r\n        })\r\n      })\r\n      nonChecker = allName.filter(el => {\r\n        return !checker.includes(el);\r\n      })\r\n      setNonChecker(nonChecker);\r\n    })\r\n\r\n    \r\n\r\n    return () => {\r\n    }\r\n  }, [Ruser,Render])\r\n\r\n  useEffect(() => {\r\n    firebase.database().ref('lunch/img')\r\n    .on(\"value\",data => {\r\n      setDefaultImg(data.val())\r\n    })\r\n    return () => {\r\n      firebase.database().ref('lunch/img').off()\r\n    }\r\n  }, [])\r\n\r\n  const onSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      if(uploadImg){\r\n        console.log(uploadImg)\r\n        let uploadTask = await firebase\r\n        .storage()\r\n        .ref(`lunch_img/lunchImg`)\r\n        .put(uploadImg.originFileObj, uploadImg.type);\r\n        uploadTask.ref.getDownloadURL()\r\n        .then(url => {\r\n          let uploadURL = {\r\n            name:uploadImg.originFileObj.name,\r\n            url:url\r\n          };\r\n          firebase.database().ref('lunch/img')\r\n          .update({\r\n            img:uploadURL\r\n          });                       \r\n        })\r\n      }\r\n\r\n      let arr;\r\n      arr = e.target.item.value.split(',');      \r\n      firebase.database().ref('lunch')\r\n      .update({\r\n        item:arr,\r\n        info:e.target.check_info_txt.value\r\n      })\r\n\r\n      message.success('설정이 저장되었습니다 :)');\r\n\r\n    }catch (error) {\r\n      console.error(error);\r\n    }\r\n  }\r\n\r\n  const onSelectDate = (date, dateString) => {\r\n    setSearchDate(getFormatDate(date._d))\r\n    setRender(!Render)\r\n  }\r\n\r\n  const disabledDate = (current) => {\r\n    return current && current > moment().add(14, 'days');\r\n  }\r\n\r\n  const onConfrim =(user) => {\r\n    let date = SearchDate.full;\r\n    try {\r\n      firebase.database().ref(`lunch/user/${user.uid}/checkList/${date}`)\r\n      .update({\r\n        confirm: 1\r\n      })\r\n      setRender(!Render)\r\n    }catch (error) {\r\n      console.error(error);\r\n    }\r\n  }\r\n\r\n  const [ModifyData, setModifyData] = useState()\r\n  const [ModifyCheck, setModifyCheck] = useState();\r\n  const onModifyCheck = (e) => {\r\n    setModifyCheck(e)\r\n  }\r\n  const onModify = (el) => {\r\n    setModifyData(el)\r\n  }\r\n\r\n  const onModifySubmit = (el) => {\r\n    let itemList = ModifyCheck ? ModifyCheck : el.item\r\n    console.log(itemList);\r\n    firebase.database().ref(`lunch/user/${el.uid}/checkList/${SearchDate.full}`)\r\n    .update({\r\n      item:itemList\r\n    });\r\n    setModifyData();\r\n    setModifyCheck();\r\n    setRender(!Render);\r\n  }\r\n\r\n  const onModifyClose = () => {\r\n    setModifyData();\r\n    setModifyCheck();\r\n  }\r\n\r\n  const [uploadImg, setuploadImg] = useState()\r\n  const onImgUpload = (e) => {\r\n\r\n      setuploadImg(e.file);\r\n\r\n  }\r\n\r\n  const onImgRemove = () => {\r\n\r\n    const ref = firebase.storage().ref(`lunch_img`);\r\n      ref.listAll()\r\n      .then(dir => {\r\n        const images = dir._delegate.items;\r\n        images.map(el=>{\r\n          let path = el._location.path_;\r\n          firebase.storage().ref(`${path}`).delete()\r\n          .then(()=>{\r\n          }).catch(error=>console.error(error))\r\n        })\r\n      })\r\n\r\n      firebase.database().ref(`lunch/img`)\r\n      .remove()\r\n  }\r\n\r\n\r\n  return (\r\n    <>\r\n      {ItemList && \r\n        <>          \r\n          <form onSubmit={onSubmit}>\r\n            <h3 className=\"title\" style={{ margin: \"0 0 5px 0\" }}>\r\n              식단 항목\r\n            </h3>\r\n            <div className=\"flex-box\">\r\n              <Input name=\"item\" defaultValue={ItemList} />\r\n            </div>\r\n            <h3 className=\"title\" style={{ margin: \"15px 0 5px 0\" }}>\r\n              항목 설명글\r\n            </h3>\r\n            {CheckInfoTxt &&\r\n            <div className=\"flex-box\">\r\n              <TextArea name=\"check_info_txt\" defaultValue={CheckInfoTxt} />              \r\n            </div>\r\n            }\r\n            <h3 className=\"title\" style={{ margin: \"15px 0 5px 0\" }}>\r\n              일반식 식단표\r\n            </h3>\r\n            <div className=\"flex-box\">\r\n              {DefaultImg ? (\r\n                <>\r\n                  <Upload \r\n                  \r\n                  fileList={[\r\n                      {\r\n                      uid:\"1\",\r\n                      name:DefaultImg.img.name,\r\n                      status:\"done\",\r\n                      url:DefaultImg.img.url,\r\n                      }\r\n                    ]}\r\n                    listType=\"picture\"\r\n                    name=\"uploadImg\"\r\n                    onChange={onImgUpload}\r\n                    onRemove={onImgRemove}\r\n                  >\r\n                    <Button icon={<UploadOutlined />}>이미지 업로드</Button>\r\n                  </Upload>\r\n                </>\r\n              ):(\r\n                <>\r\n                  <Upload                     \r\n                    listType=\"picture\"\r\n                    name=\"uploadImg\"\r\n                    onChange={onImgUpload}\r\n                    onRemove={onImgRemove}\r\n                  >\r\n                    <Button icon={<UploadOutlined />}>이미지 업로드</Button>\r\n                  </Upload>\r\n                </>\r\n              )}\r\n              \r\n            </div>\r\n            <div style={{textAlign:\"center\"}}>\r\n              <Button\r\n                      htmlType=\"submit\"\r\n                      type=\"primary\"\r\n                      size=\"large\" \r\n                      style={{marginTop:\"10px\"}}               \r\n                    >\r\n                      설정저장\r\n              </Button>\r\n            </div>\r\n          </form>\r\n        </>\r\n      }\r\n      <h3 className=\"title\" style={{ margin: \"20px 0 5px 0\" }}>\r\n        식단체크\r\n      </h3>\r\n      <div className=\"flex-box a-center\">\r\n        <DatePicker \r\n          format=\"YYYY-MM-DD\"\r\n          defaultValue={moment()}\r\n          style={{marginRight:\"10px\"}}\r\n          disabledDate={disabledDate} onChange={onSelectDate} \r\n        />\r\n        <Checkbox.Group style={{ width: '100%' }} onChange={onFilterChange}>\r\n        {TblItem && TblItem.map((el,idx) => (\r\n          <Checkbox key={idx} value={el}>{el}</Checkbox>\r\n        ))}\r\n        </Checkbox.Group>\r\n      </div>\r\n\r\n      <table className=\"fl-table tbl-lunch-check\" style={{marginTop:\"12px\"}}>\r\n        <thead>\r\n          <tr key=\"0\">\r\n            <th scope=\"col\">날짜</th>\r\n            <th scope=\"col\">이름</th>\r\n            <th scope=\"col\">부서</th>\r\n            {TblItem && TblItem.map(el => (\r\n              <th scope=\"col\">{el}</th>\r\n            ))}\r\n            <th scope=\"col\">확인여부</th>\r\n            <th scope=\"col\">수정</th>\r\n          </tr>          \r\n        </thead>\r\n        <tbody>\r\n          {CheckList && CheckList.map((el,idx) => (\r\n            <tr key={idx+1}>\r\n              <td>{SearchDate.full_}</td>\r\n              <td>\r\n                {el.name}\r\n              </td>\r\n              <td>{el.part}</td>\r\n              {TblItem && TblItem.map((list,l_idx) => (\r\n                  <td>\r\n                    {el.item.includes(list) && 1}\r\n                  </td>\r\n              ))}\r\n              <td>\r\n              {el.confirm ? 'O' : <Button onClick={()=>{onConfrim(el)}}>확인</Button>}\r\n              </td>\r\n              <td style={{position:\"relative\"}}>\r\n                <Button className=\"sm\" style={{marginRight:\"5px\"}} onClick={()=>onModify(el)}>수정</Button>\r\n                {(ModifyData && el.uid === ModifyData.uid) &&\r\n                  <OderModalPopup\r\n                    className=\"lunch-check-modify\"\r\n                    style={{\r\n                      maxWidth:\"100px\",\r\n                      flexDirection:\"column\",\r\n                      position:\"absolute\",\r\n                      top:\"10px\",left:\"-130px\"\r\n                    }}\r\n                  >\r\n                    <h3>{ModifyData.name}({ModifyData.part})</h3>\r\n                    <Checkbox.Group                     \r\n                    defaultValue={el.item}\r\n                    style={{ width: '100%' }} \r\n                    onChange={onModifyCheck}>\r\n                      {TblItem && TblItem.map((el,idx)=>(\r\n                        <Checkbox key={idx} value={el}>\r\n                          {el}\r\n                        </Checkbox>\r\n                      ))}\r\n                    </Checkbox.Group>\r\n                    <div style={{marginTop:\"10px\"}}>\r\n                      <Button type=\"primary\" style={{marginRight:\"5px\"}} onClick={()=>onModifySubmit(el)}>수정</Button>\r\n                      <Button onClick={onModifyClose}>닫기</Button>\r\n                    </div>\r\n                  </OderModalPopup>\r\n                }\r\n              </td>\r\n            </tr>\r\n          ))}\r\n          {/* <tr>\r\n            <td>{SearchDate.full_}</td>\r\n            <td>합계</td>\r\n            <td>{CheckLength}</td>\r\n            {TblItem && TblItem.map((el,idx) => (\r\n              <td>\r\n                {ItemSum && ItemSum[el]}\r\n              </td>\r\n            ))}\r\n            <td></td>\r\n          </tr> */}\r\n        </tbody>\r\n      </table>\r\n      <table className=\"fl-table tbl-lunch-check\" style={{marginTop:\"10px\"}}>\r\n        <thead>\r\n          <tr key=\"0\">\r\n            <th scope=\"col\">날짜</th>\r\n            <th scope=\"col\">인원</th>\r\n            {TblItem && TblItem.map(el => (\r\n              <th scope=\"col\">{el}</th>\r\n            ))}\r\n          </tr>          \r\n        </thead>\r\n        <tbody>\r\n        <tr>\r\n            <td>{SearchDate.full_}</td>\r\n            <td>{CheckLength}</td>\r\n            {TblItem && TblItem.map((el,idx) => (\r\n              <td>\r\n                {ItemSum && ItemSum[el]}\r\n              </td>\r\n            ))}\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n      {NonChecker &&\r\n        <> \r\n          <div style={{marginTop:\"15px\",fontSize:\"12px\"}}>\r\n          <span>없는 사람 : </span>\r\n          {NonChecker.map((el,idx) => (\r\n            parseInt(NonChecker.length-1) == idx ? el : el+', '\r\n          ))}\r\n          </div>\r\n        </>\r\n      }\r\n    </>\r\n  )\r\n}\r\n\r\nexport default LunchAdmin\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useSelector } from \"react-redux\";\r\nimport { Button } from 'antd';\r\nimport { Link } from 'react-router-dom'\r\nimport firebase from \"../../firebase\";\r\nimport { getFormatDate } from \"../CommonFunc\"\r\nconst curDate = getFormatDate(new Date());\r\n\r\nfunction Research() {\r\n  const userInfo = useSelector((state) => state.user.currentUser);\r\n  const [ResearchList, setResearchList] = useState()\r\n  const [ReRender, setReRender] = useState(false)\r\n  useEffect(() => {\r\n    let arr = [];\r\n    firebase.database().ref('research')\r\n    .once(\"value\")\r\n    .then((snapshot) => {\r\n      snapshot.forEach(el=>{\r\n        (\r\n          el.val().member_check && el.val().member_check.includes(userInfo.uid) || \r\n        el.val().alba && userInfo.auth && userInfo.auth.includes('alba') || \r\n        el.val().intern && userInfo.auth && userInfo.auth.includes('intern')\r\n        ) ? console.log() : \r\n        arr.push(el.val())\r\n      })\r\n      arr = arr.sort((a,b)=>{\r\n        return b.timestamp - a.timestamp\r\n      })\r\n      setResearchList(arr)\r\n    })\r\n    return () => {\r\n      \r\n    }\r\n  }, [ReRender])\r\n  \r\n\r\n  const onDelete = (uid) => {\r\n    let a = window.confirm('이 게시물을 삭제 하시겠습니까?')\r\n    if(a){\r\n      const ref = firebase.storage().ref(`research/image/${uid}`);\r\n      ref.listAll()\r\n      .then(dir => {\r\n        const images = dir._delegate.items;\r\n        images.map(el=>{\r\n          let path = el._location.path_;\r\n          firebase.storage().ref(`${path}`).delete()\r\n          .then(()=>{\r\n          }).catch(error=>console.error(error))\r\n        })\r\n      })\r\n      firebase.database().ref(`research/${uid}`)\r\n      .remove()\r\n      setReRender(!ReRender)\r\n    }\r\n  }\r\n  \r\n  return (\r\n    <>\r\n      <ul className=\"board-basic research\">\r\n          <li key=\"0\" className=\"tit\">\r\n            <div className=\"info-box\">\r\n              <span className=\"date limit\">기한</span>\r\n              <span className=\"state\">상태</span>\r\n              <span className=\"subject\">제목</span>\r\n            </div>\r\n            <div className=\"right-box\">\r\n              <span className=\"date\">날짜</span>\r\n              {userInfo && userInfo.auth && userInfo.auth.includes('insa') &&\r\n                <span className=\"admin\"></span>\r\n              }\r\n            </div>\r\n          </li>        \r\n          {ResearchList && ResearchList.map((el,idx) => (\r\n            <li key={idx+1} >\r\n              <div className=\"info-box\">\r\n                <span className=\"date limit\">\r\n                  {el.limit_start == 0 && \r\n                    <>\r\n                    무기한\r\n                    </>\r\n                  }\r\n                  {el.limit_start != 0 && \r\n                    <>\r\n                    {getFormatDate(new Date(el.limit_start)).full_} ~ {getFormatDate(new Date(el.limit_end)).full_}\r\n                    </>\r\n                  }\r\n                </span>\r\n                {el.limit_start < new Date().getTime() && \r\n                 el.limit_end > new Date().getTime() && \r\n                 <span className=\"state con\"><span>진행</span></span>\r\n                }\r\n                {el.limit_start > new Date().getTime() && \r\n                  <span className=\"state con yet\"><span>예정</span></span>\r\n                }\r\n                {el.limit_end < new Date().getTime() && \r\n                  <span className=\"state con end\"><span>마감</span></span>\r\n                }\r\n                <span className={`subject`}>\r\n                  <Link to={{\r\n                    pathname: `/research_view`,\r\n                    state: {\r\n                      uid:el.uid\r\n                    }\r\n                  }}\r\n                    >{el.title}\r\n                  </Link>\r\n                </span>\r\n              </div>\r\n              <div className=\"right-box\">\r\n                <span className=\"date\">{el.date}</span>\r\n                {userInfo && userInfo.auth && userInfo.auth.includes('insa') && \r\n                  <span className=\"admin\">                    \r\n                    <Button onClick={()=>{onDelete(el.uid)}}>삭제</Button>\r\n                  </span>\r\n                }\r\n              </div>\r\n            </li>\r\n          ))}\r\n      </ul>\r\n      {userInfo && userInfo.auth && userInfo.auth.includes('insa') &&\r\n      <div style={{textAlign:\"right\",marginTop:\"15px\"}}>\r\n        <Button style={{width:\"100px\"}} type=\"primary\">\r\n          <Link to=\"/research_write\">게시물 등록</Link>\r\n        </Button>\r\n      </div>\r\n      }\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Research\r\n","import React, { useState, useRef, useEffect } from 'react'\r\nimport { useSelector } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Form, Input, Button, Space, Radio, Checkbox, Upload, Switch, DatePicker, Select, Row, Col } from 'antd';\r\nimport { MinusCircleOutlined, PlusOutlined, UploadOutlined } from '@ant-design/icons';\r\nimport uuid from \"react-uuid\";\r\nimport firebase from \"../../firebase\";\r\nimport { getFormatDate } from \"../CommonFunc\";\r\nimport { OderModalPopup } from \"../OrderModal\";\r\nimport moment from 'moment';\r\nconst { RangePicker } = DatePicker;\r\nfunction ResearchWrite() {\r\n  const userInfo = useSelector((state) => state.user.currentUser);\r\n\r\n  const [TotalUser, setTotalUser] = useState()\r\n  const [TempList, setTempList] = useState()\r\n  useEffect(() => {\r\n    let userArr = [];\r\n    firebase\r\n    .database()\r\n    .ref(\"users\")\r\n    .once(\"value\", (snapshot) => {\r\n      snapshot.forEach(el=>{\r\n        userArr.push({\r\n          uid:el.key,\r\n          auth:el.val().auth ? el.val().auth : \"\",\r\n          name:el.val().name,\r\n          part:el.val().part,\r\n          role:el.val().role\r\n        })\r\n      })\r\n      userArr.sort((a,b)=>{\r\n        return a.part < b.part ? -1 : 1 \r\n      })\r\n      console.log(userArr)\r\n      setTotalUser(userArr);\r\n    });\r\n\r\n    let arr = [];\r\n    firebase.database().ref(`research_temp/${userInfo.uid}`)\r\n    .once(\"value\")\r\n    .then((snapshot) => {\r\n      snapshot.forEach(el=>{\r\n        arr.push(el.val())          \r\n      })\r\n      arr = arr.sort((a,b)=>{\r\n        return b.timestamp - a.timestamp\r\n      })\r\n      setTempList(arr)\r\n    })\r\n\r\n    return () => {\r\n      \r\n    }\r\n  }, [])\r\n\r\n  const btnToList = useRef();\r\n\r\n  const uid = uuid();\r\n\r\n  const disabledDate = (current) => {\r\n    return current && current < moment().subtract(1, 'days');\r\n  }\r\n\r\n  const [DateLimitState, setDateLimitState] = useState(false)\r\n  const dateLimit = () => {\r\n    setDateLimitState(!DateLimitState)\r\n  }  \r\n\r\n  const finishDataSave = (values) => {\r\n    let uploadURL = [];            \r\n    const getImgUrl = async () => {\r\n    values.upload && values.upload.map(el=>{\r\n    let getImg = async () => {\r\n    let uploadTask = await firebase\r\n        .storage()\r\n        .ref(\"research\")\r\n        .child(`image/${uid}/${uuid()}`)          \r\n        .put(el.originFileObj, el.type);\r\n          uploadTask.ref.getDownloadURL()\r\n          .then(url => {\r\n            uploadURL.push({\r\n              name:el.originFileObj.name,\r\n              url:url\r\n            });\r\n            firebase.database().ref('research')\r\n            .child(uid)\r\n            .update({\r\n              image: uploadURL\r\n            });                       \r\n          });\r\n        }\r\n        getImg();\r\n      })\r\n    }\r\n    getImgUrl(); \r\n      firebase.database().ref('research')\r\n      .child(uid)\r\n      .update({\r\n        title:values.title,\r\n        type:values.type,\r\n        option:values.option_list ? values.option_list : '',\r\n        member:values.member ? values.member : false,\r\n        member_check:values.member_check ? values.member_check : '',\r\n        etc:values.etc ? values.etc : '',\r\n        uid:uid,\r\n        alba:values.alba ? values.alba : false,\r\n        intern:values.intern ? values.intern : false,\r\n        secret:values.secret ? values.secret : false,\r\n        date:getFormatDate(new Date()).full_,\r\n        timestamp:new Date().getTime(),\r\n        limit_start:values.time_limit ? values.time_limit[0]._d.getTime() : 0,\r\n        limit_end:values.time_limit ? values.time_limit[1]._d.getTime() : 99999999999999,\r\n      });\r\n    }      \r\n\r\n \r\n  \r\n  const onFinish = async (values) => {\r\n    if(values.temp){\r\n      let uid = uuid();\r\n      firebase.database().ref(`research_temp/${userInfo.uid}`)\r\n      .child(uid)\r\n      .update({\r\n        title:values.title,\r\n        type:values.type,\r\n        option:values.option_list ? values.option_list : '',\r\n        member:values.member ? values.member : false,\r\n        member_check:values.member_check ? values.member_check : '',\r\n        etc:values.etc ? values.etc : '',\r\n        uid:uid,\r\n        alba:values.alba ? values.alba : false,\r\n        intern:values.intern ? values.intern : false,\r\n        secret:values.secret ? values.secret : false,\r\n        date:getFormatDate(new Date()).full_,\r\n        timestamp:new Date().getTime(),\r\n        limit_start:values.time_limit ? values.time_limit[0]._d.getTime() : 0,\r\n        limit_end:values.time_limit ? values.time_limit[1]._d.getTime() : 99999999999999,\r\n      });\r\n      btnToList.current && btnToList.current.click();\r\n    }else{\r\n      if(values.type != 2){\r\n        let listLength = values.option_list.length;\r\n        let count = 0;\r\n\r\n        values.option_list.map(el=>{\r\n          el.option_photo = el.option_photo ? el.option_photo : \"\";\r\n          el.option_a = el.option_a ? el.option_a : \"\";\r\n          el.option_type = el.option_type ? el.option_type : \"\";\r\n          let urlArr = [];  \r\n          count++;    \r\n          const getOptionImgUrl = (photo) => {\r\n              if(!photo){\r\n                if(count == listLength){\r\n                  finishDataSave(values);\r\n                  btnToList.current && btnToList.current.click();\r\n                }\r\n              }else{\r\n              photo.map((list,idx)=>{\r\n              let getImg = async () => {\r\n              let uploadTask = await firebase\r\n                  .storage()\r\n                  .ref(\"research\")\r\n                  .child(`image/${uid}/${uuid()}`)          \r\n                  .put(list.originFileObj, list.type);\r\n                    uploadTask.ref.getDownloadURL()\r\n                    .then(url => {\r\n                      urlArr.push({\r\n                        uid:idx,\r\n                        status:\"done\",\r\n                        name:list.originFileObj.name,\r\n                        url:url\r\n                      });\r\n                      firebase.database().ref('research')\r\n                      .child(`${uid}/option/${idx}`)\r\n                      .update({\r\n                        option_photo: urlArr\r\n                      });                \r\n                      el.option_photo = urlArr ? urlArr : '';                \r\n                      if(count == listLength){\r\n                        finishDataSave(values);\r\n                        btnToList.current && btnToList.current.click();\r\n                      }\r\n                    });\r\n                  }\r\n                  getImg();              \r\n                })\r\n              }          \r\n            }\r\n          getOptionImgUrl(el.option_photo);\r\n          el.option_photo = el.option_photo ? el.option_photo : '';\r\n        })\r\n      }else{\r\n        finishDataSave(values);\r\n        btnToList.current && btnToList.current.click();\r\n      }\r\n    }\r\n      \r\n  };\r\n\r\n\r\n\r\n  const [TypeState, setTypeState] = useState()\r\n  const typeOptions = [\r\n    {label: '선다형', value: 1},\r\n    {label: '서술형', value: 2},\r\n    {label: '복합형', value: 3}\r\n  ]\r\n  const onChangeType = (e) => {\r\n    setTypeState(e.target.value)\r\n  }\r\n\r\n  const normFile = (e) => {\r\n    if (Array.isArray(e)) {\r\n      return e;\r\n    }\r\n    return e && e.fileList;\r\n  };\r\n\r\n  const onSelectChange = (e) => {\r\n    console.log(e)\r\n  }\r\n\r\n\r\n  const [onMember, setonMember] = useState(false)\r\n  const onMemberChange = (e) => {\r\n    console.log(TotalUser)\r\n    setonMember(!onMember)\r\n  }\r\n\r\n\r\n  const onTempSubmit = (e) => {\r\n    e.preventDefault();\r\n    console.log(document.forms.dynamic_form_nest_item)\r\n  }\r\n\r\n  const [TempState, setTempState] = useState(false)\r\n  const onTempPop = () => {\r\n    setTempState(!TempState)\r\n  }\r\n\r\n\r\n  return (\r\n    <>     \r\n      <Form name=\"dynamic_form_nest_item\" className=\"research-form\" onFinish={onFinish} autoComplete=\"off\">\r\n        <Form.Item\r\n          name=\"title\"\r\n          rules={[{ required: true, message: '제목을 입력해 주세요.'}]}\r\n        >\r\n          <Input placeholder=\"제목\" />\r\n        </Form.Item> \r\n        <Form.Item \r\n          name=\"type\"\r\n          label=\"유형 선택\"\r\n          rules={[{ required: true, message: '타입을 선택해 주세요.'}]}\r\n        >\r\n          <Radio.Group\r\n            options={typeOptions}\r\n            onChange={onChangeType}\r\n            value={TypeState}\r\n            optionType=\"button\"\r\n          />\r\n        </Form.Item>\r\n        {TypeState && TypeState == 1 &&\r\n          <Form.List name=\"option_list\">\r\n            {(fields, { add, remove }) => (\r\n              <>\r\n                {fields.map(({ key, name, fieldKey, ...restField }) => (\r\n                  <Space key={key} style={{ display: 'flex', marginBottom: 5 }} align=\"baseline\">\r\n                    <Form.Item\r\n                      {...restField}\r\n                      name={[name, 'option']}\r\n                      fieldKey={[fieldKey, 'option']}\r\n                      rules={[{ required: true, message: '항목을 입력해 주세요.' }]}\r\n                    >\r\n                      <Input placeholder=\"항목\" />\r\n                    </Form.Item>                  \r\n                    <MinusCircleOutlined onClick={() => remove(name)} />\r\n                  </Space>\r\n                ))}\r\n                <Form.Item>\r\n                  <Button type=\"dashed\" onClick={() => add()} block icon={<PlusOutlined />}>\r\n                    Add field\r\n                  </Button>\r\n                </Form.Item>\r\n              </>\r\n            )}\r\n          </Form.List>\r\n        }\r\n        {TypeState && TypeState == 3 &&\r\n          <Form.List name=\"option_list\">\r\n            {(fields, { add, remove }) => (\r\n              <>\r\n                {fields.map(({ key, name, fieldKey, ...restField }) => (\r\n                  <Space key={key} style={{ display: 'flex', marginBottom: 5 }} align=\"baseline\">\r\n                    <Form.Item\r\n                      {...restField}\r\n                      name={[name, 'option_q']}\r\n                      fieldKey={[fieldKey, 'option_q']}\r\n                      rules={[{ required: true, message: '질문을 입력해 주세요.' }]}\r\n                    >\r\n                      <Input placeholder=\"질문\" />\r\n                    </Form.Item>     \r\n                    <Form.Item \r\n                      label=\"유형선택\"\r\n                      {...restField}\r\n                      name={[name, 'option_type']}\r\n                      fieldKey={[fieldKey, 'option_type']}\r\n                    >\r\n                      <Select defaultValue=\"0\" onChange={onSelectChange}>\r\n                        <Select.Option value=\"0\">서술형</Select.Option>\r\n                        <Select.Option value=\"1\">체크형</Select.Option>\r\n                        <Select.Option value=\"2\">선택형</Select.Option>\r\n                      </Select>\r\n                    </Form.Item> \r\n                    <Form.Item\r\n                      {...restField}\r\n                      name={[name, 'option_a']}\r\n                      fieldKey={[fieldKey, 'option_a']}\r\n                    >\r\n                      <Input placeholder=\"항목이 있을때만 ,로 구분 하여 작성\" />\r\n                    </Form.Item> \r\n                    <Form.Item\r\n                      {...restField}\r\n                      name={[name, 'option_photo']}\r\n                      label=\"이미지 업로드\"\r\n                      fieldKey={[fieldKey, 'option_photo']}\r\n                      getValueFromEvent={normFile}                      \r\n                    >\r\n                      <Upload name=\"logo\" listType=\"picture\">\r\n                        <Button icon={<UploadOutlined />}>Click to upload</Button>\r\n                      </Upload>\r\n                    </Form.Item>\r\n                    <MinusCircleOutlined onClick={() => remove(name)} />\r\n                  </Space>\r\n                ))}\r\n                <Form.Item>\r\n                  <Button type=\"dashed\" onClick={() => add()} block icon={<PlusOutlined />}>\r\n                    Add field\r\n                  </Button>\r\n                </Form.Item>\r\n              </>\r\n            )}\r\n          </Form.List>\r\n        }        \r\n        <Form.Item\r\n          name=\"upload\"\r\n          label=\"이미지 업로드\"\r\n          valuePropName=\"fileList\"\r\n          getValueFromEvent={normFile}\r\n        >\r\n          <Upload name=\"logo\" listType=\"picture\">\r\n            <Button icon={<UploadOutlined />}>Click to upload</Button>\r\n          </Upload>\r\n        </Form.Item>\r\n        <div className=\"flex-box\">\r\n          <Form.Item\r\n            name=\"alba\"\r\n            valuePropName=\"checked\"\r\n            style={{marginRight:\"13px\"}}\r\n          >\r\n            <Checkbox>알바 제외</Checkbox>\r\n          </Form.Item> \r\n          <Form.Item\r\n            name=\"intern\"\r\n            valuePropName=\"checked\"\r\n            style={{marginRight:\"13px\"}}\r\n          >\r\n            <Checkbox>인턴 제외</Checkbox>\r\n          </Form.Item> \r\n          <Form.Item\r\n            name=\"secret\"\r\n            valuePropName=\"checked\"            \r\n            style={{marginRight:\"13px\"}}\r\n          >\r\n            <Checkbox>결과 비공개</Checkbox>\r\n          </Form.Item>          \r\n          <Form.Item\r\n            name=\"member\"\r\n            valuePropName=\"checked\"\r\n            onChange={onMemberChange}\r\n          >\r\n            <Checkbox>제외 선택</Checkbox>\r\n          </Form.Item> \r\n        </div>\r\n        {onMember && TotalUser &&\r\n          <>\r\n            <Form.Item name=\"member_check\">\r\n              <Checkbox.Group>\r\n                <Row>                \r\n                {TotalUser.map((el,idx)=>(\r\n                  <Col span={4}>\r\n                    <Checkbox key={idx} value={el.uid}>{el.name}({el.part})</Checkbox>\r\n                  </Col>\r\n                ))}\r\n                </Row>\r\n              </Checkbox.Group>\r\n            </Form.Item>\r\n          </>\r\n        }\r\n        <Form.Item\r\n          name=\"etc\"          \r\n          rules={[{ required: true}]}\r\n        >\r\n          <Input.TextArea placeholder=\"설명\" />\r\n        </Form.Item> \r\n        <Form.Item\r\n          label=\"날짜설정\" style={{marginBottom:\"7px\"}}\r\n        >\r\n          <Switch onChange={dateLimit} />\r\n        </Form.Item>\r\n        {DateLimitState &&\r\n          <Form.Item\r\n            name=\"time_limit\"\r\n          >\r\n            <RangePicker  \r\n              showTime \r\n              disabledDate={disabledDate} \r\n            />\r\n          </Form.Item>\r\n        }\r\n        <Form.Item\r\n          name=\"temp\"\r\n          valuePropName=\"checked\"\r\n        >\r\n          <Checkbox>임시저장</Checkbox>\r\n        </Form.Item>\r\n\r\n        <div className=\"flex-box j-center\" style={{marginTop:\"15px\",position:\"relative\"}}>\r\n          {TempList &&\r\n            <>\r\n              <Button onClick={onTempPop}>\r\n                임시저장 목록({TempList.length})            \r\n              </Button>\r\n              {TempState &&\r\n                <OderModalPopup className=\"research-temp-list\">\r\n                  <ul>\r\n                  {TempList.map((el,idx)=>(\r\n                    <li>\r\n                      <Link className=\"flex-box between\" to={{\r\n                        pathname: `/research_temp`,\r\n                        state: {\r\n                          uid:el.uid,\r\n                          temp:true\r\n                        }\r\n                      }}>\r\n                        <span className=\"subject\">{el.title}</span>\r\n                        <span className=\"date\">{el.date}</span>\r\n                      </Link>\r\n                    </li>\r\n                  ))}\r\n                  </ul>\r\n                </OderModalPopup>\r\n              }\r\n            </>\r\n          }\r\n          <Button type=\"primary\" htmlType=\"submit\" style={{width:\"100px\",marginLeft:\"5px\"}}>\r\n            등록하기\r\n          </Button>\r\n          <Button style={{marginLeft:\"5px\"}}>\r\n            <Link ref={btnToList} to=\"/research\">목록으로</Link>\r\n          </Button>\r\n        </div>    \r\n      </Form>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default ResearchWrite\r\n","import React, { useState, useEffect } from \"react\";\r\nimport SignaturePad from \"signature_pad\";\r\nimport {Button} from \"antd\";\r\nimport * as antIcon from \"react-icons/ai\";\r\n\r\nlet sigPad = null;\r\nfunction Signature({onSigpad}) {\r\n  let w,h;\r\n  if(window.outerWidth < 760){\r\n    w = window.outerWidth-50;\r\n  }else{\r\n    w = 350;\r\n    h = 150;\r\n  }\r\n  useEffect(() => {\r\n    let canvas  = document.getElementById(\"signature-pad\");\r\n    sigPad = new SignaturePad(canvas, {\r\n      backgroundColor: \"rgb(255, 255, 255)\",\r\n      onEnd: () => {\r\n        onSigpad(sigPad.toDataURL(\"image/svg+xml\")); \r\n      }\r\n    });\r\n    \r\n    return () => {};\r\n  }, []);  \r\n  const handleRestSignature = () => {\r\n    sigPad.clear();\r\n    onSigpad();\r\n  };\r\n\r\n\r\n  return (\r\n    <>\r\n      <div className=\"signature-box\">\r\n        <canvas\r\n          id=\"signature-pad\"\r\n          className=\"signature-pad\"\r\n          width={w}\r\n          height={h}\r\n        />\r\n        <Button className=\"clear\" onClick={handleRestSignature}>\r\n          <antIcon.AiOutlineDelete />\r\n          clear\r\n        </Button>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Signature\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport firebase from \"../../firebase\";\r\nimport { Form, Radio, Input, Button, Table, Space, Checkbox } from 'antd';\r\nimport { useSelector } from \"react-redux\";\r\nimport Signature from \"../Signature\";\r\nimport Loading from \"../Loading\";\r\nimport { getFormatDate } from \"../CommonFunc\";\r\n\r\n\r\n\r\nfunction ResearchView(props) {\r\n  const userInfo = useSelector((state) => state.user.currentUser);\r\n  const [ResearchViewInfo, setResearchViewInfo] = useState();\r\n  const [ResultList, setResultList] = useState();\r\n  const [Ruser, setRuser] = useState();\r\n  const [Rerender, setRerender] = useState(true);\r\n  const [MyResearch, setMyResearch] = useState();\r\n\r\n  const [sigPadData, setSigPadData] = useState(null);\r\n\r\n  const onSigpad = (data) => {\r\n    setSigPadData(data);\r\n  }\r\n\r\n  useEffect(() => {\r\n    if(userInfo){\r\n\r\n      firebase\r\n      .database()\r\n      .ref(\"research\")\r\n      .child(`${props.location.state.uid}/result/${userInfo.uid}`)\r\n      .once(\"value\", (snapshot) => {\r\n        setMyResearch(snapshot.val());\r\n      });\r\n    }\r\n\r\n    async function getResearch(){\r\n    let r_user = []\r\n    await firebase.database().ref('users')\r\n    .once('value', (snapshot) => {\r\n      snapshot.forEach(el => {\r\n        if(el.val().role >= \"0\"){\r\n            r_user.push({\r\n            name: el.val().name,\r\n            part: el.val().part,\r\n            role: el.val().role\r\n          })\r\n        }\r\n      });\r\n      setRuser(r_user);\r\n    })  \r\n    await firebase.database().ref('research')\r\n    .child(props.location.state.uid)\r\n    .once(\"value\", (snapshot) => {\r\n      console.log(snapshot.val())\r\n      setResearchViewInfo(snapshot.val())      \r\n    });    \r\n\r\n    firebase.database().ref(`research/${props.location.state.uid}/result`)\r\n    .once(\"value\", (snapshot) => {      \r\n      let resultArr = [];\r\n      snapshot.forEach(el => {\r\n        resultArr.push(el.val())\r\n      })\r\n\r\n      r_user.map(el => {\r\n        resultArr.map(list => {\r\n          if(el.name == list.name && el.part == list.part){\r\n            const optionValues = Object.values(list.option);\r\n            el.option = optionValues ? optionValues : '';\r\n            el.sign = list.sign ? list.sign : '';\r\n          }\r\n        })\r\n      })\r\n      setResultList(r_user)\r\n    })};\r\n    getResearch();\r\n    return () => {      \r\n    }\r\n  }, [Rerender])\r\n\r\n  useEffect(() => {\r\n    if(!ResultList){\r\n      setTimeout(() => {\r\n        setRerender()\r\n      },1000)\r\n    }\r\n    return () => {\r\n    }\r\n  }, [])\r\n\r\n\r\n  const [ResultOpen, setResultOpen] = useState(false);\r\n  const onResultOpen = () => {\r\n    setResultOpen(true);\r\n  }\r\n\r\n  const [Again, setAgain] = useState(false);\r\n  const onResearchAgain = () => {\r\n    setAgain(true)\r\n  }\r\n  \r\n\r\n  const onFinish = (values) => {\r\n    const optionValues = Object.values(values);\r\n    let result = {\r\n      name:userInfo.displayName,\r\n      part:userInfo.photoURL,\r\n      option:optionValues,\r\n      sign:sigPadData ? sigPadData : ''\r\n    };\r\n    firebase.database().ref(`research/${props.location.state.uid}/result/${userInfo.uid}`)\r\n    .update({...result})\r\n    setRerender(!Rerender)\r\n    setAgain(false)\r\n  }\r\n\r\n  const columns = [\r\n    {\r\n      title: '이름',\r\n      dataIndex: 'name',\r\n      key: 'name',\r\n      align: 'center'\r\n    },\r\n    {\r\n      title: '부서',\r\n      dataIndex: 'part',\r\n      key: 'part',\r\n      align: 'center',\r\n    },\r\n    {\r\n      title: '답변',\r\n      dataIndex: 'option',\r\n      key: 'option',\r\n      align: 'center',\r\n      render: data => data ? \r\n      data.map((el,idx)=>(\r\n        <>\r\n        <p style={{textAlign:\"left\",lineHeight:\"1.6\",marginBottom:\"0\"}} key={idx}>{idx+1}. {el} </p>\r\n        </>\r\n      )) : ''       \r\n      ,\r\n    },\r\n    {\r\n      title: '서명',\r\n      dataIndex: 'sign',\r\n      key: 'sign',\r\n      align: 'center',\r\n      render: data => data ? <img style={{height:\"40px\"}} src={data} /> : '',\r\n    },\r\n  ]\r\n\r\n  const [Refesh, setRefesh] = useState(false)\r\n  useEffect(() => {\r\n    setTimeout(() => {\r\n      setRefesh(true)\r\n    },2000)\r\n    return () => {\r\n    }\r\n  }, [])\r\n  const onRerender = () => {\r\n    setRerender(!Rerender)\r\n  }\r\n\r\n\r\n  return (\r\n    <>\r\n      {ResultList && \r\n        <>\r\n        <Form\r\n        name=\"validate_other\"\r\n        onFinish={onFinish}\r\n        >\r\n          <dl className=\"board-view-basic\">\r\n            <dt>{ResearchViewInfo.title}</dt>\r\n            <dd className=\"flex-box\">\r\n              기한 :&nbsp; \r\n              {ResearchViewInfo.limit_start > 0 &&\r\n              <>\r\n              <div>\r\n                  {getFormatDate(new Date(ResearchViewInfo.limit_start)).full_}&nbsp; \r\n                  {getFormatDate(new Date(ResearchViewInfo.limit_start)).hour}: \r\n                  {getFormatDate(new Date(ResearchViewInfo.limit_start)).min}\r\n              </div>\r\n              &nbsp;~&nbsp;\r\n              <div>\r\n                {getFormatDate(new Date(ResearchViewInfo.limit_end)).full_}&nbsp; \r\n                {getFormatDate(new Date(ResearchViewInfo.limit_end)).hour}: \r\n                {getFormatDate(new Date(ResearchViewInfo.limit_end)).min}\r\n              </div>\r\n              </>\r\n              }\r\n              {ResearchViewInfo.limit_start === 0 && <>무기한</>}\r\n            </dd>\r\n            <dd>\r\n              {ResearchViewInfo.etc}\r\n              <div style={{marginTop:\"10px\"}}>\r\n                {ResearchViewInfo.image && ResearchViewInfo.image.map((el,idx) => (\r\n                  <div className=\"img\">\r\n                    <img key={idx} src={el.url} />\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </dd>            \r\n            {MyResearch && !Again ? (\r\n              <div className=\"my-answer\">\r\n                <h4>참여완료</h4>\r\n                <div>내 답변 : <span>{MyResearch.option}</span></div>\r\n                <Button style={{marginTop:\"10px\"}} onClick={onResearchAgain}>다시 참여하기</Button>\r\n              </div>\r\n            ):(\r\n            <dd>\r\n              {ResearchViewInfo.type == 1 &&\r\n                <Form.Item name=\"select_op\" label=\"선택항목\">\r\n                  <Radio.Group >\r\n                    {ResearchViewInfo.option.map((el,idx) => (\r\n                      <>\r\n                        <Radio key={idx} value={el.option}>{el.option}</Radio>\r\n                      </>\r\n                    ))}\r\n                  </Radio.Group>\r\n                </Form.Item>\r\n              }\r\n              {ResearchViewInfo.type == 2 && \r\n                <Form.Item name=\"select_op\">\r\n                  <div className=\"flex-box\">\r\n                    <span className=\"tit\">답변</span>\r\n                    <Input />\r\n                  </div>\r\n              </Form.Item>\r\n              }\r\n              {ResearchViewInfo.type == 3 && \r\n                ResearchViewInfo.option.map((el,idx)=>(\r\n                  <>\r\n                    <div style={{marginBottom:\"10px\"}}>\r\n                      <span className=\"tit\">{idx+1}. {el.option_q}</span>\r\n                      <div className=\"flex-box\" style={{marginBottom:\"10px\"}}>\r\n                      {el.option_photo && el.option_photo.map((img,_idx) => (\r\n                        <div style={{margin:\"0 5px\"}}>\r\n                          <img src={img.url} />\r\n                        </div>\r\n                      ))}\r\n                      </div>\r\n                    </div>\r\n                    {el.option_a != '' ? (\r\n                      <>\r\n                      {el.option_type == '1' &&\r\n                      <Form.Item name={`select_op_${idx}`} label=\"선택항목\" style={{marginBottom:\"20px\"}}>\r\n                        <Checkbox.Group >\r\n                          {el.option_a.split(',').map((list,_idx)=>(\r\n                            <Checkbox key={_idx} value={list}>{list}</Checkbox>\r\n                          ))}\r\n                        </Checkbox.Group>\r\n                      </Form.Item>\r\n                      }\r\n                      {el.option_type == '2' &&\r\n                      <Form.Item name={`select_op_${idx}`} label=\"선택항목\" style={{marginBottom:\"20px\"}}>\r\n                        <Radio.Group >\r\n                          {el.option_a.split(',').map((list,_idx)=>(\r\n                            <Radio key={_idx} value={list}>{list}</Radio>\r\n                          ))}\r\n                        </Radio.Group>\r\n                      </Form.Item>\r\n                      }\r\n                      </>\r\n                    ):(\r\n                      <Form.Item name={`select_op_${idx}`} style={{marginBottom:\"20px\"}}>\r\n                          <div className=\"flex-box\">\r\n                            <span className=\"tit\">답변</span>\r\n                            <Input />\r\n                          </div>\r\n                      </Form.Item>\r\n                    )}\r\n                  </>\r\n                ))\r\n              }\r\n              <div className=\"flex-box\">\r\n                <span className=\"tit\">서명</span>\r\n                <Signature onSigpad={onSigpad} />\r\n              </div>\r\n            </dd>            \r\n            )\r\n            }\r\n              \r\n             \r\n            \r\n            <div className=\"btn-box\">\r\n              <Space align=\"center\">\r\n                {!Again && MyResearch ? (\r\n                  <></>\r\n                ):(\r\n                  <Button htmlType=\"submit\" type=\"primary\">참여하기</Button>\r\n                )}\r\n                {ResearchViewInfo && userInfo && !userInfo.auth.includes('insa') ? (\r\n                  <></>\r\n                  ):(\r\n                  <>\r\n                  <Button onClick={onResultOpen}>결과보기</Button>\r\n                  <Button>\r\n                    <Link to={{\r\n                      pathname: `/research_modify`,\r\n                      state: {\r\n                        uid:ResearchViewInfo.uid\r\n                      }\r\n                    }}\r\n                      >수정\r\n                    </Link>\r\n                  </Button>\r\n                  </>\r\n                )}\r\n                <Button>\r\n                  <Link to=\"/research\">목록으로</Link>\r\n                </Button>\r\n              </Space>\r\n            </div>\r\n          </dl>\r\n        </Form>\r\n        \r\n      \r\n      {Ruser && ResultList && ResultOpen &&\r\n        <>\r\n        <Table pagination={false} align=\"center\" columns={columns} dataSource={ResultList} />        \r\n        </>\r\n      }\r\n      </>\r\n      }\r\n      {!ResultList && \r\n        <>     \r\n          {!Refesh &&\r\n          <Loading />\r\n          }\r\n          {Refesh &&\r\n            <Button className=\"pos-center\" type=\"button\" onClick={onRerender}>새로고침</Button>\r\n          }\r\n        </>\r\n      }  \r\n    </>\r\n  )\r\n}\r\n\r\nexport default ResearchView\r\n","import React, { useState, useEffect, useRef } from 'react';\r\nimport { getFormatDate } from './CommonFunc';\r\nimport { Checkbox, Button, Modal, message } from \"antd\";\r\nimport firebase from \"../firebase\";\r\nimport { useSelector } from \"react-redux\";\r\nimport * as antIcon from \"react-icons/ai\";\r\n\r\n\r\n\r\n\r\nfunction LunchCheck() {\r\n  const userInfo = useSelector((state) => state.user.currentUser);\r\n  const curDate = getFormatDate(new Date());\r\n  const weekNum = curDate.weekNum;\r\n  let date = new Date();\r\n  let hour = date.getHours();\r\n  new Date(date.setDate(date.getDate() - weekNum + 7));\r\n  let curWeekArr = [];\r\n  let i = 0;\r\n  while(i < 7){\r\n    curWeekArr.push(getFormatDate(new Date(date.setDate(date.getDate() - 1))));\r\n    i++;\r\n  }\r\n  curWeekArr = curWeekArr.sort((a,b) => {\r\n    if(a.full < b.full){\r\n      return -1;\r\n    }\r\n  });\r\n  curWeekArr.pop();\r\n  curWeekArr.shift();\r\n  \r\n  date = new Date();\r\n  new Date(date.setDate(date.getDate() - weekNum));\r\n  let prevWeekArr = [];\r\n  let n = 0;\r\n  while(n < 7){\r\n    prevWeekArr.push(getFormatDate(new Date(date.setDate(date.getDate() - 1))));\r\n    n++;\r\n  }\r\n  prevWeekArr = prevWeekArr.sort((a,b) => {\r\n    if(a.full < b.full){\r\n      return -1;\r\n    }\r\n  });\r\n  prevWeekArr.pop();\r\n  prevWeekArr.shift();\r\n  \r\n  date = new Date();\r\n  new Date(date.setDate(date.getDate() + (6-weekNum)));\r\n  let nextWeekArr = [];\r\n  let j = 0;\r\n  while(j < 14){\r\n    if(j==6){\r\n      nextWeekArr.push(getFormatDate(new Date(date.setDate(date.getDate() + 3))));\r\n    }else{\r\n      nextWeekArr.push(getFormatDate(new Date(date.setDate(date.getDate() + 1))));\r\n    }\r\n    \r\n    j++;\r\n  }\r\n  nextWeekArr.pop();\r\n  nextWeekArr.pop();\r\n  nextWeekArr.pop();\r\n  nextWeekArr.shift();\r\n\r\n  \r\n  const weekList = useRef();\r\n  const weekList2 = useRef();\r\n  const weekList3 = useRef();\r\n  \r\n  const [ItemList, setItemList] = useState();\r\n  const [UserList, setUserList] = useState();\r\n  const [ItemInfo, setItemInfo] = useState();\r\n  const [PrevState, setPrevState] = useState()\r\n  const [CurState, setCurState] = useState()\r\n  const [NextState, setNextState] = useState()\r\n\r\n  useEffect(() => {\r\n\r\n      firebase.database().ref('lunch/item')\r\n      .on('value', (snapshot) => {\r\n        let arr = [];\r\n        snapshot.forEach(el => {\r\n          arr.push(el.val())\r\n        })\r\n        setItemList(arr)\r\n      });\r\n      firebase.database().ref('lunch/info')\r\n      .on('value', (snapshot) => {\r\n        setItemInfo(snapshot.val())        \r\n      });\r\n      firebase.database().ref(`lunch/user/${userInfo.uid}/checkList`)\r\n      .on('value', (snapshot) => {\r\n        let arr = [];\r\n        snapshot.forEach(el => {\r\n          arr.push({\r\n            date: el.val().date,\r\n            item: el.val().item,\r\n            confirm: el.val().confirm ? el.val().confirm : ''\r\n          })\r\n        })\r\n        setUserList(arr);\r\n        prevWeekArr.map((el,idx) => {\r\n          arr.map((list,idx) => {\r\n            if(el.full == list.date){\r\n              el.item = list.item ? list.item.join(',') : '';\r\n              el.confirm = list.confirm;\r\n            }\r\n          })\r\n        })\r\n        curWeekArr.map((el,idx) => {\r\n          arr.map((list,idx) => {\r\n            if(el.full == list.date){\r\n              el.item = list.item ? list.item.join(',') : '';\r\n              el.confirm = list.confirm;\r\n            }\r\n          })\r\n        })\r\n        nextWeekArr.map((el,idx) => {\r\n          arr.map((list,idx) => {\r\n            if(el.full == list.date){\r\n              el.item = list.item ? list.item.join(',') : '';\r\n              el.confirm = list.confirm;\r\n            }\r\n          })\r\n        })\r\n        \r\n        \r\n        setPrevState(prevWeekArr);\r\n        setCurState(curWeekArr);\r\n        setNextState(nextWeekArr);\r\n      })\r\n      \r\n    \r\n  \r\n\r\n    return () => {\r\n      firebase.database().ref('lunch/item').off();\r\n      firebase.database().ref(`lunch/user/${userInfo.uid}/checkList`).off();\r\n    }\r\n  }, []);\r\n\r\n\r\n  const [LunchImg, setLunchImg] = useState()\r\n  const [LunchImgVisible, setLunchImgVisible] = useState(false)\r\n  useEffect(() => {\r\n    firebase.database().ref('lunch/img')\r\n    .on(\"value\",data => {\r\n      setLunchImg(data.val())\r\n    })\r\n    return () => {\r\n      firebase.database().ref('lunch/img').off()\r\n    }\r\n  }, [])\r\n  const onLunchImg = () => {\r\n    setLunchImgVisible(true)\r\n  }\r\n  const LunchImgCancel = () => {\r\n    setLunchImgVisible(false)\r\n  }\r\n\r\n  const onsubmit = () => {\r\n    let list = [...weekList.current.querySelectorAll('li'),...weekList2.current.querySelectorAll('li'),...weekList3.current.querySelectorAll('li')];    \r\n    let checkList = {};\r\n    list.map(el => {\r\n      let check = [...el.querySelectorAll('input[type=checkbox]:checked')];\r\n      let confirm = el.querySelector('input[type=hidden]');\r\n      \r\n      check = check.map(el=>el.dataset.value)\r\n      checkList[el.dataset.date] = {\r\n        item: check,\r\n        date:el.dataset.date,\r\n        confirm:confirm.value\r\n      }        \r\n    })\r\n    \r\n    firebase.database().ref(`lunch/user/${userInfo.uid}`)\r\n    .update({\r\n      checkList,\r\n      name : userInfo.displayName,\r\n      part : userInfo.photoURL\r\n    })\r\n    message.success('적용되었습니다 :)');\r\n    setModifyState(false)\r\n  }\r\n\r\n  const onTodayCheck = (date) => {\r\n    firebase.database().ref(`lunch/user/${userInfo.uid}/checkList/${date}`)\r\n    .update({\r\n      confirm:1\r\n    })\r\n  }\r\n\r\n  const [ModifyState, setModifyState] = useState(false)\r\n  const onModify = () => {\r\n    setModifyState(true)\r\n  }\r\n\r\n  const onCancel = () => {\r\n    setModifyState(false)\r\n  }\r\n  \r\n\r\n  return (\r\n    <>\r\n      <div className=\"item-info-box\">\r\n        {ItemInfo && \r\n          <pre>{ItemInfo}</pre>\r\n        }\r\n      </div>\r\n      <ul className=\"week_list\" ref={weekList}>\r\n        {PrevState && PrevState.map((el,idx) => (\r\n          <li key={idx} data-date={el.full}>\r\n            <input type=\"hidden\" name=\"check\" value={el.confirm ? el.confirm : \"\"} />\r\n              <span className=\"date\">\r\n                {`${el.month}.${el.day}(${el.week})`}\r\n              </span>\r\n              {!ModifyState &&\r\n                <>\r\n                  <div className=\"item-info\">\r\n                    {`${el.item ? el.item : ''}`}\r\n                  </div>\r\n                  <div className=\"confirm-info\">\r\n                  {el.full != curDate.full &&\r\n                    <>\r\n                      {el.confirm ? <span>확인완료</span> : <span>미확인</span>} \r\n                    </>\r\n                  }\r\n                  </div>\r\n                </> \r\n              }\r\n            <div className={`check-list-box ${ModifyState && 'modify'}`}>\r\n              {ItemList && ModifyState && \r\n              ItemList.map((list,l_idx) => (\r\n                <>\r\n                {userInfo.auth && userInfo.auth == 'alba' && ItemList.length == l_idx+1 ? (\r\n                  <></>\r\n                ) : (\r\n                  <Checkbox key={l_idx} data-value={list} disabled defaultChecked={el.item && el.item.includes(list) ? true : false}>{list}</Checkbox>\r\n                )}\r\n                </>\r\n              ))                  \r\n              }\r\n            </div>  \r\n          </li>\r\n        ))}\r\n      </ul>\r\n      <ul className=\"week_list\" ref={weekList2}>\r\n        {CurState && CurState.map((el,idx) => (\r\n          <li key={idx} data-date={el.full} className={el.full == curDate.full ? 'today' : ''}>\r\n            <span className=\"date\">\r\n                {`${el.month}.${el.day}(${el.week})`}\r\n            </span>\r\n            {!ModifyState &&\r\n              <>\r\n              <div className=\"item-info\">\r\n                    {`${el.item ? el.item : ''}`}\r\n                  </div>\r\n                \r\n              <div className=\"confirm-info\">\r\n              {el.confirm && <span>확인완료</span>}\r\n              {el.full != curDate.full && !el.confirm &&\r\n                <span>미확인</span>\r\n              }\r\n              </div>\r\n                \r\n              {el.full == curDate.full &&\r\n                <>\r\n                {!el.confirm && \r\n                <>\r\n                  <Button type=\"primary\" disabled={!el.item ? true : hour < 9 ? false : true}  onClick={()=>{onTodayCheck(el.full)}}>\r\n                    {el.item ? '식단확인' : '확인불가'}\r\n                  </Button>\r\n                </>\r\n                }\r\n                </>\r\n              }\r\n              </> \r\n            } \r\n            <div className={`check-list-box ${ModifyState && 'modify'}`}>\r\n              {ItemList && ModifyState && \r\n              ItemList.map((list,l_idx) => (\r\n                <>\r\n                  {userInfo.auth && userInfo.auth == 'alba' && ItemList.length == l_idx+1 ? (\r\n                  <></>\r\n                ) : (\r\n                  <Checkbox key={l_idx} data-value={list} disabled={\r\n                    el.full > curDate.full ? \r\n                    false : el.full == curDate.full && hour < 9 ? false : true\r\n                  } defaultChecked={el.item && el.item.includes(list) ? true : false}>{list}</Checkbox>\r\n                )}\r\n              </>\r\n              ))            \r\n              }\r\n            </div>\r\n            <input type=\"hidden\" name=\"check\" value={el.confirm ? el.confirm : \"\"} />            \r\n          </li>\r\n        ))}\r\n      </ul>  \r\n\r\n      <ul className=\"week_list next\" ref={weekList3}>\r\n        {NextState && NextState.map((el,idx) => (\r\n          <li key={idx} data-date={el.full}>\r\n          <input type=\"hidden\" name=\"check\" value={el.confirm ? el.confirm : \"\"} />\r\n            <span className=\"date\">\r\n              {`${el.month}.${el.day}(${el.week})`}\r\n            </span>\r\n            {!ModifyState &&\r\n              <>\r\n                <div className=\"item-info\">\r\n                    {`${el.item ? el.item : ''}`}\r\n                  </div>\r\n                <div className=\"confirm-info\">\r\n                {el.full != curDate.full &&\r\n                  <>\r\n                    {el.confirm ? <span>확인완료</span> : <span>미확인</span>} \r\n                  </>\r\n                }\r\n                </div>\r\n              </> \r\n            }\r\n          <div className={`check-list-box ${ModifyState && 'modify'}`}>\r\n            {ItemList && ModifyState && \r\n            ItemList.map((list,l_idx) => (\r\n              <>\r\n                {userInfo.auth && userInfo.auth == 'alba' && ItemList.length == l_idx+1 ? (\r\n                  <></>\r\n                ) : (\r\n                <Checkbox key={l_idx} data-value={list} defaultChecked={el.item && el.item.includes(list) ? true : false}>{list}</Checkbox>    \r\n                )}\r\n              </>\r\n            ))                  \r\n            }\r\n          </div>  \r\n        </li>\r\n        ))}\r\n      </ul>  \r\n     \r\n      <div className=\"lunch-btn-box\">\r\n        {LunchImg && \r\n          <>\r\n            <Button style={{marginRight:\"5px\"}} onClick={onLunchImg}>\r\n              식단표\r\n            </Button>\r\n            <Modal title=\"식단표\" \r\n            visible={LunchImgVisible} \r\n            footer={null}\r\n            width=\"auto\"\r\n            centered\r\n            className=\"lunch-img-modal\"\r\n            onCancel={LunchImgCancel}>\r\n              <img src={LunchImg.img.url} />\r\n            </Modal>\r\n          </>\r\n        }\r\n        {!ModifyState &&\r\n          <Button type=\"primary\" onClick={onModify}>수정하기</Button>\r\n        }\r\n        {ModifyState &&\r\n          <>\r\n          <Button type=\"primary\" onClick={onsubmit}>적용하기</Button>\r\n          <Button style={{marginLeft:\"5px\"}} onClick={onCancel}>취소</Button>\r\n          </>\r\n        }\r\n      </div>\r\n\r\n      \r\n    </>\r\n  )\r\n}\r\n\r\nexport default LunchCheck\r\n","export default __webpack_public_path__ + \"static/media/logo_2021_fall_pc.5ee0a8f3.png\";","export default __webpack_public_path__ + \"static/media/logo_2021_fall.6951be31.png\";","import React, { useState, useEffect } from \"react\";\r\nimport SignaturePad from \"signature_pad\";\r\n\r\nfunction Test() {\r\n  useEffect(() => {\r\n    var canvas = document.getElementById(\"signature-pad\");\r\n    var signaturePad = new SignaturePad(canvas, {\r\n      backgroundColor: \"rgb(255, 255, 255)\" // necessary for saving image as JPEG; can be removed is only saving as PNG or SVG\r\n    });\r\n\r\n    return () => {};\r\n  }, []);  \r\n  return (\r\n    <>\r\n      <canvas\r\n        id=\"signature-pad\"\r\n        className=\"signature-pad\"\r\n        width={400}\r\n        height={200}\r\n      />\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Test\r\n","import React, {useState, useEffect } from 'react'\r\nimport firebase from \"../../firebase\";\r\nimport { Table, Button, Space, Form } from 'antd';\r\nimport { OderModalPopup } from \"../OrderModal\";\r\n\r\nfunction UserAdmin() {\r\n  const [TotalUser, setTotalUser] = useState();\r\n  const [ReRender, setReRender] = useState(false);\r\n\r\n  useEffect(() => {\r\n    window.addEventListener('click',(e)=>{\r\n      if(e.target.id == 'btnModify' || e.target.parentElement.id == 'btnModify'){        \r\n        \r\n      }else{\r\n\r\n        e.stopPropagation();\r\n      }\r\n    },true)\r\n\r\n\r\n    let userArr = [];\r\n    firebase\r\n    .database()\r\n    .ref(\"users\")\r\n    .once(\"value\", (snapshot) => {\r\n      snapshot.forEach(el=>{\r\n        userArr.push({\r\n          uid:el.key,\r\n          auth:el.val().auth ? el.val().auth : \"\",\r\n          call_number:el.val().call_number,\r\n          email:el.val().email,\r\n          name:el.val().name,\r\n          part:el.val().part,\r\n          role:el.val().role\r\n        })\r\n      })\r\n      setTotalUser(userArr);\r\n    });\r\n    return () => {      \r\n    }\r\n  }, []);\r\n\r\n  const deleteUser = (uid) => {\r\n    const confirm = window.confirm('해당 유저를 DB에서 삭제하시겠습니까?');\r\n    if(confirm){\r\n      firebase.database().ref(`users/${uid}`)\r\n      .remove()\r\n      firebase.database().ref(`users/lunch/user/${uid}`)\r\n      .remove()\r\n      alert('삭제되었습니다.')\r\n      setReRender(!ReRender);\r\n    }\r\n  }\r\n\r\n  \r\n  const columns = [    \r\n    {\r\n      title: '이름',\r\n      dataIndex: 'name',\r\n      key: 'name'\r\n    },\r\n    {\r\n      title: '부서',\r\n      dataIndex: 'part',\r\n      key: 'part'\r\n    },\r\n    {\r\n      title: 'uid',\r\n      dataIndex: 'uid',\r\n      key: 'uid',\r\n    },\r\n    {\r\n      title: '이메일',\r\n      dataIndex: 'email'\r\n    },\r\n    {\r\n      title: '전화번호',\r\n      dataIndex: 'call_number',\r\n      key: 'call_number'\r\n    },\r\n    {\r\n      title: 'role',\r\n      dataIndex: 'role',\r\n      key: 'role',\r\n    },\r\n    {\r\n      title: 'auth',\r\n      dataIndex: 'auth',\r\n      key: 'auth',\r\n    },\r\n    {\r\n      title: '관리',\r\n      align:'center',\r\n      dataIndex: 'uid',\r\n      key: 'uid',\r\n      render: uid => (\r\n        <>\r\n          <Space>\r\n            {/* <Button className=\"sm\" id=\"btnModify\" onClick={(e)=>{modifyUser(e,uid)}}>수정</Button> */}\r\n            <Button className=\"sm\" onClick={()=>{deleteUser(uid)}}>삭제</Button>\r\n          </Space>\r\n        </>\r\n      )\r\n    }\r\n    \r\n  ]\r\n  \r\n  const data = TotalUser;\r\n\r\n\r\n  const [ModifyPop, setModifyPop] = useState(false);\r\n  const [ModifyData, setModifyData] = useState();\r\n  const [PosX, setPosX] = useState(0);\r\n  const [PosY, setPosY] = useState(0);\r\n\r\n  const onClosePop = () => {\r\n    console.log(2);\r\n  }\r\n\r\n  const modifyUser = (e,uid) => {\r\n    setPosX(e.clientX);\r\n    setPosY(e.clientY);\r\n    setModifyPop(true);\r\n\r\n  }\r\n\r\n  const onSubmitInfo = () => {\r\n    console.log(1)\r\n  }\r\n\r\n\r\n\r\n\r\n  return (\r\n    <> \r\n      <Table \r\n        columns={columns} \r\n        dataSource={data} \r\n        pagination={{ pageSize: 100 }}\r\n        rowKey={ item => { return item.uid } }\r\n      />\r\n      {ModifyPop &&\r\n        <OderModalPopup className=\"call_modify\" style={{\r\n          top:`${PosY}px`,\r\n          left:`${PosX}px`,\r\n          transform:\"translate(-110%,-50%)\",\r\n          position:\"fixed\"\r\n        }}>\r\n          <form className=\"order-form-box\" onSubmit={onSubmitInfo}>\r\n            {ModifyData && (\r\n              <>\r\n                {ModifyData.name}\r\n              </>\r\n              )\r\n            }\r\n            <Button>확인</Button>\r\n          </form>\r\n          <div className=\"flex-box j-center\">\r\n            <Button type=\"primary\" onClick={onClosePop}>닫기</Button>\r\n          </div>\r\n        </OderModalPopup>\r\n      }\r\n    </>\r\n  )\r\n}\r\n\r\n\r\nexport default UserAdmin\r\n","import React, { useState, useEffect } from \"react\";\r\nimport firebase from \"../../firebase\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Form, DatePicker, Input, Button, Table, Select } from 'antd';\r\nimport Signature from \"../Signature\";\r\nimport { getFormatDate, commaNumber } from '../CommonFunc';\r\nimport uuid from \"react-uuid\";\r\nimport moment from 'moment';\r\nimport { OderModalPopup } from \"../OrderModal\";\r\nconst curDate = getFormatDate(new Date());\r\nconst { RangePicker } = DatePicker;\r\nconst { Option } = Select;\r\n\r\nfunction Hair() {\r\n  const userInfo = useSelector((state) => state.user.currentUser);\r\n  const [sigPadData, setSigPadData] = useState(null);\r\n  const [MyHairData, setMyHairData] = useState();\r\n  const [Rerender, setRerender] = useState(false);\r\n  const [SearchDate, setSearchDate] = useState([curDate,curDate]);\r\n\r\n  const [HairInfo, setHairInfo] = useState();\r\n\r\n  useEffect(() => {\r\n\r\n    firebase.database().ref('hair/info')\r\n    .on('value', (snapshot) => {\r\n      setHairInfo(snapshot.val())        \r\n    });\r\n\r\n    let hairArr = [];\r\n    let startDate = SearchDate[0].full.substr(0,6);\r\n    let endDate = SearchDate[1].full.substr(0,6);\r\n    firebase\r\n    .database()\r\n    .ref(`hair/list/${userInfo.uid}`)\r\n    .once(\"value\", (snapshot) => {\r\n      snapshot.forEach(el=>{\r\n        let str = el.val().date.full.toString().substr(0,6);\r\n        if(startDate <= str && str <= endDate){\r\n          hairArr.push(el.val())\r\n        }\r\n      })      \r\n      hairArr.sort((a,b)=>{\r\n        return b.timestamp - a.timestamp\r\n      })\r\n      hairArr.sort((a,b)=>{\r\n        return b.date.full - a.date.full\r\n      })\r\n      setMyHairData(hairArr);\r\n    });\r\n    return () => {\r\n      firebase.database().ref(`users/${userInfo.uid}`).off();\r\n    }\r\n  }, [Rerender,SearchDate]);\r\n  \r\n  const onSigpad = (data) => {\r\n    setSigPadData(data);\r\n  }\r\n\r\n  const onFinish = (values)=> {\r\n    const uid = uuid();\r\n    values.date = getFormatDate(values.date._d);\r\n    values.signature = sigPadData;\r\n    if(!values.signature){\r\n      window.alert('서명은 필수입니다.');\r\n      return;\r\n    }\r\n    const yearMonth = values.date.year + values.date.month\r\n    firebase.storage().ref(`hair/${yearMonth}/${uid}`)\r\n    .putString(values.signature,'data_url')\r\n    .then((res)=>{\r\n      res.ref.getDownloadURL()\r\n      .then(url => {\r\n        firebase\r\n        .database()\r\n        .ref(\"hair/list\")\r\n        .child(`${userInfo.uid}/${uid}`)\r\n        .update({\r\n          ...values,\r\n          signature:url,\r\n          part: userInfo.photoURL,\r\n          name: userInfo.displayName,\r\n          sosok: userInfo.sosok,\r\n          timestamp: new Date().getTime(),\r\n          uid:uid,\r\n          user_uid:userInfo.uid\r\n        })\r\n        setRerender(!Rerender)\r\n      })\r\n    })\r\n  }\r\n\r\n  const onDelete = (uid,date) => {\r\n    let yearMonth = getFormatDate(new Date(date));\r\n    yearMonth = yearMonth.year + yearMonth.month\r\n\r\n    let curDate = Math.floor(new Date().getTime()/1000);\r\n    let thisDate = Math.floor(date/1000);\r\n    if(curDate>thisDate+259200){\r\n      window.alert('삭제는 작성 후 3일까지 가능합니다.');\r\n      return;\r\n    }\r\n    let agree = window.confirm('삭제하면 복구가 불가능합니다. 삭제하시겠습니까?');\r\n    if(agree){\r\n      firebase.database().ref(`hair/list/${userInfo.uid}/${uid}`).remove();\r\n      setRerender(!Rerender)\r\n\r\n      firebase.storage().ref(`hair/${yearMonth}/${uid}`).delete()\r\n    }\r\n  }\r\n\r\n  const [ModifyPop, setModifyPop] = useState(false);\r\n  const [ModifyData, setModifyData] = useState();\r\n  const onModify = (uid,date) => {\r\n    firebase.database().ref(`hair/list/${userInfo.uid}/${uid}`)\r\n    .once(\"value\", (snapshot => {\r\n      setModifyData(snapshot.val());\r\n      return;\r\n    }))\r\n    let curDate = Math.floor(new Date().getTime()/1000);\r\n    let thisDate = Math.floor(date/1000);\r\n    if(curDate>thisDate+259200){\r\n      window.alert('수정은 작성 후 3일까지 가능합니다.');\r\n      return;\r\n    }\r\n    setModifyPop(true)\r\n  }\r\n  const modifyOff = () => {\r\n    setModifyData('');\r\n    setModifyPop(false)\r\n  }\r\n\r\n  const onSubmitModify = (e) => {\r\n    e.preventDefault();\r\n    let date = e.target.date.value;\r\n    let year = date.substr(0,4);\r\n    let month = date.substr(5,2);\r\n    month = parseInt(month) - 1;\r\n    let day = date.substr(8,2);\r\n    date = getFormatDate(new Date(year,month,day))\r\n    firebase\r\n    .database()\r\n    .ref(\"hair/list\")\r\n    .child(`${userInfo.uid}/${ModifyData.uid}`)\r\n    .update({\r\n      date:date,\r\n      price: e.target.price.value,\r\n      relation: e.target.querySelector('.ant-select-selection-item').title,\r\n      service: e.target.service.value,\r\n    });\r\n    setRerender(!Rerender)\r\n    modifyOff()\r\n  }\r\n\r\n  const onSelectDate = (date, dateString) => {\r\n    let arr = [];\r\n    arr.push(getFormatDate(date[0]._d))\r\n    arr.push(getFormatDate(date[1]._d))\r\n    setSearchDate(arr)\r\n  }\r\n  const disabledDate = (current) => {\r\n    return current && current > moment();\r\n  }\r\n\r\n\r\n  \r\n    const columns = [\r\n      {\r\n        title: '이용날짜',\r\n        dataIndex: 'date',\r\n        key: 'date',\r\n        align: 'center',\r\n        render: data => data ? data.full_ : '',\r\n      },\r\n      {\r\n        title: '이용자와의 관계',\r\n        dataIndex: 'relation',\r\n        key: 'relation',\r\n        align: 'center',\r\n      },\r\n      {\r\n        title: '서비스명',\r\n        dataIndex: 'service',\r\n        key: 'service',\r\n        align: 'center'\r\n      },\r\n      {\r\n        title: '가격',\r\n        dataIndex: 'price',\r\n        key: 'price',\r\n        align: 'center',        \r\n        render: data => data ? `${commaNumber(data)}` : ''\r\n      },\r\n      {\r\n        title: '서명',\r\n        dataIndex: 'signature',\r\n        key: 'signature',\r\n        align: 'center',\r\n        render: data => data ? <img style={{height:\"40px\"}} src={data} /> : '',\r\n      },\r\n      {\r\n        title: '관리',\r\n        dataIndex: ['uid','timestamp'],\r\n        key: 'uid',\r\n        align: 'center',\r\n        render: (text,row) => row['uid'] ? (\r\n          <>\r\n            <Button style={{marginRight:\"5px\"}} onClick={()=>{onModify(row['uid'],row['timestamp'])}}>수정</Button>\r\n            <Button onClick={()=>{onDelete(row['uid'],row['timestamp'])}}>삭제</Button>\r\n          </>\r\n          ) : '',\r\n      }\r\n      \r\n    ]\r\n\r\n\r\n    \r\n  return (\r\n    <>\r\n      {HairInfo && \r\n          <div className=\"item-info-box\" style={{marginBottom:\"20px\"}}>\r\n            <pre>{HairInfo}</pre>\r\n          </div>\r\n        }\r\n      <Form name=\"dynamic_form_nest_item\" className=\"hiar-form\" onFinish={onFinish} autoComplete=\"off\">\r\n        <div className=\"flex-box\">\r\n          <Form.Item \r\n          name=\"date\"\r\n          label=\"이용날짜\"\r\n          rules={[{ \r\n            required: true,\r\n            message: \"필수항목 입니다.\"\r\n          }]}\r\n          >\r\n            <DatePicker />\r\n          </Form.Item>\r\n          <Form.Item \r\n          name=\"relation\"\r\n          label=\"관계\"\r\n          rules={[{ \r\n            required: true,\r\n            message: \"필수항목 입니다.\"\r\n          }]}\r\n          >\r\n            <Select defaultValue=\"선택\" style={{ width: 120 }}>\r\n              <Option value=\"본인\">본인</Option>\r\n              <Option value=\"배우자\">배우자</Option>\r\n              <Option value=\"자녀\">자녀</Option>\r\n            </Select>\r\n          </Form.Item>\r\n        </div>\r\n        <div className=\"flex-box\">\r\n          <Form.Item \r\n          name=\"service\"\r\n          label=\"서비스명\"\r\n          rules={[{ \r\n            required: true,\r\n            message: \"필수항목 입니다.\"\r\n          }]}\r\n          >\r\n            <Input />\r\n          </Form.Item>\r\n          <Form.Item \r\n          name=\"price\"\r\n          label=\"가격\"\r\n          rules={[{ \r\n            required: true,\r\n            message: \"필수항목 입니다.\"\r\n          }]}\r\n          >\r\n            <Input \r\n              prefix=\"￦\" \r\n              type=\"number\"\r\n              style={{maxWidth:\"120px\"}} \r\n            />\r\n          </Form.Item>\r\n        </div>\r\n        <Form.Item \r\n        className=\"signature\"\r\n        name=\"signature\"\r\n        label=\"서명\"\r\n        >\r\n          <Signature onSigpad={onSigpad} />\r\n        </Form.Item>\r\n        <div className=\"btn-box\">\r\n          <Button type=\"primary\" htmlType=\"submit\">등록하기</Button>          \r\n        </div>\r\n      </Form>\r\n\r\n      {MyHairData &&\r\n        <>\r\n        <RangePicker \r\n          picker=\"month\" \r\n          style={{margin:\"20px 0 10px 0\"}}\r\n          defaultValue={[moment(),moment()]}\r\n          disabledDate={disabledDate} onChange={onSelectDate}\r\n        />\r\n        <Table \r\n        pagination={{\r\n          pageSize:10\r\n        }}\r\n        align=\"center\" columns={columns} dataSource={MyHairData} />        \r\n        </>\r\n      } \r\n      {\r\n        ModifyPop && ModifyData &&\r\n        <>\r\n          <OderModalPopup className=\"call_modify\" style={{\r\n            top:\"50%\",\r\n            left:\"50%\",\r\n            transform:\"translate(-50%,-50%)\",\r\n            position:\"fixed\",\r\n          }}>\r\n            <form className=\"order-form-box\" onSubmit={onSubmitModify}>\r\n              <div className=\"input-box\" style={{marginBottom:\"5px\"}}>\r\n                <span className=\"tit\">이용날짜</span>\r\n                <DatePicker name=\"date\" defaultValue={moment(ModifyData.date.full_)} />\r\n              </div>\r\n              <div className=\"input-box\" style={{marginBottom:\"5px\"}}>\r\n                <span className=\"tit\">관계</span>\r\n                <Select name=\"relation\" defaultValue={ModifyData.relation} style={{ width: 120 }}>\r\n                  <Option value=\"본인\">본인</Option>\r\n                  <Option value=\"배우자\">배우자</Option>\r\n                  <Option value=\"자녀\">자녀</Option>\r\n                </Select>\r\n              </div>\r\n              <div className=\"input-box\" style={{marginBottom:\"5px\"}}>\r\n                <span className=\"tit\">서비스명</span>\r\n                <Input name=\"service\" defaultValue={ModifyData.service} />\r\n              </div>\r\n              <div className=\"input-box\" style={{marginBottom:\"5px\"}}>\r\n                <span className=\"tit\">가격</span>\r\n                <Input prefix=\"￦\" type=\"number\" name=\"price\" defaultValue={ModifyData.price} />\r\n              </div>\r\n              <div className=\"btn-box\">\r\n                <Button type=\"primary\" htmlType=\"submit\">수정하기</Button>\r\n                <Button onClick={modifyOff} style={{marginLeft:\"5px\"}}>닫기</Button>\r\n              </div>\r\n            </form>\r\n          </OderModalPopup>\r\n        </>\r\n      }\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Hair\r\n","import React, { useState, useEffect } from \"react\";\r\nimport firebase from \"../../firebase\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Input, DatePicker, Button, Table, Radio, Select } from 'antd';\r\nimport * as antIcon from \"react-icons/ai\";\r\nimport { getFormatDate, commaNumber } from '../CommonFunc';\r\nimport moment from 'moment';\r\nimport { OderModalPopup } from \"../OrderModal\";\r\nimport { CSVLink } from \"react-csv\";\r\nimport _ from 'lodash';\r\nconst curDate = getFormatDate(new Date());\r\nconst { TextArea } = Input;\r\nconst { RangePicker } = DatePicker;\r\nconst { Option } = Select;\r\n\r\nfunction HairAdmin() {\r\n  const userInfo = useSelector((state) => state.user.currentUser);\r\n  const [MyHairData, setMyHairData] = useState();\r\n  const [MetreeData, setMetreeData] = useState();\r\n  const [FoodkingData, setFoodkingData] = useState();\r\n  const [Rerender, setRerender] = useState(false);\r\n  const [SearchDate, setSearchDate] = useState([curDate,curDate]);\r\n\r\n  const [TotalPrice, setTotalPrice] = useState(0);\r\n  const [MeTotalPrice, setMeTotalPrice] = useState(0);\r\n  const [FdTotalPrice, setFdTotalPrice] = useState(0);\r\n  const [TypeTotalPrice, setTypeTotalPrice] = useState(0);\r\n\r\n  const [PersnalData, setPersnalData] = useState();\r\n  const [TotalPersnalData, setTotalPersnalData] = useState();\r\n  const [MePersonalData, setMePersonalData] = useState();\r\n  const [FdPersonalData, setFdPersonalData] = useState();\r\n\r\n  const [HairData, setHairData] = useState();\r\n\r\n  const [CheckInfoTxt, setCheckInfoTxt] = useState(null);\r\n  \r\n  const excelHeaders = [\r\n    {label: \"이용일\", key:\"date\"},\r\n    {label: \"작성일\", key:\"timestamp\"},\r\n    {label: \"소속\", key:\"sosok\"},\r\n    {label: \"부서\", key:\"part\"},\r\n    {label: \"이름\", key:\"name\"},\r\n    {label: \"이용자와의관계\", key:\"relation\"},\r\n    {label: \"서비스명\", key:\"service\"},\r\n    {label: \"가격\", key:\"price\"}\r\n  ]\r\n  const [excelData, setExcelData] = useState()\r\n  const [excelDataCopy, setExcelDataCopy] = useState()\r\n  useEffect(() => {\r\n    firebase.database().ref('hair/info')\r\n      .on('value', (snapshot) => {\r\n        setCheckInfoTxt(snapshot.val())        \r\n    });\r\n\r\n    let hairArr = [];\r\n    let totalPrice = 0;    \r\n    let meTotalPrice = 0;    \r\n    let fdTotalPrice = 0;    \r\n    let personalArr = [];\r\n    let startDate = SearchDate[0].full.substr(0,6);\r\n    let endDate = SearchDate[1].full.substr(0,6);\r\n    firebase\r\n    .database()\r\n    .ref(`hair/list`)\r\n    .once(\"value\", (snapshot) => {\r\n      snapshot.forEach(el=>{\r\n        let obj = el.val();\r\n        let personalObj = {};\r\n        let personalPrice = 0;\r\n        let dateArr = [];\r\n        let relArr = [];\r\n        let serArr = [];\r\n        let priceArr = [];\r\n        for (let key in obj) {\r\n          let name = obj[key].name;\r\n          let str = obj[key].date.full.toString().substr(0,6);\r\n          if(startDate <= str && str <= endDate){\r\n            personalPrice += parseInt(obj[key].price);\r\n            totalPrice += parseInt(obj[key].price);\r\n            if(obj[key].sosok === '1'){\r\n              meTotalPrice += parseInt(obj[key].price);\r\n            }\r\n            if(obj[key].sosok === '2'){\r\n              fdTotalPrice += parseInt(obj[key].price);\r\n            }\r\n            dateArr.push(obj[key].date)\r\n            dateArr.sort((a,b)=>{\r\n              return b.full - a.full\r\n            })\r\n            relArr.push(obj[key].relation)\r\n            serArr.push(obj[key].service)\r\n            priceArr.push(obj[key].price)\r\n            personalObj = {\r\n              date : dateArr,\r\n              name : name,\r\n              part : obj[key].part,\r\n              sosok : obj[key].sosok,\r\n              timestamp : obj[key].timestamp,\r\n              relation : relArr, \r\n              service : serArr, \r\n              price : priceArr, \r\n              total_price: personalPrice\r\n            }\r\n            hairArr.push(obj[key]);\r\n          }\r\n        }\r\n        personalArr.push(personalObj);\r\n        setPersnalData(personalArr);\r\n        setTotalPersnalData(personalArr);\r\n        let mePersnalArr = personalArr.concat().filter(el=>{\r\n          return el.sosok === '1';\r\n        });\r\n        let fdPersnalArr = personalArr.concat().filter(el=>{\r\n          return el.sosok === '2';\r\n        });\r\n        setMePersonalData(mePersnalArr);\r\n        setFdPersonalData(fdPersnalArr);        \r\n        setTotalPrice(totalPrice);\r\n        setTypeTotalPrice(totalPrice);\r\n        setMeTotalPrice(meTotalPrice);\r\n        setFdTotalPrice(fdTotalPrice);\r\n      })      \r\n      hairArr.sort((a,b)=>{\r\n        return b.date.full - a.date.full\r\n      })\r\n      setMyHairData(hairArr);\r\n      setHairData(hairArr);\r\n      let metreeArr = hairArr.concat().filter(el => {\r\n        return el.sosok === '1'\r\n      });\r\n      setMetreeData(metreeArr);\r\n      let foodkingArr = hairArr.concat().filter(el => {\r\n        return el.sosok === '2'\r\n      })\r\n      setFoodkingData(foodkingArr);\r\n\r\n      let excelArr = _.cloneDeep(hairArr).map(el => {\r\n        el.date = el.date.full_;\r\n        el.timestamp = getFormatDate(new Date(el.timestamp)).full_;\r\n        el.price = commaNumber(el.price);\r\n        el.sosok = el.sosok == 1 ? \"미트리\" : \"푸드킹\"\r\n        el.signature = \"\";\r\n        el.uid = \"\";\r\n        el.user_uid = \"\";\r\n        return el;\r\n      });\r\n       \r\n      setExcelData(excelArr)\r\n      setExcelDataCopy(excelArr)\r\n\r\n    });\r\n    return () => {\r\n      firebase.database().ref(`users/${userInfo.uid}`).off();\r\n      firebase.database().ref('hair/info').off();\r\n    }\r\n  }, [Rerender,SearchDate]);\r\n  \r\n\r\n  const onDelete = (uid,date,user_uid) => {\r\n    let curDate = getFormatDate(new Date());\r\n    let thisDate = getFormatDate(new Date(date));\r\n    let year = thisDate.year;\r\n    let month = thisDate.og_month;\r\n    let day = thisDate.og_day;\r\n    month++;\r\n    day = 15;\r\n    if(month === 12){\r\n      month = 0;\r\n      year++;\r\n    }\r\n    thisDate = getFormatDate(new Date(year,month,day));\r\n    if(curDate.full>thisDate.full){\r\n      window.alert('삭제는 작성일 기준 익월 15일까지 가능합니다.');\r\n      return;\r\n    }\r\n    let agree = window.confirm('삭제하면 복구가 불가능합니다. 삭제하시겠습니까?');\r\n    if(agree){\r\n      firebase.database().ref(`hair/list/${user_uid}/${uid}`).remove();\r\n      setRerender(!Rerender)\r\n    }\r\n  }\r\n\r\n  const [ModifyPop, setModifyPop] = useState(false);\r\n  const [ModifyData, setModifyData] = useState();\r\n  const onModify = (uid,date,user_uid) => {\r\n    firebase.database().ref(`hair/list/${user_uid}/${uid}`)\r\n    .once(\"value\", (snapshot => {\r\n      setModifyData(snapshot.val());\r\n      return;\r\n    }))\r\n    let curDate = getFormatDate(new Date());\r\n    let thisDate = getFormatDate(new Date(date));\r\n    let year = thisDate.year;\r\n    let month = thisDate.og_month;\r\n    let day = thisDate.og_day;\r\n    month++;\r\n    day = 15;\r\n    if(month === 12){\r\n      month = 0;\r\n      year++;\r\n    }\r\n    thisDate = getFormatDate(new Date(year,month,day));\r\n    if(curDate.full>thisDate.full){\r\n      window.alert('수정은 작성일 기준 익월 15일까지 가능합니다.');\r\n      return;\r\n    }\r\n    setModifyPop(true)\r\n  }\r\n  const modifyOff = () => {\r\n    setModifyData('');\r\n    setModifyPop(false)\r\n  }\r\n\r\n  const onSubmitModify = (e) => {\r\n    e.preventDefault();\r\n    let date = e.target.date.value;\r\n    let year = date.substr(0,4);\r\n    let month = date.substr(5,2);\r\n    month = parseInt(month) - 1;\r\n    let day = date.substr(8,2);\r\n    date = getFormatDate(new Date(year,month,day))\r\n    firebase\r\n    .database()\r\n    .ref(\"hair/list\")\r\n    .child(`${ModifyData.user_uid}/${ModifyData.uid}`)\r\n    .update({\r\n      date:date,\r\n      price: e.target.price.value,\r\n      relation: e.target.querySelector('.ant-select-selection-item').title,\r\n      service: e.target.service.value,\r\n    });\r\n    setRerender(!Rerender)\r\n    modifyOff()\r\n  }\r\n\r\n\r\n  const onSelectDate = (date, dateString) => {\r\n    let arr = [];\r\n    arr.push(getFormatDate(date[0]._d))\r\n    arr.push(getFormatDate(date[1]._d))\r\n    setSearchDate(arr)\r\n  }\r\n  const disabledDate = (current) => {\r\n    return current && current > moment();\r\n  }\r\n\r\n  const [sosokType, setsosokType] = useState('1')\r\n  const onSosokChange = (e) => {\r\n    let excelArr = excelDataCopy;\r\n    const type = e.target.value;\r\n    setsosokType(type);\r\n    if(type === '1'){      \r\n      setHairData(MyHairData);\r\n      setTypeTotalPrice(TotalPrice);\r\n      setPersnalData(TotalPersnalData);\r\n    }\r\n    if(type === '2'){\r\n      excelArr = excelArr.filter(el => el.sosok === '미트리');\r\n      setHairData(MetreeData);\r\n      setTypeTotalPrice(MeTotalPrice);\r\n      setPersnalData(MePersonalData);\r\n    }\r\n    if(type === '3'){\r\n      excelArr = excelArr.filter(el => el.sosok === '푸드킹');\r\n      setHairData(FoodkingData);\r\n      setTypeTotalPrice(FdTotalPrice);\r\n      setPersnalData(FdPersonalData);\r\n    }\r\n    setExcelData(excelArr);\r\n    \r\n\r\n\r\n  }\r\n  \r\n    const columns = [\r\n      {\r\n        title: '이용일',\r\n        dataIndex: 'date',\r\n        key: 'date',\r\n        align: 'center',\r\n        sorter: {\r\n          compare: (a, b) => a.date.full - b.date.full,\r\n          multiple: 3,\r\n        },\r\n        render: data => data ? data.full_ : '',\r\n      },\r\n      {\r\n        title: '작성일',\r\n        dataIndex: 'timestamp',\r\n        key: 'timestamp',\r\n        align: 'center',\r\n        sorter: {\r\n          compare: (a, b) => a.timestamp - b.timestamp,\r\n          multiple: 2,\r\n        },\r\n        render: data => data ? getFormatDate(new Date(data)).full_ : '',\r\n      },\r\n      {\r\n        title: '소속',\r\n        dataIndex: 'sosok',\r\n        key: 'sosok',\r\n        align: 'center',\r\n        sorter: {\r\n          compare: (a, b) => a.sosok - b.sosok,\r\n          multiple: 1,\r\n        },\r\n        render: data => {\r\n          let txt\r\n          if(data == 1){\r\n            txt = \"미트리\";\r\n          }\r\n          if(data == 2){\r\n            txt = \"푸드킹\";\r\n          }\r\n          if(data == 3){\r\n            txt = \"계약직\";\r\n          }\r\n          return txt\r\n        }\r\n      },\r\n      {\r\n        title: '부서',\r\n        dataIndex: 'part',\r\n        key: 'part',\r\n        align: 'center',\r\n      },\r\n      {\r\n        title: '이름',\r\n        dataIndex: 'name',\r\n        key: 'name',\r\n        align: 'center',\r\n      },\r\n      {\r\n        title: '이용자와의 관계',\r\n        dataIndex: 'relation',\r\n        key: 'relation',\r\n        align: 'center',\r\n      },\r\n      {\r\n        title: '서비스명',\r\n        dataIndex: 'service',\r\n        key: 'service',\r\n        align: 'center'\r\n      },\r\n      {\r\n        title: '가격',\r\n        dataIndex: 'price',\r\n        key: 'price',\r\n        align: 'center',\r\n        render: data => data ? `${commaNumber(data)}원` : ''\r\n      },\r\n      {\r\n        title: '서명',\r\n        dataIndex: 'signature',\r\n        key: 'signature',\r\n        align: 'center',\r\n        render: data => data ? <img style={{height:\"40px\"}} src={data} /> : '',\r\n      },\r\n      {\r\n        title: '관리',\r\n        dataIndex: ['uid','timestamp','user_uid'],\r\n        key: 'uid',\r\n        align: 'center',\r\n        render: (text,row) => row['uid'] ? (\r\n          <>\r\n            <Button style={{marginRight:\"5px\"}} onClick={()=>{onModify(row['uid'],row['timestamp'],row['user_uid'])}}>수정</Button>\r\n            <Button onClick={()=>{onDelete(row['uid'],row['timestamp'],row['user_uid'])}}>삭제</Button>\r\n          </>\r\n          ) : '',\r\n      }\r\n      \r\n    ]\r\n\r\n   \r\n    const onSubmit = async (e) => {\r\n      e.preventDefault();\r\n      try {\r\n        firebase.database().ref('hair')\r\n        .update({\r\n          info:e.target.check_info_txt.value\r\n        })\r\n  \r\n      }catch (error) {\r\n        console.error(error);\r\n      }\r\n    }\r\n\r\n    \r\n    \r\n  return (\r\n    <>\r\n      <form onSubmit={onSubmit}>\r\n      <h3 className=\"title\" style={{ margin: \"15px 0 5px 0\" }}>\r\n        공지사항\r\n      </h3>\r\n      <div className=\"flex-box\">\r\n        {CheckInfoTxt &&\r\n          <TextArea name=\"check_info_txt\" defaultValue={CheckInfoTxt} />  \r\n        }\r\n        {!CheckInfoTxt &&\r\n          <TextArea name=\"check_info_txt\" defaultValue=\"\" /> \r\n        }\r\n        <Button\r\n          htmlType=\"submit\"\r\n          type=\"primary\"\r\n          size=\"large\" \r\n          style={{flex:\"1\",marginLeft:\"10px\",height:\"auto\"}}               \r\n        >\r\n          저장\r\n        </Button>\r\n      </div>\r\n      </form>\r\n      \r\n      <RangePicker \r\n        picker=\"month\" \r\n        style={{marginTop:\"20px\"}}\r\n        defaultValue={[moment(),moment()]}\r\n        disabledDate={disabledDate} onChange={onSelectDate}\r\n      />\r\n      <Radio.Group value={sosokType} onChange={onSosokChange} style={{ marginBottom: 16,marginLeft:\"10px\" }}>\r\n        <Radio.Button value=\"1\">전체</Radio.Button>\r\n        <Radio.Button value=\"2\">미트리</Radio.Button>\r\n        <Radio.Button value=\"3\">푸드킹</Radio.Button>\r\n      </Radio.Group>\r\n      <h3 className=\"title\">개인별 합계</h3>\r\n      {PersnalData &&\r\n        <table className=\"fl-table\" style={{marginBottom:\"20px\",width:\"25%\"}}>\r\n          <thead>\r\n            <tr style={{borderBottom:'1px solid #ddd',borderTop:'2px solid #555'}}>\r\n              <th scope=\"col\">이름</th>\r\n              <th scope=\"col\">합계</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n          {PersnalData && PersnalData.map((el) => (\r\n            <>\r\n              {el.date && el.date.map((list,_idx) => (\r\n                <>                      \r\n                  <tr key={_idx} style={{borderBottom:'1px solid #ddd'}}>\r\n                    {_idx == 0 &&\r\n                    <th scope=\"row\" rowSpan={el.date.length} style={{background:'#f1f1f1'}}>\r\n                      {el.name}\r\n                    </th>\r\n                    }\r\n                    {_idx == 0 &&\r\n                    <>\r\n                      <th scope=\"row\" rowSpan={el.date.length}>\r\n                        {commaNumber(el.total_price)}\r\n                      </th>\r\n                    </>\r\n                    }\r\n                  </tr>\r\n                </>\r\n              ))}     \r\n            </>\r\n          ))\r\n          }\r\n          </tbody>\r\n        </table>\r\n      }\r\n\r\n      <h3 className=\"title\">개인별 내역</h3>\r\n      {PersnalData &&\r\n        <table className=\"fl-table\" style={{marginBottom:\"20px\"}}>\r\n          <thead>\r\n            <tr style={{borderBottom:'1px solid #ddd',borderTop:'2px solid #555'}}>\r\n              <th scope=\"col\">이름(소속/부서)</th>\r\n              <th scope=\"col\">이용일</th>\r\n              <th scope=\"col\">관계</th>\r\n              <th scope=\"col\">서비스</th>\r\n              <th scope=\"col\">가격</th>\r\n              <th scope=\"col\">총 이용횟수</th>\r\n              <th scope=\"col\">합계</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n          {PersnalData && PersnalData.map((el) => (\r\n            <>\r\n              {el.date && el.date.map((list,_idx) => (\r\n                <>                      \r\n                  <tr key={_idx} style={{borderBottom:'1px solid #ddd'}}>\r\n                    {_idx == 0 &&\r\n                    <th scope=\"row\" rowSpan={el.date.length} style={{background:'#f1f1f1'}}>\r\n                      {el.name}/\r\n                      {el.sosok === '1' ? \"미트리\" :\r\n                       el.sosok === '2' ? \"푸드킹\" : \"\" \r\n                      }/\r\n                      {el.part}\r\n                    </th>\r\n                    }\r\n                    <td>{list.full_}</td>\r\n                    <td>{el.relation[_idx]}</td>\r\n                    <td> {el.service[_idx]}</td>\r\n                    <td>{commaNumber(el.price[_idx])}</td>\r\n                    {_idx == 0 &&\r\n                    <>\r\n                      <td rowSpan={el.date.length}>{el.date.length}회</td>\r\n                      <th scope=\"row\" rowSpan={el.date.length}>\r\n                        {commaNumber(el.total_price)}\r\n                      </th>\r\n                    </>\r\n                    }\r\n                  </tr>\r\n                </>\r\n              ))}     \r\n            </>\r\n          ))\r\n          }\r\n          </tbody>\r\n        </table>\r\n      }\r\n      <div className=\"flex-box\" style={{marginBottom:\"8px\",marginTop:\"25px\"}}>\r\n      <h3 className=\"title\">전체 내역</h3>      \r\n      {excelData &&\r\n        <Button style={{marginLeft:\"10px\"}}>\r\n          <CSVLink \r\n            headers={excelHeaders} \r\n            data={excelData} \r\n            filename={`metree-hair${curDate.full}.csv`} \r\n            target=\"_blank\"\r\n          >\r\n            <antIcon.AiOutlineFileExcel style={{position:\"relative\",top:\"3px\",fontSize:\"17px\",marginRight:\"3px\"}} />전체내역 엑셀 다운로드\r\n          </CSVLink>\r\n        </Button>\r\n        }\r\n      </div>\r\n      {MyHairData &&\r\n        <>          \r\n          <Table \r\n          size=\"small\"\r\n          pagination={{\r\n            pageSize:20\r\n          }}\r\n          align=\"center\" columns={columns} dataSource={HairData} \r\n          footer={() => (\r\n            <>\r\n              <div style={{textAlign:\"center\",fontWeight:\"600\"}}>가격 합계 : {commaNumber(TypeTotalPrice)}원</div>\r\n            </>\r\n          )}\r\n          /> \r\n\r\n        </>\r\n      }\r\n      {\r\n        ModifyPop && ModifyData &&\r\n        <>\r\n          <OderModalPopup className=\"call_modify\" style={{\r\n            top:\"50%\",\r\n            left:\"50%\",\r\n            transform:\"translate(-50%,-50%)\",\r\n            position:\"fixed\",\r\n          }}>\r\n            <form className=\"order-form-box\" onSubmit={onSubmitModify}>\r\n              <div className=\"input-box\" style={{marginBottom:\"5px\"}}>\r\n                <span className=\"tit\">이용날짜</span>\r\n                <DatePicker name=\"date\" defaultValue={moment(ModifyData.date.full_)} />\r\n              </div>\r\n              <div className=\"input-box\" style={{marginBottom:\"5px\"}}>\r\n                <span className=\"tit\">관계</span>\r\n                <Select name=\"relation\" defaultValue={ModifyData.relation} style={{ width: 120 }}>\r\n                  <Option value=\"본인\">본인</Option>\r\n                  <Option value=\"배우자\">배우자</Option>\r\n                  <Option value=\"자녀\">자녀</Option>\r\n                </Select>\r\n              </div>\r\n              <div className=\"input-box\" style={{marginBottom:\"5px\"}}>\r\n                <span className=\"tit\">서비스명</span>\r\n                <Input name=\"service\" defaultValue={ModifyData.service} />\r\n              </div>\r\n              <div className=\"input-box\" style={{marginBottom:\"5px\"}}>\r\n                <span className=\"tit\">가격</span>\r\n                <Input prefix=\"￦\" type=\"number\" name=\"price\" defaultValue={ModifyData.price} />\r\n              </div>\r\n              <div className=\"btn-box\">\r\n                <Button type=\"primary\" htmlType=\"submit\">수정하기</Button>\r\n                <Button onClick={modifyOff} style={{marginLeft:\"5px\"}}>닫기</Button>\r\n              </div>\r\n            </form>\r\n          </OderModalPopup>\r\n        </>\r\n      }\r\n\r\n\r\n    </>\r\n  )\r\n}\r\n\r\nexport default HairAdmin\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Button, Input } from \"antd\";\r\nimport firebase from \"../../firebase\";\r\n\r\nfunction AdminProdCount() {\r\n  const [ProdItem, setProdItem] = useState();\r\n  useEffect(() => {\r\n    firebase\r\n        .database()\r\n        .ref(\"products\")\r\n        .on(\"value\", snapshot => {\r\n          let array = [];\r\n          snapshot.forEach(function (item) {\r\n            array.push({\r\n              key:item.key,\r\n              uid: item.key,\r\n              name: item.val().name,\r\n              count: item.val().count,\r\n              category: item.val().category,\r\n              jaego: item.val().jaego ? item.val().jaego :\r\n                     item.val().jaego  === 0 ? 0 : \"\",\r\n              soldout: item.val().soldout,\r\n            });\r\n          });\r\n          setProdItem(array);\r\n        });\r\n    return () => {\r\n    }\r\n  }, [])\r\n\r\n  const onProdJaego = (uid) => {\r\n    const val = parseInt(document.querySelector(`#input_${uid}`).value);\r\n    firebase.database().ref(`products/${uid}`)\r\n    .update({\r\n      jaego:val\r\n    })\r\n    console.log(uid)\r\n  }\r\n  return (\r\n    <>\r\n      {ProdItem &&\r\n        <>\r\n        <table className=\"fl-table\" style={{maxWidth:\"450px\"}}>\r\n          <thead>\r\n            <th scope=\"col\">상품명</th>\r\n            <th scope=\"col\">현재재고</th>\r\n            <th scope=\"col\">재고수정</th>\r\n          </thead>\r\n          <tbody>\r\n          {ProdItem.map((el,idx) => (\r\n            <tr>\r\n              <td>{el.name}</td>\r\n              <td>{el.jaego}</td>\r\n              <td>\r\n                <Input id={`input_${el.key}`} type=\"number\" maxLength=\"3\" style={{width:\"50px\"}} />\r\n                <Button onClick={()=>{onProdJaego(el.key)}} style={{marginLeft:\"5px\"}}>적용하기</Button>\r\n              </td>\r\n            </tr>\r\n          ))}\r\n          </tbody>\r\n        </table>\r\n        </>\r\n      }\r\n    </>\r\n  )\r\n}\r\n\r\nexport default AdminProdCount\r\n","import React, { useState, useRef, useEffect } from 'react'\r\nimport { Link } from \"react-router-dom\";\r\nimport { Form, Input, Button, Space, Radio, Checkbox, Upload, Switch, DatePicker, Select, Row, Col } from 'antd';\r\nimport { MinusCircleOutlined, PlusOutlined, UploadOutlined } from '@ant-design/icons';\r\nimport uuid from \"react-uuid\";\r\nimport firebase from \"../../firebase\";\r\nimport { getFormatDate } from \"../CommonFunc\";\r\nimport moment from 'moment';\r\nconst { RangePicker } = DatePicker;\r\nfunction ResearchModify(props) {\r\n\r\n  const [TotalUser, setTotalUser] = useState()\r\n  const [ResearchViewInfo, setResearchViewInfo] = useState();\r\n  const [onMember, setOnMember] = useState(false)  \r\n  const [TypeState, setTypeState] = useState()\r\n  useEffect(() => {\r\n    let userArr = [];\r\n    firebase\r\n    .database()\r\n    .ref(\"users\")\r\n    .once(\"value\", (snapshot) => {\r\n      snapshot.forEach(el=>{\r\n        userArr.push({\r\n          uid:el.key,\r\n          auth:el.val().auth ? el.val().auth : \"\",\r\n          name:el.val().name,\r\n          part:el.val().part,\r\n          role:el.val().role\r\n        })\r\n      })\r\n      userArr.sort((a,b)=>{\r\n        return a.part < b.part ? -1 : 1 \r\n      })\r\n      setTotalUser(userArr);\r\n    });\r\n    firebase.database().ref(`research/${props.location.state.uid}`)\r\n    .once(\"value\", snapshot => {\r\n      let res = snapshot.val();\r\n      if(snapshot.val() && snapshot.val().image){\r\n        let uploadArr = [];\r\n        snapshot.val().image.map((el,idx)=>{\r\n          uploadArr.push({\r\n            uid:idx,\r\n            name:el.name,\r\n            status:'done',\r\n            url:el.url\r\n          })\r\n        })\r\n        res.upload = uploadArr\r\n      }      \r\n      setOnMember(res.member)\r\n      setTypeState(res.type)\r\n      setResearchViewInfo(res)\r\n    })\r\n\r\n    return () => {      \r\n    }\r\n  }, [])\r\n\r\n  const btnToList = useRef();\r\n\r\n  const uid = props.location.state.uid;\r\n\r\n  const disabledDate = (current) => {\r\n    return current && current < moment().subtract(1, 'days');\r\n  }\r\n\r\n  const [DateLimitState, setDateLimitState] = useState(false)\r\n  const dateLimit = () => {\r\n    setDateLimitState(!DateLimitState)\r\n  }  \r\n\r\n  let newUid = uuid();\r\n  const finishDataSave = (values) => {\r\n    \r\n    let uploadURL = values.upload ? values.upload : [];   \r\n    const getImgUrl = async () => {\r\n    values.upload && values.upload.map(el=>{\r\n    if(el.originFileObj){\r\n      let getImg = async () => {\r\n      let uploadTask = await firebase\r\n          .storage()\r\n          .ref(\"research\")\r\n          .child(`image/${uid}/${newUid}`)          \r\n          .put(el.originFileObj, el.type);\r\n            uploadTask.ref.getDownloadURL()\r\n            .then(url => {\r\n              uploadURL.push({                \r\n                name:el.originFileObj.name,\r\n                url:url\r\n              });\r\n              firebase.database().ref('research')\r\n              .child(uid)\r\n              .update({\r\n                image: uploadURL\r\n              });                       \r\n            });\r\n          }\r\n        getImg();\r\n      }else{\r\n        uploadURL = \"\"\r\n        firebase.database().ref('research')\r\n        .child(uid)\r\n        .update({\r\n          image: uploadURL\r\n        }); \r\n      }\r\n      })\r\n    }\r\n    getImgUrl(); \r\n      firebase.database().ref('research')\r\n      .child(uid)\r\n      .update({\r\n        title:values.title,\r\n        type:values.type,\r\n        option:values.option_list ? values.option_list : '',\r\n        member:values.member ? values.member : false,\r\n        member_check:values.member_check ? values.member_check : '',\r\n        etc:values.etc ? values.etc : '',\r\n        uid:uid,\r\n        alba:values.alba ? values.alba : false,\r\n        intern:values.intern ? values.intern : false,\r\n        secret:values.secret ? values.secret : false,\r\n        date:getFormatDate(new Date()).full_,\r\n        timestamp:new Date().getTime(),\r\n        limit_start:values.time_limit ? values.time_limit[0]._d.getTime() : 0,\r\n        limit_end:values.time_limit ? values.time_limit[1]._d.getTime() : 99999999999999,\r\n      });\r\n    }      \r\n\r\n \r\n  \r\n  const onFinish = async (values) => {\r\n    if(values.type != 2){\r\n      let listLength = values.option_list.length;\r\n      let count = 0;\r\n      const ref = firebase.storage().ref(`research/image/${uid}`);\r\n      ref.listAll()\r\n      .then(dir => {\r\n        const images = dir._delegate.items;\r\n        images.map(el=>{\r\n            let path = el._location.path_;\r\n            firebase.storage().ref(`${path}`).delete()\r\n            .then(()=>{\r\n            }).catch(error=>console.error(error))\r\n          })\r\n        })\r\n      let urlArr = [];\r\n      values.option_list && values.option_list.map(el=>{\r\n        el.option_photo = el.option_photo ? el.option_photo : \"\";\r\n        el.option_a = el.option_a ? el.option_a : \"\";\r\n        el.option_type = el.option_type ? el.option_type : \"\";\r\n        count++;    \r\n        const getOptionImgUrl = (photo) => {\r\n            if(!photo){\r\n              if(count == listLength){\r\n                finishDataSave(values);\r\n                btnToList.current && btnToList.current.click();\r\n              }\r\n            }else{\r\n            photo.map((list,idx)=>{\r\n              if(list.originFileObj){\r\n                let getImg = async () => {\r\n                let uploadTask = await firebase\r\n                .storage()\r\n                .ref(\"research\")\r\n                .child(`image/${uid}/${uuid()}`)          \r\n                .put(list.originFileObj, list.type);\r\n                  uploadTask.ref.getDownloadURL()\r\n                  .then(url => {\r\n                    urlArr.push({\r\n                      uid:idx,\r\n                      status:\"done\",\r\n                      name:list.originFileObj.name,\r\n                      url:url\r\n                    });\r\n                    firebase.database().ref('research')\r\n                    .child(`${uid}/option/${idx}`)\r\n                    .update({\r\n                      option_photo: urlArr\r\n                    });                \r\n                    el.option_photo = urlArr ? urlArr : '';                \r\n                    if(count == listLength){\r\n                      finishDataSave(values);\r\n                      btnToList.current && btnToList.current.click();\r\n                    }\r\n                  });\r\n                }\r\n                getImg();              \r\n              }else{\r\n                finishDataSave(values);\r\n                btnToList.current && btnToList.current.click();\r\n              }\r\n              })\r\n            }          \r\n          }\r\n        getOptionImgUrl(el.option_photo);\r\n        el.option_photo = el.option_photo ? el.option_photo : '';\r\n      })\r\n    }else{\r\n      finishDataSave(values);\r\n      btnToList.current && btnToList.current.click();\r\n    }\r\n      \r\n  };\r\n\r\n\r\n\r\n\r\n  const typeOptions = [\r\n    {label: '선다형', value: 1},\r\n    {label: '서술형', value: 2},\r\n    {label: '복합형', value: 3}\r\n  ]\r\n  const onChangeType = (e) => {\r\n    setTypeState(e.target.value)\r\n  }\r\n\r\n  const normFile = (e) => {\r\n    console.log(e)\r\n    if (Array.isArray(e)) {\r\n      return e;\r\n    }\r\n    return e && e.fileList;\r\n  };\r\n\r\n  const onSelectChange = (e) => {\r\n    console.log(e)\r\n  }\r\n\r\n\r\n\r\n  const onMemberChange = (e) => {\r\n    setOnMember(!onMember)\r\n  }\r\n\r\n\r\n  return (\r\n    <>     \r\n      {ResearchViewInfo &&\r\n      <Form name=\"dynamic_form_nest_item\" className=\"research-form\" onFinish={onFinish} autoComplete=\"off\"\r\n        initialValues={{\r\n          title:ResearchViewInfo.title,\r\n          type:ResearchViewInfo.type,\r\n          upload:ResearchViewInfo.upload,\r\n          alba:ResearchViewInfo.alba,\r\n          intern:ResearchViewInfo.intern,\r\n          secret:ResearchViewInfo.secret,\r\n          member:ResearchViewInfo.member,\r\n          member_check:ResearchViewInfo.member_check,\r\n          option_list:ResearchViewInfo.option,\r\n          etc:ResearchViewInfo.etc,\r\n        }}\r\n      >\r\n        <Form.Item\r\n          name=\"title\"\r\n          rules={[{ required: true, message: '제목을 입력해 주세요.'}]}\r\n        >\r\n          <Input placeholder=\"제목\" />\r\n        </Form.Item> \r\n        <Form.Item \r\n          name=\"type\"\r\n          label=\"유형 선택\"\r\n          rules={[{ required: true, message: '타입을 선택해 주세요.'}]}\r\n        >\r\n          <Radio.Group\r\n            options={typeOptions}\r\n            onChange={onChangeType}\r\n            value={TypeState}\r\n            optionType=\"button\"\r\n          />\r\n        </Form.Item>\r\n        {TypeState && TypeState == 1 &&\r\n          <Form.List name=\"option_list\">\r\n            {(fields, { add, remove }) => (\r\n              <>\r\n                {fields.map(({ key, name, fieldKey, ...restField }) => (\r\n                  <Space key={key} style={{ display: 'flex', marginBottom: 5 }} align=\"baseline\">\r\n                    <Form.Item\r\n                      {...restField}\r\n                      name={[name, 'option']}\r\n                      fieldKey={[fieldKey, 'option']}\r\n                      rules={[{ required: true, message: '항목을 입력해 주세요.' }]}\r\n                    >\r\n                      <Input placeholder=\"항목\" />\r\n                    </Form.Item>                  \r\n                    <MinusCircleOutlined onClick={() => remove(name)} />\r\n                  </Space>\r\n                ))}\r\n                <Form.Item>\r\n                  <Button type=\"dashed\" onClick={() => add()} block icon={<PlusOutlined />}>\r\n                    Add field\r\n                  </Button>\r\n                </Form.Item>\r\n              </>\r\n            )}\r\n          </Form.List>\r\n        }\r\n        {TypeState && TypeState == 3 &&\r\n          <Form.List name=\"option_list\">\r\n            {(fields, { add, remove }) => (\r\n              <>\r\n                {fields.map(({ key, name, fieldKey, ...restField }) => (\r\n                  <Space key={key} style={{ display: 'flex', marginBottom: 5 }} align=\"baseline\">\r\n                    <Form.Item\r\n                      {...restField}\r\n                      name={[name, 'option_q']}\r\n                      fieldKey={[fieldKey, 'option_q']}\r\n                      rules={[{ required: true, message: '질문을 입력해 주세요.' }]}\r\n                    >\r\n                      <Input placeholder=\"질문\" />\r\n                    </Form.Item>     \r\n                    <Form.Item \r\n                      label=\"유형선택\"\r\n                      {...restField}\r\n                      name={[name, 'option_type']}\r\n                      fieldKey={[fieldKey, 'option_type']}\r\n                    >\r\n                      <Select defaultValue=\"0\" onChange={onSelectChange}>\r\n                        <Select.Option value=\"0\">서술형</Select.Option>\r\n                        <Select.Option value=\"1\">체크형</Select.Option>\r\n                        <Select.Option value=\"2\">선택형</Select.Option>\r\n                      </Select>\r\n                    </Form.Item> \r\n                    <Form.Item\r\n                      {...restField}\r\n                      name={[name, 'option_a']}\r\n                      fieldKey={[fieldKey, 'option_a']}\r\n                    >\r\n                      <Input placeholder=\"항목이 있을때만 ,로 구분 하여 작성\" />\r\n                    </Form.Item> \r\n                    <Form.Item\r\n                      {...restField}\r\n                      name={[name, 'option_photo']}\r\n                      label=\"이미지 업로드\"\r\n                      fieldKey={[fieldKey, 'option_photo']}\r\n                      getValueFromEvent={normFile}                      \r\n                    >\r\n                      <Upload name=\"option_upload\" listType=\"picture\">\r\n                        <Button icon={<UploadOutlined />}>Click to upload</Button>\r\n                      </Upload>\r\n                    </Form.Item>\r\n                    <MinusCircleOutlined onClick={() => remove(name)} />\r\n                  </Space>\r\n                ))}\r\n                <Form.Item>\r\n                  <Button type=\"dashed\" onClick={() => add()} block icon={<PlusOutlined />}>\r\n                    Add field\r\n                  </Button>\r\n                </Form.Item>\r\n              </>\r\n            )}\r\n          </Form.List>\r\n        }        \r\n        <Form.Item\r\n          name=\"upload\"\r\n          label=\"이미지 업로드\"\r\n          valuePropName=\"fileList\"\r\n          getValueFromEvent={normFile}\r\n        >\r\n          <Upload name=\"logo\" listType=\"picture\">\r\n            <Button icon={<UploadOutlined />}>Click to upload</Button>\r\n          </Upload>\r\n        </Form.Item>\r\n        <div className=\"flex-box\">\r\n          <Form.Item\r\n            name=\"alba\"\r\n            valuePropName=\"checked\"\r\n            style={{marginRight:\"13px\"}}\r\n          >\r\n            <Checkbox>알바 제외</Checkbox>\r\n          </Form.Item> \r\n          <Form.Item\r\n            name=\"intern\"\r\n            valuePropName=\"checked\"\r\n            style={{marginRight:\"13px\"}}\r\n          >\r\n            <Checkbox>인턴 제외</Checkbox>\r\n          </Form.Item> \r\n          <Form.Item\r\n            name=\"secret\"\r\n            valuePropName=\"checked\"            \r\n            style={{marginRight:\"13px\"}}\r\n          >\r\n            <Checkbox>결과 비공개</Checkbox>\r\n          </Form.Item>\r\n          <Form.Item\r\n            name=\"member\"\r\n            valuePropName=\"checked\"\r\n            onChange={onMemberChange}\r\n          >\r\n            <Checkbox>제외 선택</Checkbox>\r\n          </Form.Item> \r\n        </div>\r\n        {onMember &&\r\n          <>\r\n            <Form.Item name=\"member_check\">\r\n              <Checkbox.Group>\r\n                <Row>                \r\n                {TotalUser && TotalUser.map((el,idx)=>(\r\n                  <Col span={4}>\r\n                    <Checkbox key={idx} value={el.uid}>{el.name}({el.part})</Checkbox>\r\n                  </Col>\r\n                ))}\r\n                </Row>\r\n              </Checkbox.Group>\r\n            </Form.Item>\r\n          </>\r\n        }\r\n        <Form.Item\r\n          name=\"etc\"          \r\n          rules={[{ required: true}]}\r\n        >\r\n          <Input.TextArea placeholder=\"설명\" />\r\n        </Form.Item>  \r\n        <Form.Item\r\n          label=\"날짜설정\" style={{marginBottom:\"7px\"}}\r\n        >\r\n          <Switch onChange={dateLimit} />\r\n        </Form.Item>\r\n        {DateLimitState &&\r\n          <Form.Item\r\n            name=\"time_limit\"\r\n          >\r\n            <RangePicker  \r\n              showTime \r\n              disabledDate={disabledDate} \r\n            />\r\n          </Form.Item>\r\n        }\r\n\r\n        <div className=\"flex-box j-center\" style={{marginTop:\"15px\"}}>\r\n          <Button type=\"primary\" htmlType=\"submit\" style={{width:\"100px\"}}>\r\n            수정하기\r\n          </Button>\r\n          <Button style={{marginLeft:\"5px\"}}>\r\n            <Link ref={btnToList} to=\"/research\">목록으로</Link>\r\n          </Button>\r\n        </div>    \r\n      </Form>\r\n      }\r\n    </>\r\n  )\r\n}\r\n\r\nexport default ResearchModify\r\n","import React, { useState, useRef, useEffect } from 'react'\r\nimport { useSelector } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Form, Input, Button, Space, Radio, Checkbox, Upload, Switch, DatePicker, Select, Row, Col } from 'antd';\r\nimport { MinusCircleOutlined, PlusOutlined, UploadOutlined } from '@ant-design/icons';\r\nimport uuid from \"react-uuid\";\r\nimport firebase from \"../../firebase\";\r\nimport { getFormatDate } from \"../CommonFunc\";\r\nimport moment from 'moment';\r\nconst { RangePicker } = DatePicker;\r\nfunction ResearchTemp(props) {\r\n  const userInfo = useSelector((state) => state.user.currentUser);\r\n\r\n  const [TotalUser, setTotalUser] = useState()\r\n  const [ResearchViewInfo, setResearchViewInfo] = useState();\r\n  const [onMember, setOnMember] = useState(false)  \r\n  const [TypeState, setTypeState] = useState()\r\n  useEffect(() => {\r\n    let userArr = [];\r\n    firebase\r\n    .database()\r\n    .ref(\"users\")\r\n    .once(\"value\", (snapshot) => {\r\n      snapshot.forEach(el=>{\r\n        userArr.push({\r\n          uid:el.key,\r\n          auth:el.val().auth ? el.val().auth : \"\",\r\n          name:el.val().name,\r\n          part:el.val().part,\r\n          role:el.val().role\r\n        })\r\n      })\r\n      userArr.sort((a,b)=>{\r\n        return a.part < b.part ? -1 : 1 \r\n      })\r\n      setTotalUser(userArr);\r\n    });\r\n    firebase.database().ref(`research_temp/${userInfo.uid}/${props.location.state.uid}`)\r\n    .once(\"value\", snapshot => {\r\n      let res = snapshot.val();\r\n      if(snapshot.val() && snapshot.val().image){\r\n        let uploadArr = [];\r\n        snapshot.val().image.map((el,idx)=>{\r\n          uploadArr.push({\r\n            uid:idx,\r\n            name:el.name,\r\n            status:'done',\r\n            url:el.url\r\n          })\r\n        })\r\n        res.upload = uploadArr\r\n      }      \r\n      setOnMember(res.member)\r\n      setTypeState(res.type)\r\n      setResearchViewInfo(res)\r\n    })\r\n\r\n    return () => {      \r\n    }\r\n  }, [])\r\n\r\n  const btnToList = useRef();\r\n\r\n  const uid = uuid();\r\n\r\n  const disabledDate = (current) => {\r\n    return current && current < moment().subtract(1, 'days');\r\n  }\r\n\r\n  const [DateLimitState, setDateLimitState] = useState(false)\r\n  const dateLimit = () => {\r\n    setDateLimitState(!DateLimitState)\r\n  }  \r\n\r\n  let newUid = uuid();\r\n  const finishDataSave = (values) => {\r\n    \r\n    let uploadURL = values.upload ? values.upload : [];   \r\n    const getImgUrl = async () => {\r\n    values.upload && values.upload.map(el=>{\r\n    if(el.originFileObj){\r\n      let getImg = async () => {\r\n      let uploadTask = await firebase\r\n          .storage()\r\n          .ref(\"research\")\r\n          .child(`image/${uid}/${newUid}`)          \r\n          .put(el.originFileObj, el.type);\r\n            uploadTask.ref.getDownloadURL()\r\n            .then(url => {\r\n              uploadURL.push({                \r\n                name:el.originFileObj.name,\r\n                url:url\r\n              });\r\n              firebase.database().ref('research')\r\n              .child(uid)\r\n              .update({\r\n                image: uploadURL\r\n              });                       \r\n            });\r\n          }\r\n        getImg();\r\n      }else{\r\n        uploadURL = \"\"\r\n        firebase.database().ref('research')\r\n        .child(uid)\r\n        .update({\r\n          image: uploadURL\r\n        }); \r\n      }\r\n      })\r\n    }\r\n    getImgUrl(); \r\n      firebase.database().ref('research')\r\n      .child(uid)\r\n      .update({\r\n        title:values.title,\r\n        type:values.type,\r\n        option:values.option_list ? values.option_list : '',\r\n        member:values.member ? values.member : false,\r\n        member_check:values.member_check ? values.member_check : '',\r\n        etc:values.etc ? values.etc : '',\r\n        uid:uid,\r\n        alba:values.alba ? values.alba : false,\r\n        intern:values.intern ? values.intern : false,\r\n        secret:values.secret ? values.secret : false,\r\n        date:getFormatDate(new Date()).full_,\r\n        timestamp:new Date().getTime(),\r\n        limit_start:values.time_limit ? values.time_limit[0]._d.getTime() : 0,\r\n        limit_end:values.time_limit ? values.time_limit[1]._d.getTime() : 99999999999999,\r\n      });\r\n    }      \r\n\r\n \r\n  \r\n  const onFinish = async (values) => {\r\n    if(values.type != 2){\r\n      let listLength = values.option_list.length;\r\n      let count = 0;\r\n      const ref = firebase.storage().ref(`research/image/${uid}`);\r\n      ref.listAll()\r\n      .then(dir => {\r\n        const images = dir._delegate.items;\r\n        images.map(el=>{\r\n            let path = el._location.path_;\r\n            firebase.storage().ref(`${path}`).delete()\r\n            .then(()=>{\r\n            }).catch(error=>console.error(error))\r\n          })\r\n        })\r\n      let urlArr = [];\r\n      values.option_list && values.option_list.map(el=>{\r\n        el.option_photo = el.option_photo ? el.option_photo : \"\";\r\n        el.option_a = el.option_a ? el.option_a : \"\";\r\n        el.option_type = el.option_type ? el.option_type : \"\";\r\n        count++;    \r\n        const getOptionImgUrl = (photo) => {\r\n            if(!photo){\r\n              if(count == listLength){\r\n                finishDataSave(values);\r\n                btnToList.current && btnToList.current.click();\r\n              }\r\n            }else{\r\n            photo.map((list,idx)=>{\r\n              if(list.originFileObj){\r\n                let getImg = async () => {\r\n                let uploadTask = await firebase\r\n                .storage()\r\n                .ref(\"research\")\r\n                .child(`image/${uid}/${uuid()}`)          \r\n                .put(list.originFileObj, list.type);\r\n                  uploadTask.ref.getDownloadURL()\r\n                  .then(url => {\r\n                    urlArr.push({\r\n                      uid:idx,\r\n                      status:\"done\",\r\n                      name:list.originFileObj.name,\r\n                      url:url\r\n                    });\r\n                    firebase.database().ref('research')\r\n                    .child(`${uid}/option/${idx}`)\r\n                    .update({\r\n                      option_photo: urlArr\r\n                    });                \r\n                    el.option_photo = urlArr ? urlArr : '';                \r\n                    if(count == listLength){\r\n                      finishDataSave(values);\r\n                      btnToList.current && btnToList.current.click();\r\n                    }\r\n                  });\r\n                }\r\n                getImg();              \r\n              }else{\r\n                finishDataSave(values);\r\n                btnToList.current && btnToList.current.click();\r\n              }\r\n              })\r\n            }          \r\n          }\r\n        getOptionImgUrl(el.option_photo);\r\n        el.option_photo = el.option_photo ? el.option_photo : '';\r\n      })\r\n    }else{\r\n      finishDataSave(values);\r\n      btnToList.current && btnToList.current.click();\r\n    }\r\n      \r\n  };\r\n\r\n\r\n\r\n\r\n  const typeOptions = [\r\n    {label: '선다형', value: 1},\r\n    {label: '서술형', value: 2},\r\n    {label: '복합형', value: 3}\r\n  ]\r\n  const onChangeType = (e) => {\r\n    setTypeState(e.target.value)\r\n  }\r\n\r\n  const normFile = (e) => {\r\n    console.log(e)\r\n    if (Array.isArray(e)) {\r\n      return e;\r\n    }\r\n    return e && e.fileList;\r\n  };\r\n\r\n  const onSelectChange = (e) => {\r\n    console.log(e)\r\n  }\r\n\r\n\r\n\r\n  const onMemberChange = (e) => {\r\n    setOnMember(!onMember)\r\n  }\r\n\r\n\r\n  return (\r\n    <>     \r\n      {ResearchViewInfo &&\r\n      <Form name=\"dynamic_form_nest_item\" className=\"research-form\" onFinish={onFinish} autoComplete=\"off\"\r\n        initialValues={{\r\n          title:ResearchViewInfo.title,\r\n          type:ResearchViewInfo.type,\r\n          upload:ResearchViewInfo.upload,\r\n          alba:ResearchViewInfo.alba,\r\n          intern:ResearchViewInfo.intern,\r\n          secret:ResearchViewInfo.secret,\r\n          member:ResearchViewInfo.member,\r\n          member_check:ResearchViewInfo.member_check,\r\n          option_list:ResearchViewInfo.option,\r\n          etc:ResearchViewInfo.etc,\r\n        }}\r\n      >\r\n        <Form.Item\r\n          name=\"title\"\r\n          rules={[{ required: true, message: '제목을 입력해 주세요.'}]}\r\n        >\r\n          <Input placeholder=\"제목\" />\r\n        </Form.Item> \r\n        <Form.Item \r\n          name=\"type\"\r\n          label=\"유형 선택\"\r\n          rules={[{ required: true, message: '타입을 선택해 주세요.'}]}\r\n        >\r\n          <Radio.Group\r\n            options={typeOptions}\r\n            onChange={onChangeType}\r\n            value={TypeState}\r\n            optionType=\"button\"\r\n          />\r\n        </Form.Item>\r\n        {TypeState && TypeState == 1 &&\r\n          <Form.List name=\"option_list\">\r\n            {(fields, { add, remove }) => (\r\n              <>\r\n                {fields.map(({ key, name, fieldKey, ...restField }) => (\r\n                  <Space key={key} style={{ display: 'flex', marginBottom: 5 }} align=\"baseline\">\r\n                    <Form.Item\r\n                      {...restField}\r\n                      name={[name, 'option']}\r\n                      fieldKey={[fieldKey, 'option']}\r\n                      rules={[{ required: true, message: '항목을 입력해 주세요.' }]}\r\n                    >\r\n                      <Input placeholder=\"항목\" />\r\n                    </Form.Item>                  \r\n                    <MinusCircleOutlined onClick={() => remove(name)} />\r\n                  </Space>\r\n                ))}\r\n                <Form.Item>\r\n                  <Button type=\"dashed\" onClick={() => add()} block icon={<PlusOutlined />}>\r\n                    Add field\r\n                  </Button>\r\n                </Form.Item>\r\n              </>\r\n            )}\r\n          </Form.List>\r\n        }\r\n        {TypeState && TypeState == 3 &&\r\n          <Form.List name=\"option_list\">\r\n            {(fields, { add, remove }) => (\r\n              <>\r\n                {fields.map(({ key, name, fieldKey, ...restField }) => (\r\n                  <Space key={key} style={{ display: 'flex', marginBottom: 5 }} align=\"baseline\">\r\n                    <Form.Item\r\n                      {...restField}\r\n                      name={[name, 'option_q']}\r\n                      fieldKey={[fieldKey, 'option_q']}\r\n                      rules={[{ required: true, message: '질문을 입력해 주세요.' }]}\r\n                    >\r\n                      <Input placeholder=\"질문\" />\r\n                    </Form.Item>     \r\n                    <Form.Item \r\n                      label=\"유형선택\"\r\n                      {...restField}\r\n                      name={[name, 'option_type']}\r\n                      fieldKey={[fieldKey, 'option_type']}\r\n                    >\r\n                      <Select defaultValue=\"0\" onChange={onSelectChange}>\r\n                        <Select.Option value=\"0\">서술형</Select.Option>\r\n                        <Select.Option value=\"1\">체크형</Select.Option>\r\n                        <Select.Option value=\"2\">선택형</Select.Option>\r\n                      </Select>\r\n                    </Form.Item> \r\n                    <Form.Item\r\n                      {...restField}\r\n                      name={[name, 'option_a']}\r\n                      fieldKey={[fieldKey, 'option_a']}\r\n                    >\r\n                      <Input placeholder=\"항목이 있을때만 ,로 구분 하여 작성\" />\r\n                    </Form.Item> \r\n                    <Form.Item\r\n                      {...restField}\r\n                      name={[name, 'option_photo']}\r\n                      label=\"이미지 업로드\"\r\n                      fieldKey={[fieldKey, 'option_photo']}\r\n                      getValueFromEvent={normFile}                      \r\n                    >\r\n                      <Upload name=\"option_upload\" listType=\"picture\">\r\n                        <Button icon={<UploadOutlined />}>Click to upload</Button>\r\n                      </Upload>\r\n                    </Form.Item>\r\n                    <MinusCircleOutlined onClick={() => remove(name)} />\r\n                  </Space>\r\n                ))}\r\n                <Form.Item>\r\n                  <Button type=\"dashed\" onClick={() => add()} block icon={<PlusOutlined />}>\r\n                    Add field\r\n                  </Button>\r\n                </Form.Item>\r\n              </>\r\n            )}\r\n          </Form.List>\r\n        }        \r\n        <Form.Item\r\n          name=\"upload\"\r\n          label=\"이미지 업로드\"\r\n          valuePropName=\"fileList\"\r\n          getValueFromEvent={normFile}\r\n        >\r\n          <Upload name=\"logo\" listType=\"picture\">\r\n            <Button icon={<UploadOutlined />}>Click to upload</Button>\r\n          </Upload>\r\n        </Form.Item>\r\n        <div className=\"flex-box\">\r\n          <Form.Item\r\n            name=\"alba\"\r\n            valuePropName=\"checked\"\r\n            style={{marginRight:\"13px\"}}\r\n          >\r\n            <Checkbox>알바 제외</Checkbox>\r\n          </Form.Item> \r\n          <Form.Item\r\n            name=\"intern\"\r\n            valuePropName=\"checked\"\r\n            style={{marginRight:\"13px\"}}\r\n          >\r\n            <Checkbox>인턴 제외</Checkbox>\r\n          </Form.Item> \r\n          <Form.Item\r\n            name=\"secret\"\r\n            valuePropName=\"checked\"            \r\n            style={{marginRight:\"13px\"}}\r\n          >\r\n            <Checkbox>결과 비공개</Checkbox>\r\n          </Form.Item>\r\n          <Form.Item\r\n            name=\"member\"\r\n            valuePropName=\"checked\"\r\n            onChange={onMemberChange}\r\n          >\r\n            <Checkbox>제외 선택</Checkbox>\r\n          </Form.Item> \r\n        </div>\r\n        {onMember &&\r\n          <>\r\n            <Form.Item name=\"member_check\">\r\n              <Checkbox.Group>\r\n                <Row>                \r\n                {TotalUser && TotalUser.map((el,idx)=>(\r\n                  <Col span={4}>\r\n                    <Checkbox key={idx} value={el.uid}>{el.name}({el.part})</Checkbox>\r\n                  </Col>\r\n                ))}\r\n                </Row>\r\n              </Checkbox.Group>\r\n            </Form.Item>\r\n          </>\r\n        }\r\n        <Form.Item\r\n          name=\"etc\"          \r\n          rules={[{ required: true}]}\r\n        >\r\n          <Input.TextArea placeholder=\"설명\" />\r\n        </Form.Item>  \r\n        <Form.Item\r\n          label=\"날짜설정\" style={{marginBottom:\"7px\"}}\r\n        >\r\n          <Switch onChange={dateLimit} />\r\n        </Form.Item>\r\n        {DateLimitState &&\r\n          <Form.Item\r\n            name=\"time_limit\"\r\n          >\r\n            <RangePicker  \r\n              showTime \r\n              disabledDate={disabledDate} \r\n            />\r\n          </Form.Item>\r\n        }\r\n\r\n        <div className=\"flex-box j-center\" style={{marginTop:\"15px\"}}>\r\n          <Button type=\"primary\" htmlType=\"submit\" style={{width:\"100px\"}}>\r\n            등록하기\r\n          </Button>\r\n          <Button style={{marginLeft:\"5px\"}}>\r\n            <Link ref={btnToList} to=\"/research\">목록으로</Link>\r\n          </Button>\r\n        </div>    \r\n      </Form>\r\n      }\r\n    </>\r\n  )\r\n}\r\n\r\nexport default ResearchTemp\r\n","import React, { useEffect, useState } from \"react\";\nimport { Route, Switch, useHistory } from \"react-router-dom\";\nimport Nav from \"./component/Nav\";\nimport './custom_antd.less';\nimport \"./App.css\";\nimport Join from \"./component/Join\";\nimport Login from \"./component/Login\";\nimport Menu from \"./component/Menu\";\nimport MyOrder from \"./component/MyOrder\";\nimport MyMenu from \"./component/MyMenu\";\nimport AdminProd from \"./component/Admin/AdminProd\";\nimport AdminOrder from \"./component/Admin/AdminOrder\";\nimport AdminOrderList from \"./component/Admin/AdminOrderList\";\nimport LunchAdmin from \"./component/Admin/LunchAdmin\";\nimport Research from \"./component/Research/Research\";\nimport ResearchWrite from \"./component/Research/ResearchWrite\";\nimport ResearchView from \"./component/Research/ResearchView\";\nimport Loading from \"./component/Loading\";\nimport LunchCheck from \"./component/LunchCheck\";\nimport { Layout, Button, BackTop } from \"antd\";\nimport firebase from \"./firebase\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { setUser, clearUser } from \"./redux/actions/user_action\";\nimport { getNotificationPermission } from \"./component/CommonFunc\";\nimport * as antIcon from \"react-icons/ai\";\n//import Logo from \"./img/logo.svg\";\n//import Logo from \"./img/logo_2021_spring.png\";\n//import Logo_PC from \"./img/logo_2021_summer_pc.png\";\n//import Logo from \"./img/logo_2021_summer.png\";\nimport Logo_PC from \"./img/logo_2021_fall_pc.png\";\nimport Logo from \"./img/logo_2021_fall.png\";\nimport Test from \"./component/Test\";\nimport UserAdmin from \"./component/Admin/UserAdmin\";\nimport Hair from \"./component/hair/Hair\";\nimport HairAdmin from \"./component/Admin/HairAdmin\";\nimport AdminProdCount from \"./component/Admin/AdminProdCount\";\nimport ResearchModify from \"./component/Research/ResearchModify\";\nimport ResearchTemp from \"./component/Research/ResearchTemp\";\n\nconst { Sider, Content, Header } = Layout;\n\nfunction App(props) {\n  function isDesktopOS(){\n    return ( 'win16|win32|win64|windows|mac|macintel|linux|freebsd|openbsd|sunos'.indexOf(navigator.platform.toLowerCase()) >= 0 ); \n  }\n\n  if(isDesktopOS()){\n    getNotificationPermission();\n  }\n\n  let history = useHistory();\n  let dispatch = useDispatch();\n  const isLoading = useSelector((state) => state.user.isLoading);\n  useEffect(() => {\n    firebase.auth().onAuthStateChanged((user) => {\n      if (user) {\n        firebase\n        .database()\n        .ref(\"users\")\n        .child(user.uid)\n        .once(\"value\", (snapshot) => {\n          console.log(user)\n          let addInfo = {\n            ...user,\n            auth:snapshot.val().auth ? snapshot.val().auth : \"\",\n            call_number:snapshot.val().call_number,\n            favorite:snapshot.val().favorite,\n            role:snapshot.val().role,\n            sosok:snapshot.val().sosok,\n          }\n          \n          history.push(\"/\");\n          dispatch(setUser(addInfo));\n        });\n      } else {\n        history.push(\"/login\");\n        dispatch(clearUser());\n      }\n    });\n  }, []);\n  \n\n  // 스크롤 이벤트 핸들러\n  const [TopFix, setTopFix] = useState(false);\n  const [TopFixLeft, setTopFixLeft] = useState(false);\n  const handleScroll = () => {\n    let scrollTop = document.documentElement.scrollTop;\n    if (scrollTop >= 130) {\n      setTopFixLeft(true);\n    } else {\n      setTopFixLeft(false);\n    }\n    if (scrollTop >= 80) {\n      setTopFix(true);\n    } else {\n      setTopFix(false);\n    }\n  };\n\n  useEffect(() => {\n    window.addEventListener(\"scroll\", handleScroll);\n    return () => {\n      window.removeEventListener(\"scroll\", handleScroll);\n    };\n  });\n  if (isLoading) {\n    return (\n      <>\n        <Layout className={TopFix && \"top-fix\"}>\n          <Header className=\"header-box\">\n            <a href=\"/\">\n              <img className=\"top-logo\" src={Logo_PC} alt=\"\" />\n              <img className=\"top-logo-m\" src={Logo_PC} alt=\"\" />\n            </a>\n          </Header>\n          <Layout>\n            <div className=\"content-box\">\n              <Sider className={\"nav-wrap \" + (TopFixLeft && \"fix\")}>\n                <Nav />\n              </Sider>\n              <Content>\n                <Loading />\n              </Content>\n            </div>\n          </Layout>\n        </Layout>\n      </>\n    );\n  } else {\n    return (\n      <>\n        <Layout className={TopFix && \"top-fix\"}>\n          <Header className=\"header-box\">\n            <a href=\"/\">\n              <img className=\"top-logo\" src={Logo_PC} alt=\"\" />\n              <img className=\"top-logo-m\" src={Logo} alt=\"\" />\n            </a>\n          </Header>\n          <Layout>\n            <div className=\"content-box\">\n              <Sider className={\"nav-wrap \" + (TopFixLeft && \"fix\")}>\n                <Nav />\n              </Sider>\n              <Content>\n                <Switch>\n                  <Route exact path=\"/\" component={Menu} />\n                  <Route exact path=\"/login\" component={Login} />\n                  <Route exact path=\"/join\" component={Join} />\n                  <Route exact path=\"/myorder\" component={MyOrder} />\n                  <Route exact path=\"/mymenu\" component={MyMenu} />\n                  <Route exact path=\"/lunch\" component={LunchCheck} />\n                  <Route exact path=\"/admin/prod\" component={AdminProd} />\n                  <Route exact path=\"/admin/prod_count\" component={AdminProdCount} />\n                  <Route exact path=\"/admin/order\" component={AdminOrder} />\n                  <Route exact path=\"/admin/lunch\" component={LunchAdmin} />\n                  <Route exact path=\"/admin/order_list\" component={AdminOrderList}/>\n                  <Route exact path=\"/research\" component={Research} />\n                  <Route exact path=\"/research_write\" component={ResearchWrite} />\n                  <Route exact path=\"/research_modify\" component={ResearchModify} />\n                  <Route exact path=\"/research_temp\" component={ResearchTemp} />\n                  <Route exact path=\"/research_view\" component={ResearchView} />\n                  <Route exact path=\"/hair\" component={Hair} />\n                  <Route exact path=\"/admin/user_admin\" component={UserAdmin} />\n                  <Route exact path=\"/admin/hair\" component={HairAdmin} />\n                  <Route exact path=\"/test\" component={Test} />\n                </Switch>\n              </Content>\n              <BackTop>\n                <Button\n                  type=\"primary\"\n                  shape=\"circle\"\n                  className=\"btn-top-move\"\n                  icon={<antIcon.AiOutlineArrowUp />}\n                />\n              </BackTop>\n            </div>\n          </Layout>\n        </Layout>\n      </>\n    );\n  }\n}\n\nexport default App;\n","import { CLEAR_USER, SET_USER } from \"./types\";\n\nexport const setUser = (user) => {\n  return {\n    type: SET_USER,\n    payload: user,\n  };\n};\n\nexport const clearUser = (user) => {\n  return {\n    type: CLEAR_USER,\n  };\n};\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { SET_USER } from \"../actions/types\";\nimport { CLEAR_USER } from \"../actions/types\";\n\nconst initState = {\n  currentUser: null,\n  isLoading: true,\n};\n\nconst user = (state = initState, action) => {\n  switch (action.type) {\n    case SET_USER:\n      return {\n        ...state,\n        currentUser: action.payload,\n        isLoading: false,\n      };\n    case CLEAR_USER:\n      return {\n        ...state,\n        currentUser: null,\n        isLoading: false,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default user;\n","import { combineReducers } from \"redux\";\nimport user from \"./user_reducer\";\n\nconst rootReducer = combineReducers({\n  user\n});\n\nexport default rootReducer;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport \"antd/dist/antd.css\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { Provider } from \"react-redux\";\nimport { createStore, applyMiddleware } from \"redux\";\nimport promiseMiddleware from \"redux-promise\";\nimport ReduxThunk from \"redux-thunk\";\nimport Reducer from \"./redux/reducers\";\n\nconst createStoreWithMiddleware = applyMiddleware(\n  promiseMiddleware,\n  ReduxThunk\n)(createStore);\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider\n      store={createStoreWithMiddleware(\n        Reducer,\n        window.__REDUX_DEVTOOLS_EXTENSION__ &&\n          window.__REDUX_DEVTOOLS_EXTENSION__()\n      )}\n    >\n      <Router>\n        <App />\n      </Router>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\nreportWebVitals();\n"],"sourceRoot":""}